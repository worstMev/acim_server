{"version":3,"sources":["userTypes.js","components/login/loginData.js","components/login/index.js","components/layout/index.js","res/logo/base_logo_sans_texte_2.png","socket_io/socket_io.js","components/foldableDiv/index.js","res/icon/green_dot.png","res/icon/check.png","res/icon/red_dot.png","components/intervention/index.js","res/icon/cross.png","components/toDoList/index.js","urgent.js","components/notif/index.js","components/notifHistory/index.js","components/notifsList/index.js","utils/dropDown.js","components/utils/dropDown/index.js","components/materielSelector/index.js","components/multiMaterielSelector/index.js","generateDocx/generate.js","components/interventionDecharge/index.js","components/interventionSimple/index.js","res/icon/yellow_dot.png","components/agenda/index.js","components/interventionTypeCreator/index.js","components/problemeTechTypeCreator/index.js","components/createIntervention/index.js","components/activeUsers/index.js","components/techActivityDisplay/index.js","components/techActivity/index.js","components/dashboard/index.js","components/notifHistoryTech/index.js","components/notifsHistory/index.js","components/problemeTechConstate/index.js","components/interventionLog/index.js","components/interventionPage/index.js","functions/index.js","components/interventionHistoryControl/index.js","components/interventionHistoryAffichage/index.js","components/interventionHistory/index.js","components/messageRoom/index.js","components/messagePage/index.js","components/interventionTimeline/index.js","components/mytask/index.js","components/agendaTimeline/index.js","components/bigAgenda/index.js","components/annonceList/index.js","components/annoncePage/index.js","components/appHeader/index.js","res/icon/user.png","components/rapportActivite/index.js","res/son/correct_notif.wav","res/son/notif1.wav","components/main/index.js","components/ask/index.js","components/notifyHeader/index.js","components/history/index.js","components/interventionNotification/index.js","res/son/flute_notif.wav","components/notify/index.js","components/protectedRoute/index.js","App.js","reportWebVitals.js","index.js"],"names":["User","text","code","computeHmac","key","a","cryptojs","HmacMD5","computedHash","hexaComputedHash","SERVER_BASE_URL","postRequest","url","data","axiosInstance","axios","create","baseURL","post","response","console","log","authenticateUsername","username","usernameIsValid","authenticate","password","found","isAuthenticated","row","num_user","type_user","Login","props","changeSubmittedUsername","event","setState","submittedUsername","target","value","changeSubmittedPassword","submittedPassword","checkCredentials","preventDefault","state","setCredentials","logged","computedHash_USER","computedHash_TECH_MAIN","history","push","className","src","alt","id","onSubmit","this","type","placeholder","onChange","autoFocus","onClick","React","Component","Layout","children","to","socket","io","autoConnect","onAny","args","mySocket","connect","auth","disconnect","offAny","FoldableDiv","flipFold","newFolded","folded","foldableStyle","title","titleStyle","maxHeight","minHeight","style","Intervention","showDetails","detailsAreShown","goToIntervention","num_intervention","showSub","sumStyle","interventionStyle","timeStyle","infoStyle","childElements","isChild","intervention","date_programme","libelle_lieu","motif","intervention_type","commentaire","libelle_intervention_type","tech_main_username","numero","done","probleme_resolu","libelle_probleme_tech_type","code_intervention_type","isParent","length","detailStyle","display","height","checkElement","check","redCrossElement","doneElement","pbElement","selected","background","border","map","item","index","detailsElement","Date","toLocaleDateString","toLocaleTimeString","hour","minute","substring","ToDoList","componentDidMount","emit","num_tech_main","on","listUndoneIntervention","newList","num_intervention_pere","libelle","setNbInterventionUndone","endOfDay","setHours","getTime","newListLate","filter","newListToday","interventionDate","newListFuture","interventionListUndone","interventionListUndoneLate","interventionListUndoneToday","interventionListUndoneFuture","clickOnToDoList","componentWillUnmount","off","displayToDo","list","retardTitle","todayTitle","futureTitle","allTitle","topText","color","Urgent","ToDo","commandAreShown","showCommand","do","delai","num_notification","notif","num_app_user_tech_main","notifRef","current","createRef","statutStyle","probleme_type","lieu","statut_code","borderLeft","fontWeight","ref","statut_libelle","date_envoie","remarque","sender_username","Notif_history","showInfoOf","date_reponse","href","NotifsList","displayNotif","session","notifsList","newUnansweredNotifsList","user_sender_username","probleme_code","statut","toLocaleString","setNbNewNotif","unansweredNotifsList","createdNotif","setTimeout","notifsToday","newNotifsToday","todayNotifsElement","onClickOnNotifsList","DropDown","optionArray","array","objArray","defaultValue","selectedValue","e","MaterielSelector","updateLieu","materiels","firstType","Object","getOwnPropertyNames","materielsList","objMateriel","num","config","selectedLieu","selectedMaterielType","materielTypes","materielList","updateMaterielType","updateMateriel","updateConfig","selectedNumMateriel","sortMaterielsByType","types","sortedMateriels","num_materiel_type","num_materiel","libelle_materiel","libelle_materiel_type","lieus","materielsListLieu","nd","num_lieu","unshift","MultiMaterielSelector","listMateriel","maxLength","maxListMaterielLength","changeListMaterielLength","newLength","slice","dLength","i","setListMateriel","materielElements","materiel","obj","objValue","changeListMateriel","docx","require","saveAs","Document","Packer","Paragraph","TextRun","InterventionDecharge","control","disabled","tomorrowDate","setDate","getDate","useState","setMateriels","dateDebut","setDateDebut","dateFin","setDateFin","num_decharge","downloadDechargeDoc","formatDate","materielsValide","date","debut","fin","day","month","getMonth","year","getFullYear","InterventionSimple","toggleShowMenu","newShowMenu","showMenu","menuStyle","heure_programme","greenDotElement","green_dot","redDotElement","red_dot","width","minWidth","maxWitdh","Agenda","setSelectedInterv","interv","selectedInterv","setFreeDate","setSelectedDate","freeTime","setMilliseconds","toISOString","replace","close","intervByDay","date_debut","date_fin","headerDisplay","showHeader","agendaElements","AgendaDay","listInterv","intervList","textDisplay","intervs","getHours","updateSelectedInterv","split","dayDD","monthMM","yearYY","dayAt8","imaginaryInterv","chooseDay","InterventionTypeCreator","showIndic","indication","updateLibelle","updateCode","component","newIntervType","indicStyle","required","ProblemeTechTypeCreator","newProblemeTechType","CreateIntervention","updateTypeIntervention","newNumInterventionType","selectedNumInterventionType","updateDateProgramme","newDateProgramme","dateProgramme","dateProgrammeDisplay","newNumLieu","selectedNumLieu","updateMotif","updateProbleme","numLieu","problemeTechTypes","newMotif","selectedNumProblemeTechType","updateCommentaire","createIntervention","message","closePopUp","top","showPopUp","supposedFreeHours","interventionTypeList","lieuList","problemeList","agendaPop","intervTypeCreator","problemeTechTypeCreator","intervention_types","newInterventionList","num_intervention_type","newSelectedNumInterventionType","location","newLieuList","probleme_tech_types","probleme_tech_type","num_probleme_tech_type","newProblemeList","blem","dateFree","startAgenda","endAgenda","ActiveUsers","updateSelectedNumUser","user","setSelectedUser","connectedList","allUserList","tech_mains","sort","b","connected_tech_mains","newSelectedUser","selectedUser","active","includes","newMs","elements","UserListItem","isSelf","nbNewMessage","pStyle","borderBottom","borderRight","TechActivityDisplay","listPendingIntervention","listDoneTodayIntervention","tech","undoneInterventions","pendingInterventions","doneTodayInterventions","prevProps","prevState","indic","undoneTitle","pendingTitle","doneTitle","undoneElements","pendingElements","doneTodayElements","resetUser","TechActivity","updateSelectedUser","Dashboard","nbInterventionUndonePlus","nb","newNb","parseInt","nbInterventionUndone","nbNewNotificationPlus","nbNewNotification","match","path","mainDashboardStyle","activeClassName","exact","from","render","routeProps","NotifHistoryTech","NotifsHistory","notifsTab","newNotifsTab","usersList","componentDidUpdate","showNotifs","usersOption","ProblemeConstate","problemeTechTypeArray","lieuArray","numProblemeTechType","onChangeProblemeTechType","onChangeLieu","onChangeRemarque","InterventionLog","etapes","changeEtapesLength","dE","updateLog","join","logElements","etape","newEtape","newEtapes","changeEtape","InterventionPage","newMateriels","updateProblemeTechType","newNumProblemeTechType","updateRemarque","newRemarque","newLog","updatePwd","newPwd","pwd","startIntervention","techMainIsAuth","endIntervention","resolu","updateIntervention","probleme_constate","openCreateIntervention","closeSub","getDecharge","s_URL","URL","document","m_path","port","pathname","window","open","getDechargeDoc","newDecharge","newIntervention","log_info_tab","log_info_elements","log_info","lieu_probleme_tech","num_decharge_info","childButton","info","child","downloadDecharge","InterventionHistoryControl","updateTechMain","techMains","setTechMain","updateDateDebut","newDebut","updateDateFin","newFin","updateStatut","newStatut","statuts","setStatut","updateNumIntervention","setNumIntervention","updateNumInterventionType","setNumInterventionType","tech_mainList","statutList","interventionTypes","0","1","2","3","newTech_mainList","newInterventionTypes","tech_main","statutValue","InterventionHistoryAffichage","displayInterventions","interventions","statut_text","date_text","tech_main_username_text","InterventionHistory","st","setFullYear","interventionList","num_interevnetion","minDate","MessageRoom","updateContenu","newContenu","sendMessage","messages","uuidV4","newMessageDisplay","sent","time_sent","contenu","newMessage","num_sender","receivers","newMessages","scrollDown","scroll","myScroll","scrollTop","scrollHeight","clickOnMessageRoom","unseenMessagesByMe","ms","seen","time_seen","num_message","find","msIn","contenu_message","envoyeur_username","recepteur_username","date_reception","num_app_user_envoyeur","tim_seen","updatedMessages","updatedMessagesId","indexInUpdateMessage","findIndex","messagesElements","MessageElement","divStyle","fromDisplay","diStyle","justifyContent","margin","MessagePage","selectedUserFromState","selected_app_user_recepteur","setSelected_app_user_recepteur","setNbNewMessageToZero","InterventionTimeline","nbDay","end","getDay","start","uuidv4","sortByHour","daySlotElemenst","slotElements","SlotTimeLine","res","intervHour","startHour","newFreeTime","intervElements","onDoubleClick","MyTask","AgendaTimeline","dates","statsPerDate","stats","nb_intervention","BigAgenda","showTimeline","setShowTimeline","checked","AnnonceList","onClickAnnonceList","unseenAnnonces","annonces","annonce","reverse","annoncesElements","Annonce","AnnoncePage","setContenu","annonce_id","AppHeader","logo","logOut","RapportActivite","getRapport","updateDebut","updateFin","btText","formatted_date_debut","formatted_date_fin","Main","newShowSub","numSelectedIntervention","setNbNewMessage","onClickNotif","popUp","newNewNotifs","newNotifs","pop","newNotif","now_2","date_notif","newNbNewNotification","notifSound","play","newNewMessageNotifs","newMessageNotifs","popUpMessage","messageSound","newAnnonce","nbNewAnnonce","removeAllListeners","showNewNotifs","probleme_statut_code","probleme_statut","onClickMessageNotif","sender","onClickAnnonceNotif","goToCreateIntervention","showNewMessageNotifs","msNotif","onClickFunc","userFrom","is_annonce","showNav","newShowNav","closeNav","Audio","notif1","notifMessage","displayStyle","subStyle","navStyle","subDisplayChildrenStyle","screenWidth","Math","max","documentElement","clientWidth","innerWidth","today","todayPlus28","mainTabStyle","nbNewNotificationToZero","Ask","updateProblem","problem","updateProblemType","num_probleme_type","updateProblemStatut","num_probleme_statut","listProblem","newListProblem","listProblemStatut","newListProblemStatut","listLieu","newListLieu","nbNewNotifsPlus","componentDidupdate","sendNotifs","selectedProblemTypeCode","newProblem","num_app_user_user","indicationStyle","opacity","right","History","nbNewNotifsToZero","Intervention_notification","notifList","new_interventionTab","lieu_libelle","interventionTab","displayListInterevention","Notify","nbNewNotifs","showNotif","hideNotif","showSubWithInfo","formatNotifsList","notify_notif_pop","date_envoie_formatted","openAnnonce","message_notifs_pop","flute_notif","newNotifsList","now_10","tabDisplayStyle","messageNotifDisplay","TabDisplay","ProtectedRoute","determineRender","conditionIn","redirectRender","App","cred","localStorage","getItem","t_u","t_t","nextProps","nextState","setItem","redirectTo","determineRootRedirect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.111d6f8f.chunk.js","sourcesContent":["import cryptojs from 'crypto-js';\r\nexport const User = {\r\n    TECH_MAIN : { \r\n        text :'technicien de maintenance',\r\n        code : 'TECH_MAIN',\r\n    },\r\n    USER : {\r\n        text : 'utilisateur',\r\n        code : 'USER',\r\n    },\r\n    DASH : { \r\n        text : 'tableau de bord',\r\n        code : 'DASH',\r\n    },\r\n}\r\n\r\nexport async function computeHmac( text , key ) {\r\n    let computedHash = await cryptojs.HmacMD5(text, key);\r\n    const hexaComputedHash ='\\\\x'+computedHash;\r\n    return hexaComputedHash;\r\n}\r\n","import axios from 'axios';\r\n\r\nconst SERVER_BASE_URL = 'http://localhost:3500/ajax/acim';\r\n\r\nasync function postRequest(url,data) {\r\n    const axiosInstance = axios.create({\r\n        baseURL : SERVER_BASE_URL,\r\n    });\r\n    let response;\r\n    try{\r\n        response = await axiosInstance.post(url,data);\r\n        return response;\r\n    }catch(err){\r\n        console.log(`error to fetch data from ${SERVER_BASE_URL}${url}`);\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport async function authenticateUsername (username) {\r\n    const url = '/authenticate/username';\r\n    const data = { username };\r\n    let response;\r\n    try{\r\n        response = await postRequest(url,data);\r\n        console.log(' username  :'+username+' is valid '+response.data.usernameIsValid);\r\n        return {\r\n            usernameIsValid : response.data.usernameIsValid,\r\n        };\r\n    }catch(err){\r\n        console.log(`error in authenticateUsername`);\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport async function authenticate( username , password ) {\r\n    const url   = '/authenticate';\r\n    const data  = { username , password };\r\n    let response ;\r\n    try{\r\n        response = await postRequest(url,data);\r\n        console.log( ' authentication success for '+username+' ' + response.data.found );\r\n        return {\r\n            isAuthenticated : response.data.found,\r\n            username : response.data.row.username,\r\n            num_user : response.data.row.num_user,\r\n            type_user : response.data.row.type_user,\r\n        }\r\n    }catch(err){\r\n        console.log('error in authenticate');\r\n        console.log(err);\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './index.css';\r\nimport { User, computeHmac } from './../../userTypes.js';\r\nimport { authenticateUsername, authenticate } from './loginData';\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            usernameIsValid : false,\r\n            submittedUsername : '',\r\n            submittedPassword : '',\r\n        }\r\n    }\r\n\r\n    changeSubmittedUsername = (event) => {\r\n       this.setState({\r\n           submittedUsername : event.target.value,\r\n       });\r\n    }\r\n\r\n    changeSubmittedPassword = (event) => {\r\n       this.setState({\r\n           submittedPassword : event.target.value,\r\n       });\r\n    }\r\n    checkCredentials = async (event) => {\r\n        event.preventDefault();\r\n        if( !this.state.usernameIsValid && this.state.submittedUsername) {\r\n            const response = await authenticateUsername(this.state.submittedUsername);\r\n            console.log(response);\r\n            this.setState({\r\n                usernameIsValid : response.usernameIsValid,\r\n            });\r\n        }else{\r\n            console.log('authenticate username/password');\r\n            try{\r\n                const response = await authenticate(this.state.submittedUsername , this.state.submittedPassword);\r\n                console.log(response);\r\n                if( response.isAuthenticated ){\r\n                    this.props.setCredentials({\r\n                        logged : true,\r\n                        num_user : response.num_user,\r\n                        username : response.username,\r\n                        type_user   : response.type_user,\r\n                    });\r\n                    //console.log(' type_user from server '+ response.type_user);\r\n                    let computedHash_USER = await computeHmac(User.USER.code, response.username);\r\n                    let computedHash_TECH_MAIN = await computeHmac(User.TECH_MAIN.code, response.username);\r\n                    if ( response.type_user === computedHash_USER ) this.props.history.push('/notify');\r\n                    if( response.type_user === computedHash_TECH_MAIN ) this.props.history.push('/acim');\r\n                }\r\n            }catch(err){\r\n                console.log('error in checkCrendentials' , err);\r\n            }\r\n        }\r\n        //check for username , if valid > usernameIsValid = true , submittedUsername = username . done\r\n        //if usernameIsValid , check for submittedUsername&&password , if valid : hitsory.push('/dashboard');\r\n    }\r\n    render (){\r\n        return (\r\n            <div className=\"login\">\r\n                <div>\r\n                    <img src=\"./base_logo_sans_texte_2.png\" alt=\"mndpt|acim\" id=\"logo\"/>\r\n                </div>\r\n                <form className = \"login_form\" onSubmit={this.checkCredentials}>\r\n                    { (this.state.usernameIsValid) ? \r\n                        <input type=\"password\" placeholder=\"mot de passe\" value={this.state.submittedPassword} onChange={this.changeSubmittedPassword} autoFocus={true}/>\r\n                        :\r\n                        <input type=\"text\" placeholder=\"utilisateur\" value={this.state.submittedUsername} onChange={this.changeSubmittedUsername} autoFocus={true}/>\r\n                    }\r\n                    <button className=\"my-button login-button\" onClick={this.checkCredentials}> {\">\"} </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './index.css';\r\n\r\nexport default class Layout extends React.Component {\r\n    render(){\r\n      return (  \r\n        <div id=\"layout\">\r\n            <main>\r\n                {this.props.children}\r\n            </main>\r\n            <footer>\r\n              <Link to=\"/\">home</Link>\r\n              <Link to=\"/info\">info</Link>\r\n              <Link to=\"/acim\">acim</Link>\r\n              <Link to=\"/notify\">notify</Link>\r\n            </footer>\r\n        </div>\r\n     );\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/base_logo_sans_texte_2.014a3326.png\";","import { io } from 'socket.io-client';\n\nconst socket = io('http://localhost:3500', {\n\tautoConnect : false ,\n});\n\nsocket.onAny((event , ...args) => {\n    console.log(`-- ${event} `, args);\n});\n\nexport const mySocket = {\n    socket ,\n    connect : (username , type_user , num_user) => {\n        console.log( username , type_user , num_user );\n        //connect socket\n        console.log(socket);\n        socket.auth = {\n            username,\n            type_user,\n            num_user,\n        };\n        socket.connect();\n    },\n    disconnect : () => {\n        console.log('my socket disconnect ');\n        socket.offAny();\n        socket.disconnect();\n    }\n}\n","import './index.css'\nimport React , { Component } from 'react';\n\nexport default class FoldableDiv extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            folded : this.props.folded,\n        }\n    }\n\n    flipFold = () => {\n        let newFolded = !(this.state.folded);\n        this.setState({\n            folded : newFolded,\n        });\n    }\n    render () {\n        let {\n            children,\n            title,\n            titleStyle,\n        } = this.props;\n        let {\n            folded\n        } = this.state;\n        let foldableStyle ;\n        if( folded ){\n            foldableStyle = {\n                ...foldableStyle,\n                maxHeight : '50px',\n                minHeight : '50px',\n            };\n        }else{\n            foldableStyle = {\n                ...foldableStyle,\n                maxHeight : '500px',\n            }\n\n        }\n        return (\n            <div className = \"foldableDiv\" style={foldableStyle} >\n                <div className = \"foldableDiv-title\" style={titleStyle} onClick={this.flipFold}>\n                    <p> {title} </p>\n                    <button onClick={this.flipFold}>{(folded) ? 'v':'^'} </button>\n                </div>\n                <div className = \"foldableDiv-children\">\n                    {children}\n                </div>\n            </div>\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import './index_new.css';\nimport vertical_dot from './../../res/icon/vertical-dots.png';\nimport React from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport green_dot from './../../res/icon/green_dot.png';\nimport red_cross from './../../res/icon/cross.png';\nimport check from './../../res/icon/check.png';\nimport red_dot from './../../res/icon/red_dot.png';\n\n/*\n * props :\n * - intervention\n * - isChild : for children of intervention\n * - showSub : to show the interventionPage of the intervention\n */\nexport default class Intervention extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n        }\n    }\n    showDetails = () => {\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n    goToIntervention = (num_intervention) => {\n        //alert('open /intervention/'+num_intervention);\n        //this.props.history.push(`/intervention/${num_intervention}`);\n        this.props.showSub(num_intervention);\n    }\n    render () {\n        let {\n            isChild,\n        } = this.props;\n        let { date_programme ,\n            num_intervention, \n            libelle_lieu,\n            motif,\n            intervention_type,\n            commentaire,\n            libelle_intervention_type,\n            tech_main_username,\n            numero,\n            done,\n            probleme_resolu,\n            libelle_probleme_tech_type,\n            code_intervention_type,\n            children\n        } = this.props.intervention;\n\n        let isParent = (children) &&  (children.length > 0);\n        let sumStyle ;\n        let interventionStyle ;\n        let timeStyle ;\n        let infoStyle;\n        let detailStyle = {\n            display : \"none\",\n            height : \"0\",\n        };\n        let greenDotElement = (<img src={green_dot} />);\n        let checkElement = (<img src={check} />);\n        let redCrossElement = (<img src={red_cross} />);\n        let redDotElement = (<img src={red_dot} />);\n        let doneStyle = {\n            //background : 'red',\n            //width : '20px',\n            //minWidth : '20px',\n           // maxWidth : '20px',\n            //height : 'auto',\n        };\n        let okStyle = {\n            //background : 'red',\n            //width : '20px',\n            //minWidth : '20px',\n            //maxWidth : '20px',\n            //height : 'auto',\n        };\n        let doneElement  = redCrossElement;\n        let pbElement  = redCrossElement;\n\n        if(this.state.detailsAreShown){\n            detailStyle = {\n                height : \"45%\",\n            };\n            sumStyle = {\n                //height : \"65%\",\n            };\n            interventionStyle = {\n                //height : \"fit-content\", only -moz-fit-content works in firefox and only fit-content works in chrome\n                height : \"auto\",\n            }\n\n        }\n\n        if(done) {\n            doneElement = checkElement;\n        }\n        if(probleme_resolu){\n            pbElement = checkElement;\n        }         \n\n        if( this.props.selected ) {\n            interventionStyle = {\n                ...interventionStyle,\n                background : 'rgb(169, 200, 247)',\n            }\n        }\n        if( done ){\n            if( probleme_resolu){\n                infoStyle = {\n                    ...infoStyle,\n                };\n                interventionStyle = {\n                    ... interventionStyle,\n                    background : '#2c9b8561',\n                };\n                timeStyle = {\n                    ... timeStyle,\n                };\n                detailStyle = {\n                    ...detailStyle,\n                };\n            }else{\n                infoStyle = {\n                    ...infoStyle,\n                };\n                interventionStyle = {\n                    ... interventionStyle,\n                    background : '#f3b84457',\n                    border : '3px solid #f3bc4e',\n                };\n                timeStyle = {\n                    ... timeStyle,\n                };\n                detailStyle = {\n                    ...detailStyle,\n                };\n            }\n        }else{\n            infoStyle = {\n                ...infoStyle,\n                //borderLeft : '10px solid red',\n            };\n            interventionStyle = {\n                ... interventionStyle,\n                background : '#ff000069',\n                border : '3px solid red',\n            };\n            timeStyle = {\n                ... timeStyle,\n            };\n            detailStyle = {\n                ...detailStyle,\n            };\n        }\n        infoStyle = {\n            ...infoStyle,\n            //borderRadius : '0 5px 5px 0',\n        }\n\n        let childElements;\n        if(children){\n            childElements = children.map( (item,index) => \n                <Intervention \n                    key={item.num_intervention} \n                    intervention={item} \n                    showSub={this.props.showSub}\n                    />\n            );\n        }\n\n        let detailsElement = (\n                <div className=\"toDo-details\" style={detailStyle} >\n                    <p> Type : {libelle_intervention_type} - {commentaire} </p>\n                    <p> Motif : {motif} </p>\n                    <p> Lieu : {libelle_lieu} </p>\n                    <p> Cre par : {tech_main_username} </p>\n                    <p> ID intervention : {num_intervention} </p>\n                    <p> Probleme constat : { (libelle_probleme_tech_type) ? libelle_probleme_tech_type : 'ND'} </p>\n                    <p> { (done) ? 'EFFECTUE' : 'NON-EFFECTUE' } et {(probleme_resolu) ? 'RESOLU' : 'NON-RESOLU' } </p>\n                    { isParent &&\n                        <FoldableDiv title = \"Suite ... \" folded={true}>\n                            <div className =\"childList\">\n                                {childElements}\n                            </div>\n                        </FoldableDiv>\n                    }\n                    \n                    <button onClick={() => this.goToIntervention(num_intervention)} className=\"myButton\"  >\n                        { (this.props.selected) ? 'Fermer' : 'Ouvrir' }\n                    </button>\n                </div>\n        );\n\n                    //<p> { (done) ? 'EFFECTUE' : 'NON-EFFECTUE' } et {(probleme_resolu) ? 'RESOLU' : 'NON-RESOLU' } </p>\n       \n        return (\n            <div className=\"toDo\" style={interventionStyle} >\n                <div className=\"toDo-sum\" style={sumStyle} >\n                    <div className=\"time\" style={timeStyle} > \n                        <div className=\"date\">\n                            {new Date(date_programme).toLocaleDateString('fr-FR')} \n                        </div>\n                        <div className=\"hour\">\n                            {new Date(date_programme).toLocaleTimeString('fr-FR', {hour : '2-digit' , minute : '2-digit'})}\n                        </div>\n                    </div>\n                    <div className=\"info\" style={infoStyle}>\n                        <div className=\"dots\">\n                            <div className=\"done\" style={doneStyle}>\n                                {doneElement}\n                                <p> Effectu </p>\n                            </div>\n                            <div className=\"probleme_resolu\" style={okStyle}>\n                                {pbElement}\n                                <p> Probleme rsolue </p>\n                            </div>\n                        </div>\n                        <div className=\"tache_description\">\n                            <p id=\"tache_description\"> {intervention_type || libelle_intervention_type} - {libelle_lieu} </p>\n                        </div>\n                        <p id=\"tech_main_username\"> {tech_main_username} </p>\n                        <p> #{numero} <br/> {code_intervention_type} <br/> {num_intervention.substring(0,8)}</p>\n                    </div>\n                </div>\n                {detailsElement}\n                <div className=\"details-bt\">\n                    <button onClick={this.showDetails} className=\"myButton\"> \n                        Details\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","import './index.css';\r\nimport React from 'react';\r\n//import ToDo from './../toDo';\r\nimport Intervention from './../intervention';\r\nimport FoldableDiv from './../foldableDiv';\r\n\r\n/*\r\n * prop : num_tech_main to define by who the intervetions have been created if none then all intervention are shown\r\n *         - showSub to show the display for intervention\r\n *         - setNbInterventionUndone\r\n * */\r\n\r\nexport default class ToDoList extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            interventionListUndone : [],\r\n            interventionListUndoneLate : [],\r\n            interventionListUndoneToday : [],\r\n            interventionListUndoneFuture : [],\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        console.log('ToDoList did mount');\r\n        this.props.socket.emit('get undone intervention' , this.props.num_tech_main);\r\n        this.props.socket.on('list undone intervention' , (listUndoneIntervention) => {\r\n            console.log('list undone intervention' , listUndoneIntervention);\r\n            let newList = listUndoneIntervention.map( (item,index) => ({\r\n                num_intervention : item.num_intervention,\r\n                num_intervention_pere : item.num_intervention_pere,\r\n                date_programme : item.date_programme,\r\n                libelle_lieu : item.libelle,\r\n                libelle_intervention_type : item.libelle_intervention_type,\r\n                tech_main_username : item.username,\r\n                motif : item.motif,\r\n                numero : index + 1,\r\n                done : item.done,\r\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\r\n                code_intervention_type : item.code_intervention_type,\r\n                children : item.children,\r\n                commentaire : item.commentaire,\r\n            }));\r\n            console.log('new list intervention undone' , newList);\r\n            if(this.props.setNbInterventionUndone){\r\n                this.props.setNbInterventionUndone(newList.length);\r\n            }\r\n            let endOfDay = new Date(new Date().setHours(23,59,59)).getTime();\r\n            let newListLate = newList.filter( item => new Date(item.date_programme).getTime() <= new Date().getTime() ); \r\n            let newListToday = newList.filter( item => {\r\n                let interventionDate = new Date(item.date_programme).getTime() ;\r\n                let startOfDay  = new Date(new Date().setHours(0,0,0)).getTime();\r\n               \r\n                return ( interventionDate > startOfDay && interventionDate <= endOfDay );\r\n            });\r\n            let newListFuture = newList.filter( item => {\r\n                let interventionDate = new Date(item.date_programme).getTime() ;\r\n                return ( interventionDate > endOfDay );\r\n            });\r\n            console.log('newListToday' , newListToday);\r\n            this.setState({\r\n                interventionListUndone : newList,\r\n                interventionListUndoneLate : newListLate,\r\n                interventionListUndoneToday : newListToday,\r\n                interventionListUndoneFuture : newListFuture,\r\n            });\r\n        });\r\n        this.props.socket.on('new intervention' , ()=> {\r\n            console.log('new intervention todolist');\r\n            this.props.socket.emit('get undone intervention');\r\n        });\r\n\r\n        this.props.socket.on('ended intervention' , () => {\r\n            console.log('ended intervention todolist');\r\n            this.props.socket.emit('get undone intervention');\r\n        });\r\n\r\n        this.props.socket.on('intervention data -toDoList' , () => {\r\n            console.log('intervention date -toDoList');\r\n            this.props.socket.emit('get undone intervention');\r\n        });\r\n    }\r\n    \r\n    componentDidUpdate () {\r\n        console.log('update toDoList');\r\n    }\r\n\r\n    clickOnToDoList = () => {\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        console.log('ToDoList will unmount');\r\n        this.props.socket.off('list undone intervention');\r\n        \r\n    }\r\n    displayToDo  = (list) => {\r\n        //return list.map( intervention => <ToDo intervention={intervention} key={intervention.num_intervention}/> );\r\n        return list.map( intervention => <Intervention showSub={this.props.showSub} intervention={intervention} key={intervention.num_intervention}/> );\r\n    }\r\n\r\n    render(){\r\n        \r\n        let{\r\n            interventionListUndoneLate,\r\n            interventionListUndoneToday,\r\n            interventionListUndone,\r\n            interventionListUndoneFuture,\r\n        } = this.state;\r\n        let retardTitle = `En retard : ${interventionListUndoneLate.length}`;\r\n        let todayTitle = `Aujourd'hui : ${interventionListUndoneToday.length}`;\r\n        let futureTitle = `A venir : ${interventionListUndoneFuture.length}`;\r\n        let allTitle = `Toutes : ${interventionListUndone.length}`;\r\n        return (\r\n            <div id=\"toDoList\" onClick={this.clickOnToDoList}>\r\n                <p> {this.props.topText || 'Liste des taches a faire :'} </p>\r\n                    <div className=\"scroll_list\">\r\n                        <FoldableDiv title={retardTitle} titleStyle={{color : 'red'}} folded={true}>\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndoneLate)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                        <FoldableDiv title={todayTitle} >\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndoneToday)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                        <FoldableDiv title={futureTitle} folded={true}>\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndoneFuture)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                        <FoldableDiv title={allTitle} folded={true}>\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndone)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                    </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","export const Urgent = {\r\n    MAX : {\r\n        code : 'MAX',\r\n        libelle : 'tres urgent',\r\n    },\r\n    MID : {\r\n        code : 'MID',\r\n        libelle : 'moyennement urgent',\r\n    },\r\n    MIN : {\r\n        code : 'MIN',\r\n        libelle : 'pas urgent',\r\n    },\r\n}\r\n","import './index.css';\nimport React from 'react';\nimport {Urgent} from './../../urgent.js';\n\nexport default class ToDo extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n            commandAreShown : false,\n        }\n        this.notifRef = React.createRef();\n    }\n    showDetails = () => {\n        if(this.state.commandAreShown) return ;\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n\n    showCommand = () => {\n        \n        this.setState({\n            commandAreShown : !(this.state.commandAreShown) ,\n            detailsAreShown : !(this.state.commandAreShown),\n        });\n    }\n\n    do = (delai=0) => {\n        let num_notification = this.props.notif.num_notification;\n        let num_app_user_tech_main = this.props.num_user;\n        console.log(`do the notif #${num_notification} ${delai} by ${num_app_user_tech_main}`);\n        this.props.socket.emit('tech_main do' , { num_notification , num_app_user_tech_main , delai });\n        this.notifRef.current.style.border = '2px solid green';\n\n    }\n    render () {\n        let {\n            probleme_type,\n            lieu,\n        } = this.props.notif;\n        let style;\n        let sumStyle ;\n        let statutStyle ;\n        let detailStyle ;\n        switch(this.props.notif.statut_code){\n            case Urgent.MAX.code :\n                style = {\n                    borderLeft : '13px solid red',\n                    //borderRight : '3px solid red',\n                };\n                statutStyle = {\n                    color : 'red',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MID.code :\n                style = {\n                    borderLeft : '13px solid yellow',\n                    //borderRight : '3px solid yellow',\n                };\n                statutStyle = {\n                    color : 'yellow',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MIN.code :\n                style = {\n                    borderLeft : '13px solid blue',\n                    //borderRight : '2px solid blue',\n                };\n                statutStyle = {\n                    color : 'blue',\n                //    fontWeight : 'bold',\n                }\n                break;\n             default :\n                break;\n        }\n        if(this.state.detailsAreShown || this.state.commandAreShown){\n            detailStyle = {\n                height : \"80%\",\n            };\n            sumStyle = {\n                height : \"15%\",\n            };\n            style = {\n                ...style,\n                height : \"300px\",\n            }\n\n        }\n        return (\n            <div className=\"notif\" style={style} ref={this.notifRef}>\n                <div className=\"notif-sum\" style={sumStyle}>\n                    <div className=\"probleme_type\" >\n                        <p> {this.props.notif.probleme_type} </p>\n                        <p> {this.props.notif.code} </p>\n                    </div>\n                    <div className=\"probleme_statut\" style={statutStyle} >\n                        <p> {this.props.notif.statut_libelle} </p>\n                        <p> {this.props.notif.lieu} </p>\n                    </div>\n                    <div className=\"date_envoie\">\n                        <p> Date d'envoie : </p>\n                        <p> {this.props.notif.date_envoie} </p>\n                    </div>\n                    <button className=\"myButton\" onClick={this.showDetails}> Details </button>\n                    <button className=\"myButton\" onClick={this.showCommand}> repondre </button>\n                </div>\n                { this.state.detailsAreShown &&\n                    <div className=\"notif-details\" style={detailStyle}>\n                        <p> Probleme notifi : {probleme_type} </p>\n                        <p> Remarque : {this.props.notif.remarque || '-'} </p>\n                        <p> Lieu : {lieu} </p>\n                        <p> Envoyee par : {this.props.notif.sender_username || '-'} </p>\n                    </div>\n                }\n                {\n                    this.state.commandAreShown &&\n                        <div className=\"notif-command\" >\n                            <button className=\"myButton\" onClick={()=> this.do()}>prendre en charge</button>\n                            <button className=\"myButton\" onClick={() => this.do(60)}>faire patienter</button>\n                            <button>ouvrir message</button>\n                        </div>\n                }\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React from 'react';\nimport { Urgent } from './../../urgent';\n/*\n * props:\n * - notif : probleme_type , code, statut_libelle, lieu, date_envoie, remarque, tech_main_username, date_reponse, num_notification, num_intervention , date_programme ,\n */\n\nexport default class Notif_history extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n        }\n    }\n    showDetails = () => {\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n    showInfoOf = (num_intervention) => {\n        this.props.showSub(num_intervention);\n    }\n    render () {\n        let style;\n        let sumStyle ;\n        let statutStyle ;\n        let detailStyle ;\n        switch(this.props.notif.statut_code){\n            case Urgent.MAX.code :\n                style = {\n                    borderLeft : '3px solid red',\n                    //borderRight : '3px solid red',\n                };\n                statutStyle = {\n                    //background : 'red',\n                    color : 'red',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MID.code :\n                style = {\n                    borderLeft : '3px solid yellow',\n                    //borderRight : '3px solid yellow',\n                };\n                statutStyle = {\n                    //background : 'yellow',\n                    color : 'yellow',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MIN.code :\n                style = {\n                    borderLeft : '3px solid blue',\n                    //borderRight : '2px solid blue',\n                };\n                statutStyle = {\n                    //background : 'blue',\n                    color : 'blue',\n\n                }\n                break;\n             default :\n                break;\n        }\n        if(this.state.detailsAreShown){\n            detailStyle = {\n                height : \"80%\",\n            };\n            sumStyle = {\n                height : \"15%\",\n            };\n            style = {\n                ...style,\n                height : \"300px\",\n            }\n\n        }\n        if(this.props.notif.num_app_user_tech_main && this.props.notif.date_reponse){\n            style = {\n                ...style,\n                background : '#a9c8f7',\n            }\n        }\n        let {\n            probleme_type ,\n            code,\n            statut_libelle,\n            lieu,\n            date_envoie,\n            remarque,\n            tech_main_username,\n            date_reponse,\n            num_notification,\n            num_intervention ,\n            date_programme ,\n        } = this.props.notif;\n        return (\n            <div className=\"notif_history\" style={style} >\n                <div className=\"notif_history-sum\" style={sumStyle}>\n                    <div className=\"date_envoie\">\n                        <p> Date d'envoie : </p>\n                        <p> {date_envoie} </p>\n                    </div>\n                    <div className=\"probleme_type\" >\n                        <p> {probleme_type} </p>\n                        <p> {code} </p>\n                    </div>\n                    <div className=\"probleme_statut\" style={statutStyle}>\n                        <p> {statut_libelle} </p>\n                        <p> {lieu} </p>\n                    </div>\n                    <button onClick={this.showDetails}> Details </button>\n                </div>\n                { this.state.detailsAreShown &&\n                    <div className=\"notif-details\" style={detailStyle}>\n                        <p> Intervention de {tech_main_username} le {date_programme} </p>\n                        <p> remarque: {remarque} </p>\n                        <p> prise en charge par : {tech_main_username}  </p>\n                        <p> repondue le : {date_reponse} </p>\n                        <p> ID notification : {num_notification} </p>\n                        <p> ID intervention : \n                            { (num_intervention !== 'nd') &&\n                                <button href=\"#\" onClick={() => this.showInfoOf(num_intervention)}> {num_intervention} </button>\n                            }\n                        </p>\n                        <p> Details 1 </p>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n","import './index.css';\r\nimport React from 'react';\r\nimport Notif from './../notif';\r\nimport NotifHistory from './../notifHistory';\r\nimport {Urgent} from './urgent';\r\nimport FoldableDiv from './../foldableDiv';\r\n\r\n\r\n//affiche notification recues \r\n//historique des notification repondues ??\r\n/*\r\n * props:\r\n *  - setNbNewNotif \r\n *  - socket \r\n *  - nbNewNotificationToZero //not needed anymore\r\n */\r\n\r\nexport default class NotifsList extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            unansweredNotifsList : [],\r\n            notifsToday : [],\r\n        }\r\n    }\r\n    displayNotif  = (list) => {\r\n        return list.map( notif => <Notif notif={notif} key={notif.num_notification} num_user={this.props.session.num_user} socket={this.props.socket}/> );\r\n    }\r\n\r\n\r\n    componentDidMount = () => {\r\n        //no more new notif\r\n        //notifs that has num_app_user_tech_main at null\r\n        this.props.socket.emit('get notifs list unanswered');\r\n        this.props.socket.emit('get notifs today' , new Date(new Date().setHours(4,0,0)));//we need local , and all dated sent to server is converted in UTC ( -3) so we up it a bit\r\n\r\n        this.props.socket.on('unanswered notifs list' , (notifsList) => {\r\n            //\r\n            let newUnansweredNotifsList = notifsList.map( notif => ({\r\n                num_notification : notif.num_notification,\r\n                sender_username : notif.user_sender_username,\r\n                probleme_type : notif.probleme_type,\r\n                probleme_code : notif.code,\r\n                statut_code : notif.statut,\r\n                statut_libelle : notif.statut_libelle,\r\n                lieu : notif.lieu,\r\n                remarque : notif.remarque,\r\n                date_envoie : new Date(notif.date_envoie).toLocaleString('fr-FR'),\r\n                \r\n            }));\r\n            if(this.props.setNbNewNotif) {\r\n                this.props.setNbNewNotif(newUnansweredNotifsList.length);\r\n            }\r\n            this.setState({\r\n                unansweredNotifsList : newUnansweredNotifsList,\r\n            });\r\n        });\r\n\r\n        this.props.socket.on('new notif' , (createdNotif) => {\r\n            //created notif doesn't have the attributes to just do a push :( \r\n            this.props.socket.emit('get notifs list unanswered');\r\n            this.props.socket.emit('get notifs today' , new Date(new Date().setHours(4,0,0)));//we need local , and all dated sent to server is converted in UTC ( -3) so we up it a bit\r\n        });\r\n        \r\n        this.props.socket.on('update notifs list unanswered' , () => {\r\n            console.log('update notifs list unanswerd');\r\n            setTimeout( () => {\r\n                this.props.socket.emit('get notifs list unanswered');\r\n                this.props.socket.emit('get notifs today' , new Date(new Date().setHours(4,0,0)));//we need local , and all dated sent to server is converted in UTC ( -3) so we up it a bit\r\n            },2000);\r\n        });\r\n\r\n        this.props.socket.on('notifs today -notifsList', (notifsToday) => {\r\n            console.log('notifs day -notifsList' , notifsToday);\r\n            let newNotifsToday = notifsToday.map( notif => ({\r\n                num_notification : notif.num_notification,\r\n                sender_username : notif.user_sender_username,\r\n                probleme_type : notif.probleme_type,\r\n                probleme_code : notif.code,\r\n                statut_code : notif.statut,\r\n                statut_libelle : notif.statut_libelle,\r\n                lieu : notif.lieu,\r\n                remarque : notif.remarque,\r\n                date_envoie : new Date(notif.date_envoie).toLocaleString('fr-FR'),\r\n                num_app_user_tech_main : notif.num_app_user_tech_main,\r\n                date_reponse : new Date(notif.date_reponse).toLocaleString('fr-FR'),\r\n                num_intervention : notif.num_intervention,\r\n                date_programme : new Date(notif.date_programme).toLocaleString('fr-FR'),\r\n                tech_main_username : notif.tech_main_username,\r\n            }));\r\n            this.setState({\r\n                notifsToday : newNotifsToday,\r\n            });\r\n        });\r\n    }\r\n    componentWillUnmount = () => {\r\n        console.log('UNMOUNT notifsList');\r\n        this.props.socket.off('unanswered notifs list');\r\n        this.props.socket.off('update notifs list unanswered');\r\n        this.props.socket.off('notifs today -notifsList');\r\n    }\r\n    render(){\r\n        \r\n        let{\r\n            unansweredNotifsList,\r\n            notifsToday,\r\n        } = this.state;\r\n        let todayNotifsElement = notifsToday.map( notif =>{\r\n            if( notif.num_intervention ) return (<NotifHistory key={notif.num_notification} notif = {notif} />);\r\n            else return (<Notif notif={notif} key={notif.num_notification} num_user={this.props.session.num_user} socket={this.props.socket}/> );\r\n\r\n        });\r\n        return (\r\n            <div id=\"notifsList\" onClick={this.onClickOnNotifsList}>\r\n                <p> Notifications recues {this.props.session.username} </p>\r\n                <FoldableDiv title={`non repondue : ${unansweredNotifsList.length}`}>\r\n                    <div id=\"scroll_list-notifsList\">\r\n                        {this.displayNotif(this.state.unansweredNotifsList)}\r\n                    </div>\r\n                </FoldableDiv>\r\n                <FoldableDiv title={`Notifications d'aujourd'hui : ${notifsToday.length}`}folded={true}>\r\n                    <div id=\"scroll_list-notifsList\">\r\n                        {todayNotifsElement}\r\n                    </div>\r\n                </FoldableDiv>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './dropDown.css';\r\n//for a DropDown\r\n//expect : defaultValue , value and onChange for controlling the component , array for the data in options\r\nclass DropDown extends React.Component {\r\n    render(){\r\n        let array = this.props.array || [] ;\r\n//        console.log( typeof array);\r\n//        console.log('DropDown '+array);\r\n        let optionArray = array.map( item => \r\n            <option\r\n                key= {item}\r\n                value={item} >\r\n            {item}\r\n            </option>\r\n        );\r\n        if( this.props.objArray ){\r\n            optionArray = this.props.objArray.map( item =>\r\n                <option\r\n                    key = { item.key }\r\n                    value = { item.value } >\r\n                { item.libelle }\r\n                </option>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"dropDown\">\r\n                <select defaultValue= {this.props.selectedValue} value={this.props.value} onChange ={(e)=> this.props.onChange(e)} >\r\n                    {optionArray}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropDown;\r\n","import React from 'react';\r\nimport './index.css';\r\n//for a DropDown\r\n//props : \r\n//-defaultValue , \r\n//-value and onChange for controlling the component , \r\n//-array or objArray{key , libelle, value} for the data in options\r\nclass DropDown extends React.Component {\r\n    render(){\r\n        let array = this.props.array || [] ;\r\n//        console.log( typeof array);\r\n//        console.log('DropDown '+array);\r\n        let optionArray = array.map( item => \r\n            <option\r\n                key= {item}\r\n                value={item} >\r\n            {item}\r\n            </option>\r\n        );\r\n        if( this.props.objArray ){\r\n            optionArray = this.props.objArray.map( item =>\r\n                <option\r\n                    key = { item.key }\r\n                    value = { item.value } >\r\n                { item.libelle }\r\n                </option>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"dropDown\">\r\n                <select defaultValue= {this.props.selectedValue} value={this.props.value} onChange ={(e)=> this.props.onChange(e)} >\r\n                    {optionArray}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropDown;\r\n","import './index.css';\nimport React , { Component } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Dropdown from './../utils/dropDown';\n\n/*\n * props : -title for foldable title\n * - selectedNumMateriel pour syncro *\n * - selectedMaterielType pour syncro*\n * - selectedLieu *\n * - onChange  \n * - socket\n *   \n *   exposes an obj { num (num_materiel) , type (libelle_materiel_type)  , lieu (libelle_lieu)} in its onChange props\n */\n\nexport default class MaterielSelector extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            materielTypes : [],\n            lieus : [],\n            selectedLieu : this.props.selectedLieu || 'nd',\n            selectedMaterielType : this.props.selectedMaterielType || 'nd',\n            materielList : [],\n            config : '',\n        }\n        //Lieu >>> type >>> materiel\n        this.materiels = null;\n    }\n\n    updateLieu = (e) => {\n        console.log('updateLieu', e.target.value);\n        console.log('this.materiel' , this.materiels);\n        let firstType = Object.getOwnPropertyNames(this.materiels[e.target.value])[0];\n        let materielsList = this.materiels[e.target.value][firstType];\n        let objMateriel = {\n            num : materielsList[0].value,\n            type : firstType,\n            lieu : e.target.value,\n            config : this.state.config,\n        }\n        console.log('objMateriel', objMateriel);\n        this.props.onChange(objMateriel);\n        this.setState({\n            selectedLieu : e.target.value,\n            selectedMaterielType : firstType,\n            materielTypes : Object.getOwnPropertyNames(this.materiels[e.target.value]),\n            materielList : materielsList,\n        });\n    }\n    \n    updateMaterielType = (e) => {\n        console.log('updateMaterielType', e.target.value);\n        console.log('this.materiel' , this.materiels);\n        let materielsList = this.materiels[this.state.selectedLieu][e.target.value];\n        let objMateriel = {\n            num :materielsList[0].value,\n            type : e.target.value,\n            lieu : this.state.selectedLieu,\n            config : this.state.config,\n        };\n        this.props.onChange(objMateriel);\n        this.setState({\n            selectedMaterielType : e.target.value,\n            materielList : materielsList,\n        });\n    }\n\n    updateMateriel = (e) => {\n        console.log('updateMateriel' , e.target.value);\n        let objMateriel = {\n            num : e.target.value,\n            type : this.state.selectedMaterielType,\n            lieu : this.state.selectedLieu,\n            config : this.state.config,\n        };\n        this.props.onChange(objMateriel); \n        //this.setState({\n            //selectedNumMateriel : e.target.value,\n        //});\n    }\n    \n    updateConfig = (e) => {\n        let objMateriel = {\n            num : this.props.selectedNumMateriel,\n            type : this.state.selectedMaterielType,\n            lieu : this.state.selectedLieu,\n            config : e.target.value,\n        };\n        this.props.onChange(objMateriel);\n        this.setState({\n            config : e.target.value,\n        });\n    }\n    sortMaterielsByType = (materiels,types) => {\n        let sortedMateriels = {};\n        sortedMateriels.nd = [{ key : 'nd' , libelle:'nd' , value : 'nd'  }];\n        for( const type of types ){\n            let matOfType = materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n                key : item.num_materiel,\n                value : item.num_materiel,\n                libelle : item.libelle_materiel,\n            }));\n            if( matOfType.length ){\n                sortedMateriels[type.libelle_materiel_type] = materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n                    key : item.num_materiel,\n                    value : item.num_materiel,\n                    libelle : item.libelle_materiel,\n                }));\n            }\n        }\n        //console.log('sortedMateriels' , sortedMateriels);\n        \n        return sortedMateriels;\n\n    }\n    componentDidMount(){\n        this.props.socket.emit('get materiel list');\n        this.props.socket.on('materiel list -materielSelector' ,(materiels,materielTypes,lieus) => {\n            console.log('materiels', materiels,materielTypes,lieus);\n            let materielsListLieu = {};\n            materielsListLieu.nd = {\n                nd : [{ key : 'nd' , libelle:'nd' , value : 'nd'  }],\n            };\n            for ( const lieu of lieus ){\n                materielsListLieu = {\n                    ...materielsListLieu,\n                    [lieu.libelle] : this.sortMaterielsByType(materiels.filter( item => item.num_lieu === lieu.num_lieu ),materielTypes),\n                }\n            }\n            console.log('materielsListLieu', materielsListLieu);\n            \n            //let materielsList ;\n            //for( const type of materielTypes ){\n            //    \n            //    materielsList = {\n            //        ...materielsList,\n            //        [type.libelle_materiel_type] : materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n            //            key : item.num_materiel,\n            //            value : item.num_materiel,\n            //            libelle : item.libelle_materiel,\n            //        })),\n            //    }\n            //}\n            lieus = lieus.map( item => item.libelle);\n            lieus.unshift('nd');\n\n            this.materiels = materielsListLieu;\n            let selectedMaterielType = this.state.selectedMaterielType;\n            let selectedLieu = this.state.selectedLieu;\n            materielTypes = Object.getOwnPropertyNames(this.materiels[selectedLieu]);\n            console.log('materielTypes', materielTypes);\n            console.log('materielsList' , materielsListLieu , materielTypes, lieus);\n            let materielsList;\n            if( this.materiels){\n                \n                console.log('selectedLieu :%c, materielsList : %c',selectedLieu,this.materiels[selectedLieu]);\n                materielsList = (this.materiels) ? this.materiels[selectedLieu][selectedMaterielType] : [];\n            }\n            this.setState({\n                lieus : lieus,\n                materielTypes : materielTypes,\n                materielList : materielsList,\n            });\n            \n        });\n    }\n\n    componentWillUnmount(){\n       console.log('materielSelector unmount');\n       this.props.socket.off('materiel list -materielSelector'); \n    }\n    render() {\n        let {\n            materielTypes,\n            materielList,\n            config,\n            lieus,\n            selectedLieu,\n        } = this.state;\n        let {\n            selectedNumMateriel,\n        } = this.props;\n        let {\n            title,\n        } = this.props;\n        let selectedMaterielType = this.props.selectedMaterielType || this.state.selectedMaterielType;\n\n        return(\n            <div className=\"materielSelector\">\n                <FoldableDiv title={title || 'Materiel'} >\n                    <div className=\"sub-category-option\">\n                        <label> Lieu </label>\n                        <Dropdown value={selectedLieu} array = {lieus} onChange={this.updateLieu}/>\n                    </div>\n                    <div className=\"sub-category-option\">\n                        <label> Type materiel: \n                        </label>\n                        <Dropdown value={selectedMaterielType} array = {materielTypes} onChange={this.updateMaterielType}/>\n                    </div>\n                    <div className=\"sub-category-option\">\n                        <label> Materiel: \n                        </label>\n                        <Dropdown value={selectedNumMateriel} objArray = {materielList} onChange={this.updateMateriel}/>\n                    </div>\n                    <div className=\"sub-category-option\">\n                        <label> Note: \n                            <textarea value={config} onChange={this.updateConfig}> </textarea>\n                        </label>\n                    </div>\n                </FoldableDiv>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { useState } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport MaterielSelector from './../materielSelector';\n/*\n * props:\n * - listMateriel : array [{num,type,lieu}];\n * - setListMateriel to change listMateriel\n * - socket \n * - maxListMaterielLength\n * - title \n * - folded\n */\nexport default function MultiMaterielSelector (props){\n    let listMateriel = props.listMateriel; \n     let maxLength = (props.maxListMaterielLength) ? props.maxListMaterielLength : 77;\n    let title = (props.title) ? props.title : \"Selectionner le(s) materiel(s)\";\n    let folded = (props.folded) ? props.folded : false;\n\n    //let [ length , setLength ] = useState(listMateriel.length);\n\n    function changeListMateriel( objValue , index){\n        console.log('changeListMateriel');\n        let newList = listMateriel.slice();\n        newList[index] = objValue;\n        props.setListMateriel(newList);\n    }\n\n    function changeListMaterielLength (newLength){\n        console.log('changeListMaterielLength', newLength);\n        newLength = (newLength < 0) ? 0 : newLength;\n        newLength = (newLength > maxLength) ? maxLength : newLength;\n        \n        let newList = listMateriel.slice();\n        if( newLength > newList.length ){\n            let dLength = newLength - newList.length;\n            console.log('dLength', dLength);\n            for(let i = 0 ; i < dLength ; i ++ ){\n                newList.push({ num: 'nd' , type :'nd'});\n            }\n        }else if( newLength < newList.length ){\n            newList.length = newLength;\n        }\n            props.setListMateriel(newList);\n        //setLength(newLength);\n    }\n\n    console.log('listMateriel before render', listMateriel);\n    let materielElements = listMateriel.map( (materiel,index) => \n        <MaterielSelector \n            key = {index}\n            title = {`Materiel #${index+1}`}\n            socket = {props.socket}\n            onChange = {(obj)=> changeListMateriel(obj,index)}\n            selectedNumMateriel = {materiel.num}\n            selectedMaterielType = {materiel.type}\n            selectedLieu = {materiel.lieu}\n            />\n    );\n\n    return(\n        <div className=\"multiMaterielSelector\">\n            <FoldableDiv title={title} folded={folded}>\n                <p> Nombres : {listMateriel.length}</p>\n                <div className=\"scroll_list\">\n                    {materielElements}\n                </div>\n            { (maxLength > 1) &&\n                <>\n                    <button onClick={()=>changeListMaterielLength(listMateriel.length + 1)}> + </button>\n                    <button onClick={()=>changeListMaterielLength(listMateriel.length - 1)}> - </button>\n                </>\n            }\n                \n            </FoldableDiv>\n        </div>\n\n    );\n}\n","const docx = require('docx');\nconst { saveAs } = require('file-saver');\n\nconst { Document , Packer , Paragraph , TextRun } = docx;\n\nexport async function generateDocx(num_decharge) {\n     const doc = new Document ({\n         sections : [{\n             properties : {},\n             children : [\n                 new Paragraph({\n                     children : [\n                         new TextRun('Hello world , docx'),\n                         new TextRun('decharge n#'+num_decharge),\n                     ],\n                 }),\n             ],\n         }],\n     });\n\n    const blob = await Packer.toBlob(doc);\n    await saveAs(blob,'text.docx');\n }\n\n//module.exports = {\n//    generateDocx,\n//}\n","import './index.css';\nimport React,{useState } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport MultiMaterielSelector from './../multiMaterielSelector';\nimport { generateDocx } from './../../generateDocx/generate.js';\n\n/*\n * props :\n * -num_intervention : to create the decharge on db\n * -socket to query data on materielsSelector\n * -downloadDecharge : method to download\n */\nexport default function InterventionDecharge(props){\n    //materiels are num_materiels\n    let tomorrowDate = new Date(new Date().setDate(new Date().getDate()+1)); \n    let [ materiels , setMateriels ] = useState([{ num:'nd' , type: 'nd' , lieu : 'nd'}]);\n    let [ dateDebut , setDateDebut ] = useState(new Date());\n    let [ dateFin , setDateFin ] = useState(tomorrowDate);\n    let {\n        num_decharge\n    } = props;\n    let style ;\n    let control ;\n    let disabled ;\n\n    let title = 'Effectuer un decharge';\n    if(num_decharge){\n        title = `ID decharge : ${num_decharge}` ;\n        style = {\n            ...style,\n            background : '#53d35342',\n        };\n        control = (\n            <>\n                <button onClick={()=>props.downloadDechargeDoc(num_decharge)}> Telecharger Docx</button>\n            </>\n        );\n        disabled = true;\n    }else{\n        control = (\n            <>\n                <label> Debut : \n                <input \n                    type='date' \n                    value ={formatDate(dateDebut)} \n                    onChange={updateDateDebut} \n                    disabled={disabled}\n                    />\n                </label>\n                <label> Fin : \n                <input \n                    type='date' \n                    value={formatDate(dateFin)} \n                    onChange={(e)=> setDateFin(new Date(e.target.value))}\n                    disabled={disabled}\n                    />\n                </label>\n                <MultiMaterielSelector \n                    socket = {props.socket}\n                    listMateriel = {materiels}\n                    setListMateriel = {setMateriels}\n                    />\n                <button onClick={createDecharge}> Creer </button>\n            </>\n        );\n    }\n    \n    function updateDateDebut(e) {\n        console.log('updateDateDebut', e.target.value);\n        setDateDebut(new Date(e.target.value));\n    }\n\n    function createDecharge() {\n        let materielsValide = materiels.filter( item => (item.num !== 'nd' && item.type !== 'nd'))\n        console.log('materielsValide', materielsValide);\n        if( materielsValide.length  \n            && dateDebut.getTime() <= dateFin.getTime()\n            && !num_decharge){\n            console.log('createDecharge' , dateDebut , dateFin , materielsValide );\n            let date = {\n                debut : dateDebut,\n                fin : dateFin,\n            };\n            props.socket.emit('create decharge', date , materielsValide);\n        }else{\n            console.log('pas de materiels valide OU date invalide, InterventionDecharge');\n        }\n    }\n\n\n    console.log('render InterventionDecharge');\n    return(\n        <div className =\"interventionDecharge\" style={style}>\n            <FoldableDiv title={title} folded={true}>\n                <div className=\"decharge-form\">\n                    {control}\n                </div>\n            </FoldableDiv>\n        </div>\n    );\n}\n\nfunction formatDate (date) {\n    let day = `${date.getDate()}`;\n    let month = `${date.getMonth() +1}`;\n    let year = date.getFullYear();\n    month = (month.length < 2) ? '0'+month : month;\n    day = (day.length < 2) ? '0'+day : day;\n    return `${year}-${month}-${day}`;\n}\n\n//function downloadDecharge(num_decharge){\n//    //open route /decharge/num_decharge/ in a new tab\n//    //alert('downloadDecharge', num_decharge);\n//    const URL = '/acim/decharge';\n//    window.open(URL ,  '_blank');\n//}\n","import './index.css';\nimport React , { Component } from 'react';\nimport green_dot from './../../res/icon/green_dot.png';\nimport red_dot from './../../res/icon/red_dot.png';\nimport yellow_dot from './../../res/icon/yellow_dot.png';\n\n/*\n * props:\n * - intervention from view_intervention_full : date_programme , libelle_intervention_type , libelle_lieu , tech_main_username , done , probleme_resolu\n *   -showSub : to shoe intervention\n */\nexport default class InterventionSimple extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            showMenu : false,\n        }\n    }\n    toggleShowMenu = () => {\n        let newShowMenu = !this.state.showMenu;\n        this.setState({\n            showMenu : newShowMenu,\n        });\n    }\n    render () {\n        let {\n            date_programme,\n            libelle_intervention_type,\n            libelle_lieu,\n            tech_main_username,\n            num_intervention,\n            probleme_resolu,\n            done,\n        } = this.props.intervention;\n        let {\n            showMenu,\n        } = this.state;\n        let heure_programme = new Date(date_programme).toLocaleTimeString('fr-FR');\n        let menuStyle ;\n        let greenDotElement = (<img src={green_dot} />);\n        let redDotElement = (<img src={red_dot} />);\n        let yellowDotElement = (<img src={yellow_dot} />);\n        let doneElement  = redDotElement;\n        let pbElement  = redDotElement;\n\n        let doneStyle = {\n            //background : 'red',\n            width : '20px',\n            minWidth : '20px',\n            maxWitdh : '20px',\n            height : 'auto',\n        };\n        let okStyle = {\n            //background : 'red',\n            width : '20px',\n            minWidth : '20px',\n            maxWitdh : '20px',\n            height : 'auto',\n        };\n        if(done) {\n            doneElement = yellowDotElement;\n            if(probleme_resolu) doneElement = greenDotElement;\n        }\n        if( showMenu ){\n            menuStyle = {\n                display: 'flex',\n            };\n        }else{\n            menuStyle = {\n                display : 'none',\n            };\n        }\n        return (\n            <div className = \"interventionSimple\">\n                <div className=\"main\" onClick={this.toggleShowMenu}>\n                    <div className=\"done\" style={doneStyle}>\n                        {doneElement}\n                    </div>\n                    <div className=\"text\">\n                    <p> { heure_programme }  >{ libelle_intervention_type } - { libelle_lieu } par { tech_main_username } </p>\n                    </div>\n                </div>\n                <div className=\"menu\" style={menuStyle}>\n                    <button onClick={()=>this.props.showSub(num_intervention)}>Ouvrir</button>\n                </div>\n            </div>\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","import './index.css';\nimport React , { Component , useState} from 'react';\nimport InterventionSimple from './../interventionSimple';\n/*\n * props:\n * - session\n * - socket for getting data\n * - showSub\n * - showHeader\n * - date_debut\n * - date_fin\n * - close : to close the agenda\n * - setSelectedDate : for setting a date from the agenda\n */\nexport default class Agenda extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            intervByDay : [], //{date , listInterv :[{ num_intervention , date_programme : date+heure , libelle_type_type , ...}]}\n            selectedInterv : {},\n        }\n\n    }\n    setSelectedInterv = (interv) => {\n        if( interv ){\n            this.setState({\n                selectedInterv : interv ,\n            });\n        }\n    }\n    componentDidMount(){\n        console.log('Agenda did mount');\n        let{\n            date_debut,\n            date_fin,\n        } = this.props;\n\n        this.props.socket.emit('get agenda', date_debut , date_fin , this.props.session.num_user);\n        \n        this.props.socket.on('agenda -agenda', (intervByDay) => {\n            console.log('agenda -agenda', intervByDay);\n            if( intervByDay.length > 0 ){\n                this.setState({\n                    intervByDay : intervByDay,\n                });\n            }\n        });\n    }\n\n    setFreeDate = () => {\n        let {\n            setSelectedDate,\n        } = this.props;\n        let {\n            selectedInterv,\n        } = this.state;\n        if( selectedInterv.num_intervention && setSelectedDate ){\n            //value is in e.target.value;\n            let freeTime = new Date(selectedInterv.date_programme).getTime() + (1*60*60*1000);\n            console.log('free time time ', freeTime);\n            freeTime = freeTime + 3*60*60*1000 ; // our display only shows UTC ... we need locale ( UTC + 3)\n            freeTime = new Date(freeTime).setMilliseconds(0);\n            let e = { target : { value : new Date(freeTime).toISOString().replace('Z','')}};\n            console.log('free time' , e.target.value );\n            if(setSelectedDate) setSelectedDate(e);\n            this.props.close();\n        }\n    }\n\n    \n    componentWillUnmount(){\n        console.log('Agenda unmount');\n        this.props.socket.off('agenda -agenda');\n    }\n    render(){\n        let{\n            intervByDay,\n            selectedInterv,\n        } = this.state;\n        let {\n            showHeader,\n        } = this.props;\n        let agendaElements = intervByDay.map(item => \n            <AgendaDay key = { item.date } \n                        date = { item.date } \n                        listInterv = { item.intervList } \n                        showSub = {this.props.showSub}\n                        selectedInterv = { selectedInterv }\n                        setSelectedInterv = {this.setSelectedInterv}/>\n        );\n        let textDisplay = '' ;\n        let headerDisplay;\n        if(selectedInterv.num_intervention){\n            textDisplay = (\n                <p> \n                    Aprs {selectedInterv.libelle_intervention_type}--{selectedInterv.libelle_lieu}  {new Date(selectedInterv.date_programme).toLocaleString('fr-FR')} ?\n                </p>\n            );\n            if( selectedInterv.num_intervention === 'nd' ){\n                textDisplay = (\n                    <p> \n                        {new Date(selectedInterv.date_programme).toLocaleDateString('fr-FR')}  08:00:00 ?\n                    </p>\n                );\n            }\n        }\n        if(showHeader){\n            headerDisplay = (\n                <div className=\"header-agenda\">\n                    <p> Agenda  </p>\n                \n                    {textDisplay}\n                    { selectedInterv.num_intervention && this.props.setSelectedDate &&\n                        <>\n                            <button onClick={this.setFreeDate}> OK </button>    \n                            <button onClick={()=>this.setSelectedInterv({})}> Annuler </button>    \n                        </>\n                    }\n                    <button onClick={this.props.close}> x </button>\n                </div>\n\n            );\n        }else{\n            headerDisplay = (\n                <div className=\"header-agenda\">\n                    {textDisplay}\n                    { selectedInterv.num_intervention && this.props.setSelectedDate &&\n                        <div>\n                            <button onClick={this.setFreeDate}> OK </button>    \n                            <button onClick={()=>this.setSelectedInterv({})}> Annuler </button>    \n                        </div>\n                    }\n                </div>\n            );\n        }\n        return(\n            <div className=\"agenda\">\n                {headerDisplay}\n\n                <div className=\"main-agenda\">\n                    {agendaElements}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction AgendaDay(props){\n    /*\n     * props:\n     * - date \n     * - listInterv: liste des interventions pour date\n     */\n\n    //let [ selectedInterv , setSelectedInterv ] = useState({});\n    let{\n        date,\n        listInterv,\n        selectedInterv,\n    } = props;\n\n    const updateSelectedInterv = (interv) => {\n        if( interv.num_intervention === selectedInterv.num_intervention ) props.setSelectedInterv({});\n        else props.setSelectedInterv(interv);\n    }\n\n    const chooseDay = (day) => {\n        if( listInterv.length < 1 ){\n            console.log('chooseDay',day);\n            //day is dd/mm/YY\n            let [ dayDD, monthMM , yearYY ] = day.split('/'); \n            \n            console.log('chooseDay',day , dayDD , monthMM , yearYY);\n            let dayAt8  = new Date(`${yearYY}-${monthMM}-${dayDD}`).setHours(7,0,0);//we add an hour to make it freeTime\n            console.log('dayAt8' ,dayAt8);\n            let imaginaryInterv = {\n                num_intervention : 'nd',\n                libelle_intervention_type : '',\n                date_programme : new Date(dayAt8),\n            };\n            props.setSelectedInterv(imaginaryInterv);\n        }\n    }\n\n    let intervs = listInterv.map( interv =>{\n        let heure = new Date(interv.date_programme).getHours();\n        let style ;\n        if ( selectedInterv.num_intervention === interv.num_intervention ) {\n            style = {\n                background : 'blue',\n                color : 'white',\n            }\n        }\n        return(\n            <div className=\"interv-agendaDay\"  style={style}\n                    key={interv.num_intervention} \n                    onClick={ () => updateSelectedInterv(interv) }> \n                    <InterventionSimple intervention = {interv} showSub={props.showSub}/>\n            </div>\n        );\n    });\n\n    \n\n    return(\n        <div className=\"agendaDay\" onClick={()=>chooseDay(date)}>\n            <p> {date} : {listInterv.length} intervention{(listInterv.length > 1) ? 's':''} </p>\n            <div className=\"listInterv-agendaDay\">\n                {intervs}\n            </div>\n            \n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component } from 'react';\n\n/*\n * props:\n * - socket\n * - close\n */\n\nexport default class InterventionTypeCreator extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showIndic : false,\n            indication : '',\n            libelle : '',\n            code : '',\n        }\n        this.component = 'interventionTypeCreator';\n    }\n\n    close = () => {\n        this.setState({\n            showIndic : false,\n            indication : '',\n            libelle : '',\n            code : '',\n        });\n        this.props.close();\n    }\n\n    updateLibelle = (e) => {\n        console.log('updateLibelle ' , e.target.value); \n        this.setState({\n            libelle : e.target.value,\n        });\n    }\n\n    updateCode = (e) => {\n        console.log('updateCode ' , e.target.value); \n        this.setState({\n            code : e.target.value,\n        });\n    }\n    \n    componentDidMount () {\n        console.log('interventionTypeCreator mounted');\n        this.props.socket.on('new intervention_type -'+this.component, (newIntervType) => {\n            console.log('new intervention_type');\n            this.setState({\n                indication : `Type intervention : ${newIntervType.libelle_intervention_type} cr.`,\n                libelle : '',\n                code : '',\n            });\n        });\n    }\n\n    create = () => {\n        console.log('create intervention type');\n        let { libelle , code } = this.state;\n        if(this.state.libelle && this.state.code ){\n            this.props.socket.emit('create intervention_type', libelle, code , this.component);\n            this.setState({\n                indication : `...`,\n                showIndic : true,\n            });\n        }else{\n            this.setState({\n                indication : `Veuillez remplir tout les champs`,\n                showIndic : true,\n            });\n\n        }\n    }\n\n    componentWillUnmount(){\n        console.log('interventionTypeCreator unmount');\n        this.props.socket.off('new intervention_type -'+this.component);\n    }\n    \n\n    render(){\n        let { \n            showIndic,\n            libelle,\n            code,\n            indication,\n        } = this.state;\n        let indicStyle;\n        if(showIndic) {\n            indicStyle = {\n                display : 'flex',\n            }\n        }\n        return(\n            <div className=\"interventionTypeCreator\">\n                <div className=\"top\">\n                    <p> {`Crer un type d'intervention`} </p>\n                    <button onClick={this.close}> x </button>\n                </div>\n                <div className=\"main\">\n                    <input type=\"text\" required={true} placeholder=\"libelle\" value={libelle} onChange={this.updateLibelle}/>\n                    <input type=\"text\" required={true} placeholder=\"code\" value={code} onChange={this.updateCode}/>\n                    <button className=\"myButton\" onClick = {this.create} > Creer </button>\n                    <div className=\"indic\" style={indicStyle}>\n                        <p> {indication} </p>\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component } from 'react';\n\n/*\n * props:\n * - socket\n * - close\n */\n\nexport default class ProblemeTechTypeCreator extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showIndic : false,\n            indication : '',\n            libelle : '',\n        }\n        this.component = 'problemeTechTypeCreator';\n    }\n\n    close = () => {\n        this.setState({\n            showIndic : false,\n            indication : '',\n            libelle : '',\n        });\n        this.props.close();\n    }\n\n    updateLibelle = (e) => {\n        console.log('updateLibelle ' , e.target.value); \n        this.setState({\n            libelle : e.target.value,\n        });\n    }\n\n    \n    componentDidMount () {\n        console.log('problemeTechTypeCreator mounted');\n        this.props.socket.on('new probleme_tech_type -'+this.component, (newProblemeTechType) => {\n            console.log('new probleme_tech_type');\n            this.setState({\n                indication : `Type intervention : ${newProblemeTechType.libelle_probleme_tech_type} cr.`,\n                libelle : '',\n            });\n        });\n    }\n\n    create = () => {\n        console.log('create probleme_tech_type');\n        let { libelle } = this.state;\n        if(this.state.libelle ){\n            this.props.socket.emit('create probleme_tech_type', libelle, this.component);\n            this.setState({\n                indication : `...`,\n                showIndic : true,\n            });\n        }else{\n            this.setState({\n                indication : `Veuillez remplir tout les champs`,\n                showIndic : true,\n            });\n\n        }\n    }\n\n    componentWillUnmount(){\n        console.log('problemeTechTypeCreator unmount');\n        this.props.socket.off('new probleme_tech_type -'+this.component);\n    }\n    \n\n    render(){\n        let { \n            showIndic,\n            libelle,\n            indication,\n        } = this.state;\n        let indicStyle;\n        if(showIndic) {\n            indicStyle = {\n                display : 'flex',\n            }\n        }\n        return(\n            <div className=\"problemeTechTypeCreator\">\n                <div className=\"top\">\n                    <p> {`Crer un type de probleme`} </p>\n                    <button onClick={this.close}> x </button>\n                </div>\n                <div className=\"main\">\n                    <input type=\"text\" required={true} placeholder=\"libelle\" value={libelle} onChange={this.updateLibelle}/>\n                    <button className=\"myButton\" onClick = {this.create} > Creer </button>\n                    <div className=\"indic\" style={indicStyle}>\n                        <p> {indication} </p>\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , {Component , createRef} from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Dropdown from './../../utils/dropDown';\nimport InterventionDecharge from './../interventionDecharge';\nimport Agenda from './../agenda';\nimport MaterielSelector from './../materielSelector';\nimport InterventionTypeCreator from './../interventionTypeCreator';\nimport ProblemeTechTypeCreator from './../problemeTechTypeCreator';\n\n/*\n * props:\n * - socket\n * - session\n * - routeProps\n */\n\nexport default class CreateIntervention extends Component {\n    constructor(props){\n        super(props);\n\n        let supposedFreeHours = new Date().getHours() + 1;\n        this.state = {\n            interventionTypeList : [],\n            selectedNumInterventionType : '',\n            dateProgramme : new Date( new Date().setHours(supposedFreeHours,0,0)).toISOString(),//localTime\n            dateProgrammeDisplay : new Date(new Date().setHours((supposedFreeHours+3),0,0,0)).toISOString().replace('Z',''),//UTC : localTime - 3 , display consider its input to be localtime and tries to change it to UTC \n            lieuList : [],\n            selectedNumLieu : '',\n            materielList : [],\n            selectedNumMateriel : '',\n            materielTypes : [],\n            selectedMaterielType : '',\n            motif : 'ND',\n            problemeList : [] ,\n            selectedNumProblemeTechType : '',\n            message : '',\n            num_intervention_pere : '',//initialized by route here\n            commentaire : '',\n        }\n        this.materiels = null;\n        this.lieus = null;\n        this.problemeTechTypes= null ;\n        this.agendaPop = createRef();\n        this.intervTypeCreator = createRef();\n        this.problemeTechTypeCreator = createRef();\n    }\n    updateTypeIntervention = (e) => {\n        console.log('update type intervention', e.target.value);\n        let newNumInterventionType = e.target.value;\n        this.setState({\n            selectedNumInterventionType : newNumInterventionType,\n        });\n    }\n    updateDateProgramme = (e) =>{\n        console.log('updateDateProgramme ' ,new Date(e.target.value));\n        let newDateProgramme = new Date(e.target.value);\n        this.setState({\n            dateProgramme : newDateProgramme,\n            dateProgrammeDisplay : e.target.value,\n        });\n    }\n    updateLieu = (e, motif) => {\n        console.log('update lieu', e.target.value);\n        console.log(motif);\n        let newNumLieu = e.target.value;\n        this.setState({\n            selectedNumLieu : newNumLieu,\n        });\n    }\n    updateMaterielType = (e) => {\n        console.log('updateMaterielType', e.target.value);\n        console.log('this.materiel' , this.materiels);\n        this.setState({\n            selectedMaterielType : e.target.value,\n            materielList : this.materiels[e.target.value],\n        });\n    }\n    updateMateriel = (e) => {\n        console.log('updateMateriel' , e.target.value);\n        this.setState({\n            selectedNumMateriel : e.target.value,\n        });\n    }\n\n    updateMotif = (e) => {\n        console.log('update motif', e.target.value);\n        this.setState({\n            motif : e.target.value,\n        });\n    }\n\n    //also used in update of Lieu because we need to update the motif at the same time\n    //but update lieu is still there in case we want to revert\n    updateProbleme = (e, numLieu) => {\n        console.log('update probleme', e.target.value);\n        console.log(this.problemeTechTypes);\n        //change motif to 'resoudre probleme : type -- lieu '\n        let type = this.problemeTechTypes[e.target.value];\n        let lieu;\n        let newMotif;\n        let newNumLieu = (numLieu) ? numLieu : this.state.selectedNumLieu ;\n        lieu = this.lieus[newNumLieu];\n        if(type){\n            newMotif = `Resoudre probleme : ${type} -- ${lieu}`;\n        }else{\n            newMotif = this.state.motif;\n        }\n        \n        console.log('motif', newMotif);\n        this.setState({\n            motif : newMotif, \n            selectedNumProblemeTechType : e.target.value || '',\n            selectedNumLieu : newNumLieu,\n        });\n    }\n\n    updateCommentaire = (e) => {\n        console.log('updateCommentaire' , e.target.value);\n        this.setState({\n            commentaire : e.target.value,\n        });\n    }\n\n\n\n    createIntervention = () => {\n        let {\n            selectedNumInterventionType ,\n            dateProgramme,\n            selectedNumLieu,\n            selectedNumProblemeTechType,\n            selectedNumMateriel,\n            motif,\n            num_intervention_pere,\n            commentaire,\n        } = this.state;\n        let code_intervention_type = '';//we use numInterventionType\n        if (selectedNumMateriel === 'nd') selectedNumMateriel = '';\n        //must be there : numInterventionType , numLieu , date_programme , \n        if( selectedNumInterventionType && selectedNumLieu && dateProgramme ) {\n            //send the 'create intervention'\n            console.log( 'create intervention : ' , selectedNumInterventionType ,code_intervention_type,  selectedNumLieu,  dateProgramme,motif, selectedNumMateriel,selectedNumProblemeTechType,num_intervention_pere);\n            this.props.socket.emit('create intervention', selectedNumInterventionType , code_intervention_type , selectedNumLieu , dateProgramme , motif , selectedNumMateriel,selectedNumProblemeTechType,num_intervention_pere, commentaire);\n            this.setState({\n                message : 'intervention Creer lance',\n            });\n        }else{\n            this.setState({\n                message : 'selectionner un type d\\'intervention, un lieu et une date programme',\n            });\n        }\n        \n    }\n\n\n    componentDidMount () {\n        console.log('createIntervention did mount');\n        //get the data : type_intervention\n        this.props.socket.emit('get intervention definition');\n\n        this.props.socket.on('intervention_type list -createIntervention' , (intervention_types) => {\n            console.log(' intervention_types ' ,intervention_types);\n            let newInterventionList = intervention_types.map( type => ({\n                key : type.num_intervention_type,\n                value : type.num_intervention_type,\n                libelle : type.libelle_intervention_type,\n            }));\n            let newSelectedNumInterventionType = newInterventionList[0].key;\n            if( this.props.location.state ){\n                if ( this.props.location.state.num_intervention_type ){\n                    newSelectedNumInterventionType = this.props.location.state.num_intervention_type;\n                }\n            }\n            this.setState({\n                interventionTypeList : newInterventionList,\n                selectedNumInterventionType : newSelectedNumInterventionType,\n            });\n        });\n        \n        this.props.socket.on('lieu list -createIntervention' , (lieus) =>{\n            console.log('lieus' , lieus );\n            for( const lieu of lieus){\n                this.lieus = {\n                    ...this.lieus,\n                    [lieu.num_lieu] : [lieu.libelle],\n                }\n            }\n            let newLieuList = lieus.map( lieu => ({\n                key : lieu.num_lieu,\n                value : lieu.num_lieu,\n                libelle : lieu.libelle,\n            }));\n            this.setState({\n                lieuList : newLieuList,\n                selectedNumLieu : newLieuList[0].value,\n            });\n        });\n\n        this.props.socket.on('materiel list -createIntervention' ,(materiels,materielTypes, lieus) => {\n            console.log('materiels', materiels);\n            let materielsList ;\n            \n            for( const type of materielTypes ){\n                \n                materielsList = {\n                    ...materielsList,\n                    [type.libelle_materiel_type] : materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n                        key : item.num_materiel,\n                        value : item.num_materiel,\n                        libelle : item.libelle_materiel,\n                    })),\n                }\n            }\n            materielsList ={\n                ...materielsList,\n                ['nd'] : [{\n                    key : 'nd',\n                    value : 'nd',\n                    libelle : 'nd',\n                }],\n            }\n            materielTypes = materielTypes.map( item => item.libelle_materiel_type);\n            materielTypes.unshift('nd');\n            console.log('materielsList' , materielsList , materielTypes);\n            this.materiels = materielsList;\n            this.setState({\n                materielTypes : materielTypes,\n                selectedMaterielType : materielTypes[0],\n                materielList : materielsList[materielTypes[0]],\n            });\n            \n        });\n\n        this.props.socket.on('probleme_tech_type list -createIntervention', (probleme_tech_types) => {\n            console.log('probleme_tech_types', probleme_tech_types);\n            for(const probleme_tech_type of probleme_tech_types){\n                this.problemeTechTypes = {\n                    ...this.problemeTechTypes ,\n                    [probleme_tech_type.num_probleme_tech_type] : probleme_tech_type.libelle_probleme_tech_type,\n                }\n            }\n            let newProblemeList = probleme_tech_types.map( blem => ({\n                key : blem.num_probleme_tech_type,\n                value : blem.num_probleme_tech_type,\n                libelle : blem.libelle_probleme_tech_type,\n            }));\n            this.setState({\n                problemeList : newProblemeList,\n            });\n        });\n\n        this.props.socket.on('new intervention -createIntervention', (intervention) => {\n            let {\n                num_intervention,\n            } = intervention;\n            console.log('new intervention createIntervention');\n            this.setState({\n                message : `Intervention ${num_intervention} cre.`\n            });\n        });\n\n        this.props.socket.on('new intervention_type -createIntervention' ,() => {\n            console.log('new intervention_type -createIntervention');\n            this.props.socket.emit('get intervention definition');\n        });\n\n        this.props.socket.on('new probleme_tech_type -createIntervention' ,() => {\n            console.log('new problem_tech_type -createIntervention');\n            this.props.socket.emit('get intervention definition');\n        });\n\n        if(this.props.location.state){\n            let {\n                num_intervention_pere,\n                num_intervention_type,\n                dateFree,\n            } = this.props.location.state;\n            \n            if(dateFree) this.updateDateProgramme(dateFree); \n            this.setState({\n                num_intervention_pere : this.props.location.state.num_intervention_pere,\n                selectedNumInterventionType : this.props.location.state.num_intervention_type,\n            });\n        }\n\n\n    }\n\n    componentWillUnmount () {\n        this.props.socket.off('intervention_type list -createIntervention');\n        this.props.socket.off('lieu list -createIntervention');\n        this.props.socket.off('materiel list -createIntervention');\n        this.props.socket.off('probleme_tech_type list -createIntervention');\n        this.props.socket.off('new intervention_type -createIntervention');\n        this.props.socket.off('new intervention -createIntervention');\n    }\n    closePopUp = (ref) => {\n        ref.current.style.top = \"-1000px\";\n    }\n\n    showPopUp = (ref) => {\n        ref.current.style.top = \"10px\";\n        //setTimeout( () => {\n        //    if (ref) ref.current.style.top = \"-1000px\";\n        //}, 120000);\n\n    }\n    render(){\n        let {\n            interventionTypeList,\n            selectedNumInterventionType,\n            lieuList,\n            selectedNumLieu,\n            materielList ,\n            selectedNumMateriel,\n            materielTypes,\n            selectedMaterielType,\n            motif,\n            selectedNumProblemeTechType,\n            problemeList,\n            message,\n            num_intervention_pere,\n            commentaire,\n        } = this.state;\n        //BUTTON AGENDA\n        //<button onClick={()=> this.showPopUp(this.agendaPop)}> Agenda </button>\n        //date agenda \n        //today and today + 7days\n        let startAgenda = new Date().setHours(3,0,0); //0 UTC\n        let endAgenda = startAgenda + 7*24*60*60*1000;\n        return (\n            <div className=\"createIntervention\">\n                <div className=\"notif_pop agenda-createIntervention\" ref={this.agendaPop}>\n                    <Agenda \n                        socket = {this.props.socket} \n                        date_debut = {new Date(startAgenda)}\n                        date_fin = {new Date(endAgenda)}\n                        session = {this.props.session}\n                        showSub = {this.props.showSub}\n                        showHeader = {true}\n                        setSelectedDate = {this.updateDateProgramme} //value is in e.target.value\n                        close = { () => this.closePopUp(this.agendaPop)}/>\n                </div>\n                <div className=\"notif_pop agenda-createIntervention\" ref={this.intervTypeCreator}>\n                    <InterventionTypeCreator \n                        socket = {this.props.socket}\n                        close = { () => this.closePopUp(this.intervTypeCreator)}/>\n                </div>\n                <div className=\"notif_pop agenda-createIntervention\" ref={this.problemeTechTypeCreator} >\n                    <ProblemeTechTypeCreator \n                        socket = {this.props.socket}\n                        close = { () => this.closePopUp(this.problemeTechTypeCreator)}/>\n                </div>\n                <p> Crer une intervention :</p>\n                { num_intervention_pere &&\n                    <p> Suite de l'intervention : {num_intervention_pere} </p> \n                }\n                <div className=\"scroll-option\">\n                    <FoldableDiv title=\"Intervention\" folded={false}>\n                        <div className=\"sub-category-option\">\n                            <label> Type Intervention : \n                            </label>\n                            <Dropdown value={selectedNumInterventionType} objArray = {interventionTypeList} onChange={this.updateTypeIntervention}/>\n                            <button onClick={() => this.showPopUp(this.intervTypeCreator)}> Creer </button>\n                        </div>\n                        <div className=\"sub-category-option\">\n                            <label> Date programme : \n                            </label>\n                            <button onClick={()=> this.showPopUp(this.agendaPop)}> Agenda </button>\n                            <input type=\"datetime-local\" value={this.state.dateProgrammeDisplay} onChange={this.updateDateProgramme}/>\n                        </div>\n                        <div className=\"sub-category-option\">\n                            <label> Lieu : \n                            </label>\n                            <Dropdown \n                                value={selectedNumLieu} \n                                objArray = {lieuList} \n                                onChange={\n                                    (e)=> {\n                                        this.updateProbleme({target:{value : selectedNumProblemeTechType}} , e.target.value);\n                                    }\n                                }\n                            />\n                        </div>\n                        <div className=\"sub-category-option\">\n                            <label> Commentaire : \n                            </label>\n                            <textarea value={commentaire} onChange={this.updateCommentaire}>\n                            </textarea>\n                        </div>\n                    </FoldableDiv>\n                    <FoldableDiv title=\"Objet de l'intervention\" folded={true}>\n                        <MaterielSelector\n                            socket = {this.props.socket}\n                            onChange = {(obj)=> this.updateMateriel({target: {value : obj.num}})}\n                            selectedLieu = \"nd\"\n                            selectedNumMateriel = {selectedNumMateriel}/>\n\n                    </FoldableDiv>\n                    <FoldableDiv title=\"Motif\" folded={true}>\n                        <div className=\"sub-category-option\">\n                            <label> Motif :\n                            </label>\n                            <textarea value={motif} onChange={this.updateMotif}></textarea>\n                        </div>\n                        <FoldableDiv title=\"Probleme\" folded={true}>\n                            <div className=\"sub-category-option\">\n                                <label> Type du probleme:\n                                </label>\n                                <Dropdown value={selectedNumProblemeTechType} objArray = {problemeList} onChange={this.updateProbleme}/>\n                                <button onClick={()=>this.showPopUp(this.problemeTechTypeCreator)}> Crer </button>\n                            </div>\n                            <div className=\"sub-category-option\">\n                                <label> Lieu : \n                                </label>\n                                <Dropdown value={selectedNumLieu} objArray = {lieuList} onChange={(e) => {  this.updateProbleme({target:{value: selectedNumProblemeTechType}},e.target.value); }}/>\n                            </div>\n                        </FoldableDiv>\n                    </FoldableDiv>\n                </div>\n                <button onClick={this.createIntervention} > Planifier </button>\n                <p> {message} </p>\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React, {Component} from 'react';\n\n/*\n * props:\n * - socket\n * - setSelectedUser\n * - selectedUser\n * - session\n */\n\nexport default class ActiveUsers extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            connectedList : [],\n            allUserList : [],\n        };\n    }\n\n    updateSelectedNumUser = (user) => {\n        console.log('updateSelectedNumUser' , user);\n        this.props.setSelectedUser(user);\n    }\n\n    componentDidMount () {\n        console.log('ActiveUsers mounted');\n        this.props.socket.emit('get tech_mains list');\n        this.props.socket.emit('get list tech_main connected');\n\n        this.props.socket.on('tech_mains list -activeUsers',(tech_mains)=>{\n            console.log('tech_mains list -activeUsers', tech_mains);\n            // { num_user , username , num_type_user}\n            tech_mains.sort((a,b) => {\n                if ( a.num_user === this.props.session.num_user ) return -1;\n                else return 1;\n            });\n            this.setState({\n                allUserList : tech_mains,\n            });\n        });\n\n        this.props.socket.on('tech_main connected list -activeUsers', (connected_tech_mains) => {\n            console.log('tech_main connected list -activeUsers', connected_tech_mains);\n            //connected_tech_mains [num_app_user]\n            this.setState({\n                connectedList : connected_tech_mains,\n            });\n            //update the active of the selectedUser\n            let newSelectedUser = { ... this.props.selectedUser};\n            newSelectedUser.active = connected_tech_mains.includes(this.props.selectedUser.num_user);\n            this.updateSelectedNumUser(newSelectedUser);\n        });\n\n        this.props.socket.on('new message -activeUsers', (newMs) => {\n            console.log('new message -activeUsers');\n            this.props.socket.emit('get tech_mains list');\n        });\n    }\n\n    componentWillUnmount () {\n        console.log('ActiveUsers unmounted');\n        this.props.socket.off('tech_mains list -activeUsers');\n        this.props.socket.off('tech_main connected list -activeUsers');\n    }\n\n\n    render () {\n        let {\n            allUserList ,\n            connectedList,\n        } = this.state;\n        let {\n            session,\n            selectedUser,\n        } = this.props;\n        let elements = allUserList.map( user =>{\n            let active = connectedList.includes( user.num_user );\n            let selected = ( user.num_user === selectedUser.num_user );\n            user.active = active;\n            console.log( user.username , active);\n            return(\n                <UserListItem  \n                    isSelf = { session.num_user === user.num_user }\n                    key={user.num_user} \n                    username={user.username} \n                    nbNewMessage = {user.nbNewMessage}\n                    active={user.active}\n                    selected = {selected}\n                    onClick={()=> this.updateSelectedNumUser(user) }/>\n            );\n        });\n        return (\n            <div className=\"activeUsers\">\n                <div className = \"scroll_list\">\n                    {elements}\n                </div>\n            </div>\n        );\n    }\n}\n                //<div className=\"header-activeUsers\">\n                //    <p> Moi : {session.username} </p>\n                //</div>\n\nfunction UserListItem (props) {\n    let {\n        username ,\n        active ,\n        selected ,\n        isSelf,\n        nbNewMessage,\n    } = props;\n    /*\n     * props:\n     * - username\n     * - onClick\n     * - active : if online or not\n     * - selected :\n     */\n    let style;\n    let pStyle;\n    if(selected){\n        style = {\n            borderBottom : '1px solid red',\n            background : 'white',\n        };\n    }else{\n        style = {\n        };\n    }\n    if(active){\n        pStyle = {\n            borderRight : '5px solid green',\n        };\n    }else{\n        pStyle = {\n            borderRight : '5px solid red',\n        }\n    }\n    return(\n        <div className=\"userListItem\" style={style}>\n            <p onClick={props.onClick} style={pStyle}> \n                {username} {(nbNewMessage > 0) ? `(${nbNewMessage})` : ''}\n                {(isSelf) ? `(moi)`:'' } <span className=\"statut-userListItem\">{(active) ? 'connect' : 'non-connect'}</span>\n            </p>\n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Intervention from './../intervention';\n\n/*\n * props :\n * - tech : num_user , username \n * - socket :\n * - showSub : for intervention\n */\nexport default class TechActivityDisplay extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            listUndoneIntervention : [],\n            listPendingIntervention : [],\n            listDoneTodayIntervention : [],\n        };\n    }\n    componentDidMount() {\n        console.log('TechActivityDisplay mounted');\n        \n        this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n        this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n        this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n\n        this.props.socket.on('list undone intervention -techActivityDisplay' , (undoneInterventions) => {\n            console.log('list undone intervnetion -techActivityDisplay' , undoneInterventions);\n            let newList = undoneInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listUndoneIntervention : newList,\n            });\n        });\n\n        this.props.socket.on('pending intervention -techActivityDisplay', (pendingInterventions) => {\n            console.log('pending intervention -techActivityDisplay', pendingInterventions);\n            let newList = pendingInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listPendingIntervention : newList,\n            });\n        });\n\n        this.props.socket.on('done today intervention -techActivityDisplay' , (doneTodayInterventions) => {\n            console.log('done today intervention -techActivityDisplay', doneTodayInterventions);\n            let newList = doneTodayInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listDoneTodayIntervention : newList,\n            });\n        });\n\n        this.props.socket.on('ended intervention -techActivity', () => {\n            this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n        });\n\n        this.props.socket.on('started intervention -techActivity',()=>{\n            this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n        });\n    }\n    componentDidUpdate(prevProps, prevState){\n        console.log('TechActivityDisplay update');\n        if( prevProps.tech.num_user !== this.props.tech.num_user ){\n            this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n        }\n    }\n    componentWillUnmount(){\n        console.log('TechActivityDisplay unmount');\n        this.props.socket.off('list undone intervention -techActivityDisplay');\n        this.props.socket.off('pending intervention -techActivityDisplay');\n        this.props.socket.off('done today intervention -techActivityDisplay');\n    }\n    render(){\n        let {\n            listUndoneIntervention,\n            listPendingIntervention,\n            listDoneTodayIntervention,\n        } = this.state;\n        let{\n            num_user,\n            username,\n        } = this.props.tech;\n        let indic ;\n        let undoneTitle  = ` faire : ${listUndoneIntervention.length}`;\n        let pendingTitle = `En cours : ${listPendingIntervention.length}`;\n        let doneTitle = `Termine aujourd'hui : ${listDoneTodayIntervention.length}`;\n\n        let undoneElements = listUndoneIntervention.map( interv =>\n            <Intervention key = {interv.num_intervention} intervention = {interv} showSub={this.props.showSub}/>\n        );\n        let pendingElements = listPendingIntervention.map( interv => \n            <Intervention key = {interv.num_intervention} intervention = {interv} showSub={this.props.showSub}/>\n        );\n        let doneTodayElements = listDoneTodayIntervention.map( interv =>\n            <Intervention key = {interv.num_intervention} intervention = {interv} showSub={this.props.showSub}/>\n        );\n        console.log('tech activite' , num_user);\n        if( num_user ){\n            indic = `Activits de ${username}`;\n        }else{\n            indic = 'Activits';\n        }\n        return (\n            <div className=\"techActivityDisplay\">\n                <div className=\"indic\">\n                    <p>{indic}</p>\n                    { num_user && username &&\n                        <button onClick={()=> this.props.resetUser()}>X</button>\n                    }\n                </div>\n                <div className=\"main\">\n                    <div className=\"scroll_list\">\n                        <FoldableDiv title={pendingTitle} >\n                            <div className=\"scroll_list\">\n                                {pendingElements}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={undoneTitle} folded={true}>\n                            <div className=\"scroll_list\">\n                                {undoneElements}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={doneTitle} folded={true} >\n                            <div className=\"scroll_list\">\n                                {doneTodayElements}\n                            </div>\n                        </FoldableDiv>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React , { Component } from 'react';\nimport ActiveUsers from './../activeUsers';\nimport TechActivityDisplay from './../techActivityDisplay';\n\n/*\n * props : \n * - socket \n * - session : username , num_user\n * -showSub\n */\n\nexport default class TechActivity extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            selectedUser: {},\n        };\n    }\n    updateSelectedUser = (user) => {\n        console.log('updateSelectedUser' , user);\n        this.setState({\n            selectedUser : user,\n        });\n    }\n    render () {\n        let {\n            selectedUser,\n        } = this.state;\n        let indic ;\n        if( selectedUser.num_user ){\n            indic = `Activite de ${selectedUser.username}`;\n        }else{\n            indic = '...';\n        }\n        return (\n            <div className=\"techActivity\">\n                <div className=\"side\">\n                    <ActiveUsers\n                        socket = {this.props.socket}\n                        session = {this.props.session}\n                        selectedUser = {selectedUser}\n                        setSelectedUser = {this.updateSelectedUser}\n                        />\n                </div>\n                <div className=\"main\">\n                    <TechActivityDisplay\n                        tech={selectedUser}\n                        socket = { this.props.socket }\n                        resetUser = { () => this.updateSelectedUser({}) }\n                        showSub = {this.props.showSub}/>\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\r\nimport React from 'react';\r\nimport { NavLink , Switch , Route ,Redirect} from 'react-router-dom';\r\nimport ToDoList from './../toDoList';\r\nimport NotifsList from './../notifsList';\r\nimport CreateIntervention from './../createIntervention';\r\nimport TechActivity from './../techActivity';\r\n\r\nexport default class Dashboard extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            nbInterventionUndone : 0,\r\n            nbNewNotification: 0,\r\n        }\r\n    }\r\n\r\n\r\n    nbInterventionUndonePlus = (nb) => {\r\n        console.log('nbInterventionUndonePlus' ,nb)\r\n        //let newNb = nb || this.state.nbInterventionUndone + 1 ;\r\n        let newNb = nb;\r\n        newNb = parseInt(newNb);\r\n        this.setState({\r\n            nbInterventionUndone : newNb,\r\n        });\r\n    }\r\n    nbNewNotificationPlus = (nb) => {\r\n        console.log('nbNewNotificationPlus' ,nb)\r\n        //let newNb = nb || this.state.nbNewNotification + 1 ;\r\n        let newNb = nb;\r\n        newNb = parseInt(newNb);\r\n        this.setState({\r\n            nbNewNotification : newNb,\r\n        });\r\n    }\r\n    componentDidMount= () => {\r\n        console.log('DASHBOARD did mount');\r\n        this.props.socket.emit('get nb intervention undone');\r\n        this.props.socket.emit('get nb unanswered notifs');\r\n\r\n        this.props.socket.on('nb intervention undone', (nb) => {\r\n            console.log('nb intervention undone');\r\n            this.setState({\r\n                nbInterventionUndone : nb,\r\n            });\r\n        });\r\n\r\n        this.props.socket.on('nb unanswered notifs -dashboard', (nb) => {\r\n            this.setState({\r\n                nbNewNotification : nb,\r\n            });\r\n        });\r\n\r\n        this.props.socket.on('new intervention', () => {\r\n            console.log('new intervention dashboard');\r\n            this.props.socket.emit('get nb intervention undone');\r\n        });\r\n\r\n        this.props.socket.on('ended intervention', () => {\r\n            console.log(' ended intervention dashboard');\r\n            this.props.socket.emit('get nb intervention undone');\r\n        });\r\n      \r\n\r\n\r\n        \r\n    }\r\n    \r\n    componentWillUnmount = () => {\r\n        //this.props.socket.off('new notif');\r\n     \r\n        this.props.socket.off('nb intervention undone');\r\n        this.props.socket.off('new intervention ');\r\n        this.props.socket.off('ended intervention');\r\n        this.props.socket.off('materiel list');\r\n        this.props.socket.off('nb unanswered notifs -dashboard');\r\n    }\r\n    render() {\r\n        let { path , url } = this.props.match;\r\n        let mainDashboardStyle ;\r\n        return (\r\n            <div className=\"dashboard\">\r\n                <div className=\"main-dashboard\" style={mainDashboardStyle}>\r\n                    <nav id=\"nav_dashboard\">\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/toDo`}> Interventions a faire {(this.state.nbInterventionUndone > 0) ? `(${this.state.nbInterventionUndone})`:''} </NavLink>\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/tech_activity`}> Activites </NavLink>\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/notifs`}> Notifications {(this.state.nbNewNotification > 0) ? `(${this.state.nbNewNotification})`:''}</NavLink>\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/creer`}> Creer </NavLink>\r\n                    </nav>\r\n                    <div id=\"display_dashboard\">\r\n                        <Switch>\r\n                            <Redirect exact from={path} to={`${path}/toDo`} />\r\n                            <Route path={`${path}/toDo`} render = {\r\n                                (routeProps) => <ToDoList \r\n                                                    setNbInterventionUndone={this.nbInterventionUndonePlus}\r\n                                                    {...routeProps} \r\n                                                    {...this.props} />\r\n                             }/>\r\n                            \r\n                            <Route path = { `${path}/tech_activity`} \r\n                                    render = {\r\n                                        (routeProps) => <TechActivity\r\n                                                            { ... routeProps}\r\n                                                            socket = {this.props.socket}\r\n                                                            session = {this.props.session}\r\n                                                            showSub = {this.props.showSub}\r\n                                                        />\r\n                            }/>\r\n\r\n                            <Route path={`${path}/notifs`} render = {\r\n                                (routeProps) => <NotifsList  {...routeProps} {...this.props} setNbNewNotif = {this.nbNewNotificationPlus} />\r\n                            }/>\r\n\r\n                            <Route path={`${path}/creer`} render = {\r\n                                (routeProps) => <CreateIntervention {...routeProps} {...this.props} />\r\n                            }/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import './index.css';\nimport React from 'react';\nimport { Urgent } from './../../urgent.js';\n\nexport default class NotifHistoryTech extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n        }\n    }\n    showDetails = () => {\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n    render () {\n        let style;\n        let sumStyle ;\n        let statutStyle ;\n        let detailStyle ;\n        switch(this.props.notif.statut_code){\n            case Urgent.MAX.code :\n                style = {\n                    borderLeft : '13px solid red',\n                    //borderRight : '13px solid red',\n                };\n                statutStyle = {\n                    //background : 'red',\n                    color : 'red',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MID.code :\n                style = {\n                    borderLeft : '13px solid yellow',\n                    //borderRight : '13px solid yellow',\n                };\n                statutStyle = {\n                    //background : 'yellow',\n                    color : 'yellow',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MIN.code :\n                style = {\n                    borderLeft : '13px solid blue',\n                    //borderRight : '2px solid blue',\n                };\n                statutStyle = {\n                    //background : 'blue',\n                    color : 'blue',\n\n                }\n                break;\n             default :\n                break;\n        }\n        if(this.state.detailsAreShown){\n            detailStyle = {\n                height : \"80%\",\n            };\n            sumStyle = {\n                height : \"15%\",\n            };\n            style = {\n                ...style,\n                height : \"300px\",\n            }\n\n        }\n        if(this.props.notif.num_app_user_tech_main && this.props.notif.date_reponse){\n            style = {\n                ...style,\n                background : '#a9c8f7',\n            }\n        }\n        return (\n            <div className=\"notif_history\" style={style} >\n                <div className=\"notif_history-sum\" style={sumStyle}>\n                    <div className=\"probleme_type\" >\n                        <p> {this.props.notif.probleme_type} </p>\n                        <p> {this.props.notif.code} </p>\n                    </div>\n                    <div className=\"probleme_statut\" style={statutStyle}>\n                        <p> {this.props.notif.statut_libelle} </p>\n                        <p> {this.props.notif.lieu} </p>\n                    </div>\n                    <div className=\"user_sender_username\">\n                        <p> par : {this.props.notif.user_sender_username} </p>\n                    </div>\n                    <div className=\"date_envoie\">\n                        <p> Date d'envoie : </p>\n                        <p> {this.props.notif.date_envoie} </p>\n                    </div>\n                    <button className=\"myButton\" onClick={this.showDetails}> Details </button>\n                </div>\n                { this.state.detailsAreShown &&\n                    <div className=\"notif-details\" style={detailStyle}>\n                        <p> remarque: {this.props.notif.remarque} </p>\n                        <p> envoyee par : {this.props.notif.user_sender_username} </p>\n                        <p> prise en charge par : {this.props.notif.tech_main_username}  </p>\n                        <p> repondue le : {this.props.notif.date_reponse} </p>\n                        <p> ID notification : {this.props.notif.num_notification} </p>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React from 'react';\nimport NotifHistoryTech from './../notifHistoryTech';\nimport DropDown from './../../utils/dropDown';\n\nexport default class NotifsHistory extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            notifsTab : [],\n            usersList : [],\n            selectedUser : 'all',\n        }\n    }\n    componentDidMount = async () => {\n        console.log(' NOTIFSHISTORY did mount ');\n        this.props.socket.emit('get notifs history');\n        this.props.socket.on('notifs history' , (notifsTab) => {\n            console.log('notification history for tech_main' , notifsTab);\n            let newNotifsTab = notifsTab.map( notif => ({\n\n                ...notif,\n                statut_code : notif.statut,\n                statut_libelle : notif.statut_libelle,\n                remarque : notif.remarque || '-' ,\n                date_envoie : new Date(notif.date_envoie).toLocaleString('fr-FR'),\n                tech_main_username : notif.tech_main_username || '-',\n                date_reponse : (notif.date_reponse) ? new Date(notif.date_reponse).toLocaleString('fr-FR') : '-' ,\n            }));\n            console.log('newNotifsTab' , newNotifsTab);\n            this.setState({\n                notifsTab : newNotifsTab,\n            });\n        });\n        this.props.socket.emit('get users list');\n        this.props.socket.on('users list' , (usersList) => {\n            console.log('users list' , usersList );\n            usersList.push({ num_user : 0 , username : 'all'});\n            this.setState({\n                usersList : usersList,\n            });\n        });\n    }\n\n    componentDidUpdate = () => {\n        console.log('NOTIFSHISTORY update');\n    }\n\n    updateSelectedUser = (e) => {\n        //alert('user selected is ' +e.target.value );\n        if ( e.target.value !== 'all' ) this.props.socket.emit('get notifs history', e.target.value);\n        else this.props.socket.emit('get notifs history');\n        this.setState({\n            selectedUser : e.target.value,\n        });\n    }\n\n    componentWillUnmount = () => {\n        this.props.socket.off('notifs history');\n        this.props.socket.off('users list');\n    }\n    showNotifs = (notifsTab) => {\n        return (\n            notifsTab.map( notif => \n                <NotifHistoryTech key={notif.num_notification} notif={notif} />\n            )\n        );\n    }\n    render (){ \n        let usersOption = this.state.usersList.map( user => \n            //<option value={user.num_user} key={user.num_user}> {user.username} </option>\n            ({\n                key : user.num_user ,\n                value : user.num_user ,\n                libelle : user.username,\n            })\n        );\n                        //<select value={this.state.selectedUser} defaultValue={this.state.usersList[this.state.usersList.length - 1 ]} onChange={this.updateSelectedUser}>\n                            //{usersOption}\n                        //</select>\n        return (\n            <div className = \"notifsHistory\" > \n                <div className=\"notifsHistory-select\">\n                    <p> Historiques des notifications envoyer par :  \n                    </p>\n                    <DropDown objArray={usersOption}  value={this.state.selectedUser} onChange={this.updateSelectedUser} />\n                </div>\n                <div className=\"notifsHistory-list\">\n                    { this.showNotifs(this.state.notifsTab) }\n                </div>\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React , { Component } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport DropDown from './../utils/dropDown';\n/*\n * prop : \n * - onChangeProblemeTechType : when we change the probleme tech type\n * - numProblemeTechType :\n * - onChangeLieu :\n * - numLieu\n * - onChangeRemarque :\n * - remarque\n * - socket\n * - problemeTechTypeArray\n * - LieuArray\n * \n */\n\nexport default class ProblemeConstate extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            problemeTechTypeArray : [],\n            lieuArray : [],\n        }\n    }\n    componentDidMount () {\n        console.log('probleme constate mounted');\n        this.props.socket.emit('get probleme_tech_type list');\n        this.props.socket.emit('get lieu list');\n\n        this.props.socket.on('probleme_tech_type list -problemeTechConstate' , (probleme_tech_types) => {\n\n            console.log('probleme_tech_types list',probleme_tech_types);\n            let newProblemeList = probleme_tech_types.map( blem => ({\n                key : blem.num_probleme_tech_type,\n                value : blem.num_probleme_tech_type,\n                libelle : blem.libelle_probleme_tech_type,\n            }));\n            newProblemeList.unshift({\n                key : 'nd',\n                value :'nd',\n                libelle : 'nd',\n            });\n            this.setState({\n                problemeTechTypeArray : newProblemeList,\n            });\n\n        });\n\n        this.props.socket.on('lieu list -problemeTechConstate' , (lieus) => {\n            console.log('lieus' , lieus );\n            let newLieuList = lieus.map( lieu => ({\n                key : lieu.num_lieu,\n                value : lieu.num_lieu,\n                libelle : lieu.libelle,\n            }));\n            newLieuList.unshift({\n                key : 'nd',\n                value :'nd',\n                libelle : 'nd',\n            });\n            this.setState({\n                lieuArray : newLieuList,\n            });\n        });\n    }\n\n    componentWillUnmount () {\n        console.log('ProblemeTechConstate unmount');\n        this.props.socket.off('probleme_tech_type list -problemeTechConstate');\n        this.props.socket.off('lieu list -problemeTechConstate');\n    }\n    \n    render () {\n        let {\n            numProblemeTechType,\n            numLieu,\n            remarque,\n            onChangeProblemeTechType,\n            onChangeLieu,\n            onChangeRemarque,\n        } = this.props;\n        let {\n            problemeTechTypeArray,\n            lieuArray,\n        } = this.state;\n        return (\n            <div className=\"problemeTechConstate\">\n                <FoldableDiv title=\"Probleme constat\" folded={true}>\n                    <DropDown objArray={problemeTechTypeArray} value={numProblemeTechType} onChange={onChangeProblemeTechType}/>\n                    <DropDown objArray={lieuArray} value={numLieu} onChange={onChangeLieu}/>\n                    <textarea placeholder=\"Remarque\" value={remarque} onChange={onChangeRemarque}>\n                    </textarea>\n                    \n                </FoldableDiv>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React, {useState} from 'react';\nimport FoldableDiv from './../foldableDiv';\n\n/*\n * props :\n * - log : <string>; \n * - updateLog \n */\nexport default function InterventionLog (props) {\n    let etapes =(props.log) ? props.log.split(';') : [''];\n    //change size of etapes depending nbEtapes and etapes\n\n    function changeEtapesLength (e,newLength) {\n        e.preventDefault();\n        if ( newLength > etapes.length ){\n            for( let i = 0 , dE = newLength - etapes.length ; i < dE ; i ++) {\n                etapes.push('');\n            }\n        }else if ( newLength < etapes.length ) {\n            etapes.length = newLength;\n        }\n        props.updateLog( etapes.join(';'));\n    }\n    \n\n    function changeEtape (newEtape,index){\n        console.log('change Etapes', index);\n        let newEtapes = etapes.slice();\n        newEtapes[index] = newEtape;\n        props.updateLog( newEtapes.join(';'));\n    };\n    console.log('etapes before render' , etapes);\n    let logElements = etapes.map( (etape,index) => \n        <input value={etape} placeholder={`etape #${index+1}`} key={index} onChange={(e)=>changeEtape(e.target.value,index)}/>\n    );\n    \n    return (\n        <div className=\"interventionLog\">\n            <FoldableDiv title=\"Log\" folded={true}>\n                <form onSubmit={ (e)=>changeEtapesLength(e,etapes.length + 1) } >\n                    {logElements}\n                    <button onClick={(e)=>changeEtapesLength(e,etapes.length + 1)}> + </button>\n                    <button onClick={(e)=>changeEtapesLength(e,etapes.length - 1)}> - </button>\n                </form>\n            </FoldableDiv>\n        </div>\n    );\n}\n\n\n","import './index.css';\nimport React from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport ProblemeTechConstate from './../problemeTechConstate';\nimport InterventionLog from './../interventionLog';\nimport InterventionDecharge from './../interventionDecharge';\nimport MultiMaterielSelector from './../multiMaterielSelector';\n\nexport default class InterventionPage extends React.Component  {\n    constructor(props){\n        super(props);\n        this.state ={\n            techMainIsAuth : false,\n            num_intervention : this.props.num_intervention,\n            intervention : {},\n            pwd : '',\n            selectedNumProblemeTechType: 'nd',\n            selectedNumLieu : 'nd',\n            remarque : '',\n            log : 'etape1 ; etape2; etape3;',\n            num_decharge : '',\n            materiels : [{num:'nd' , type:'nd', lieu:'nd'}],//only one but to adapt to multiMaterielSelector way of things we use an array\n        }\n    }\n    updateMateriel = (newMateriels) => {\n        this.setState({\n            materiels : newMateriels,\n        });\n\n    };\n    updateProblemeTechType = (e) => {\n        let newNumProblemeTechType = e.target.value;\n        this.setState({\n            selectedNumProblemeTechType : newNumProblemeTechType,\n        });\n    }\n    updateLieu = (e) => {\n        let newNumLieu = e.target.value;\n        this.setState({\n            selectedNumLieu : newNumLieu,\n        });\n    }\n    updateRemarque = (e) => {\n        let newRemarque = e.target.value;\n        this.setState({\n            remarque : newRemarque,\n        });\n    }\n    updateLog = (newLog) => {\n        this.setState({\n            log : newLog,\n        });\n    }\n    updatePwd = (e) => {\n        let newPwd = e.target.value;\n        this.setState({\n            pwd : newPwd,\n        })\n    }\n    authenticate = (e) => {\n        e.preventDefault();\n        let pwd = this.state.pwd;\n        //alert( 'is password for tech_main_creator of num_intervention'+ this.props.num_intervention+' this '+pwd); \n        if (pwd) {\n            this.props.socket.emit('authenticate intervention tech_main' , this.state.num_intervention , pwd);\n        }\n    }\n    startIntervention = () => {\n       let {    num_intervention} = this.state.intervention;\n        console.log('start intervention');\n        if( this.state.techMainIsAuth ) {\n            this.props.socket.emit('start intervention' , num_intervention );\n        }\n    }\n    endIntervention = (resolu = false) => {\n       let {    num_intervention,\n                date_debut } = this.state.intervention;\n        if (!date_debut) {\n            console.log('pas de date de debut mais problem OK');\n        }\n        console.log('resolu' , resolu);\n        console.log('end intervention');\n        if( this.state.techMainIsAuth ) {\n            this.props.socket.emit('end intervention' , num_intervention  , resolu , date_debut);\n        }\n    }\n    updateIntervention = () => {\n        let {\n            num_intervention,\n        } = this.state.intervention;\n        let {\n            log,\n            selectedNumProblemeTechType,\n            selectedNumLieu,\n            remarque,\n            num_decharge,\n            materiels,\n        } = this.state;\n        console.log('updateIntervention', num_intervention , log , selectedNumProblemeTechType ,selectedNumLieu);\n        let isInput = log ||(selectedNumProblemeTechType !== 'nd' && selectedNumLieu !== 'nd') ; \n        if( num_intervention ){\n            if( log ) {\n                console.log('emit udpdate intervention info log');\n                this.props.socket.emit('update intervention info log' , num_intervention ,log);\n            }\n            if( selectedNumProblemeTechType !== 'nd' && selectedNumLieu !== 'nd'){\n                console.log('emit update intervention info probleme_tech');\n                let probleme_constate = {\n                    num_probleme_tech_type : selectedNumProblemeTechType,\n                    num_lieu : selectedNumLieu,\n                    remarque ,\n                }\n                this.props.socket.emit('update intervention info probleme_tech' , num_intervention , probleme_constate);\n            }\n            if(num_decharge){\n                console.log('emit update decharge intervention');\n                this.props.socket.emit('update decharge intervention' , num_decharge , num_intervention);\n            }\n            if(materiels.length > 0 \n                && !( materiels.filter(item => item.num === 'nd').length > 0 ) ){\n                console.log('emit update intervention info num_materiel');\n                this.props.socket.emit('update intervention info num_materiel', num_intervention , materiels[0].num);\n            }\n        } \n    }\n\n    openCreateIntervention = () => {\n        this.props.closeSub();\n        let state = {\n            num_intervention_pere : this.state.num_intervention,\n            num_intervention_type : 'a768355e-3cd2-497c-b579-d4e184b61298'//suite_int id\n        };\n        //this.props.history.push('/acim/dashboard/creer',state);\n        this.props.history.push('/acim/creer',state);\n    }\n\n    getDecharge = (num_decharge) => {\n        //get the server url , \n        const s_URL = new URL(document.location.href);\n        //may not need to change port\n        const m_path = `/pdf/acim/decharge/${num_decharge}`\n        s_URL.port = 3500;\n        s_URL.pathname = m_path;\n        console.log('s_URL',s_URL);\n        window.open(s_URL, '_blank');\n    }\n    getDechargeDoc = (num_decharge) => {\n        //get the server url , \n        const s_URL = new URL(document.location.href);\n        //may not need to change port\n        const m_path = `/docx/acim/decharge/${num_decharge}`\n        s_URL.port = 3500;\n        s_URL.pathname = m_path;\n        console.log('s_URL',s_URL);\n        window.open(s_URL, '_blank');\n    }\n\n    componentDidMount () {\n        console.log('intervention page mounted');\n        console.log(this.props.socket);\n        this.props.socket.emit('get intervention data' , this.props.num_intervention);\n        this.props.socket.on('intervention data',(intervention) => {\n            console.log('intervention data', intervention);\n\n            this.setState({\n                intervention : intervention ,\n                log : intervention.log,\n                num_decharge : intervention.num_decharge,\n            });\n        });\n\n        this.props.socket.on('tech_main is authenticated', (num_intervention) => {\n            if( num_intervention === this.state.num_intervention ){\n                console.log('tech is auth to true');\n                this.setState({\n                    techMainIsAuth : true,\n                    pwd : '',\n                });\n            }\n        });\n\n        this.props.socket.on('started intervention', (intervention) => {\n            console.log('intervention started ' , intervention.num_intervention , intervention.date_debut);\n            if ( this.state.num_intervention === intervention.num_intervention ){\n                this.setState({\n                    intervention : intervention,\n                });\n            }\n\n        });\n        \n        this.props.socket.on('ended intervention interventionPage', (intervention) => {\n            console.log('intervention ended ' , intervention.num_intervention , intervention.date_debut);\n            if ( this.state.num_intervention === intervention.num_intervention ){\n                this.setState({\n                    intervention : intervention,\n                });\n            }\n\n        });\n\n        this.props.socket.on('new decharge' , (newDecharge) => {\n            let {\n                num_decharge\n            } = newDecharge;\n            this.setState({\n                num_decharge : num_decharge,\n            });\n        });\n\n    }\n    \n    componentDidUpdate(){\n        console.log('intervention page updated' , this.props.num_intervention);\n        if( this.props.num_intervention !== this.state.num_intervention ) {\n            this.props.socket.emit('get intervention data' , this.props.num_intervention);\n            let newIntervention ;\n            if( !this.props.num_intervention ) newIntervention = {};\n            else newIntervention = this.state.intervention ;\n            this.setState({\n                num_intervention : this.props.num_intervention,\n                techMainIsAuth : false,\n                intervention : newIntervention,\n                num_decharge : '',\n                \n            });\n        }\n        \n    }\n    componentWillUnmount(){\n        console.log('interventionPage unmount');\n        this.props.socket.off('intervention data');\n        this.props.socket.off('tech_main is authenticated');\n        this.props.socket.off('started intervention');\n        //this.props.socket.off('probleme_tech_type list');\n        //this.props.socket.off('lieu list');\n        this.props.socket.off('new decharge');\n    }\n    render () {\n        \n        let {\n            tech_main_username,\n            libelle_intervention_type,\n            motif,\n            libelle_lieu,\n            date_programme,\n            date_debut,\n            date_fin,\n            done,\n            probleme_resolu,\n            libelle_probleme_tech_type,//if there is\n            log : log_info,//if there is\n            lieu_probleme_tech,\n            num_decharge : num_decharge_info,\n            num_materiel,\n            libelle_materiel ,\n            libelle_materiel_type ,\n            children,\n            num_intervention_pere,\n            commentaire,\n        }   = this.state.intervention;\n        let log_info_tab , log_info_elements;\n        if( log_info ) {\n            log_info_tab = log_info.split(';');\n            log_info_elements = log_info_tab.map( (etape,index) => \n                <li key = {index}>{etape}</li>\n            );\n        }\n        \n        let {\n            selectedNumProblemeTechType,\n            selectedNumLieu,\n            remarque,\n            log,\n            num_decharge,\n            materiels,\n        }   = this.state;\n        \n        let {\n            style,\n            closeSub,\n        }   = this.props;\n        if (date_debut) date_debut = new Date(date_debut).toLocaleString('fr-FR');\n        if (date_programme) date_programme = new Date(date_programme).toLocaleString('fr-FR');\n        if( date_fin ) date_fin = new Date(date_fin).toLocaleString('fr-FR');\n        let { num_intervention } = this.props;\n        let display ;\n        let control = (\n            <>\n                { !date_debut &&\n                    <button className=\"myButton\" onClick={this.startIntervention}> Commencer </button>\n                }\n                {  !done &&\n                        <button className=\"myButton myButton_warning\" onClick={() => this.endIntervention()}> Terminer </button>\n                }\n                {  !probleme_resolu &&\n                        <button className=\"myButton\" onClick={() => this.endIntervention(true)}> Termin & Rsolu </button>\n                }\n                { !probleme_resolu && done && this.props.match.path === '/acim' &&\n                        <button  className=\"myButton\" onClick={this.openCreateIntervention}> Creer une intervention suite </button>\n                }\n            </>\n        );\n        console.log('children' , children);\n        let childButton;\n        if( children){\n            childButton = children.map( child => \n                <li key={child.num_intervention}>\n                    Intervention #<button onClick={()=> this.props.showSub(child.num_intervention)}> {child.num_intervention} </button>\n                </li>\n            );\n        }\n        if( this.state.techMainIsAuth ) {\n            let info;\n            info = (\n                <>\n                    { num_intervention_pere &&\n                        <p> { `Suite de l'intervention : ` }   \n                            <button onClick={()=> this.props.showSub(num_intervention_pere)}> {num_intervention_pere} </button>\n                        </p>\n                    }\n                    <p> Type : {libelle_intervention_type} </p> \n                    <p>   -  {commentaire} </p> \n                    <p> Motif : {motif} </p>\n                    <p> Lieu : {libelle_lieu} </p>\n                    <p> Faite par : {tech_main_username} </p>\n                    <p> Programme le : {date_programme} </p>\n                    <p> Debutee le : {date_debut} </p>\n                    <p> Terminee le : {date_fin} </p>\n                    { libelle_probleme_tech_type &&\n                        <p> Probleme constat : { libelle_probleme_tech_type } -- {lieu_probleme_tech} </p>\n                    }\n                    { log_info && \n                        <p>\n                             {`${(log_info_tab.length > 1)? 'Etapes suivies' : 'Etape suivie'}`} : \n                             {log_info_elements} \n                        </p>\n                    }\n                    { num_decharge_info &&\n                        <p>\n                            ID decharge : \n                            <button onClick={()=> this.getDechargeDoc(num_decharge_info)}> {num_decharge_info} </button>\n                        </p>\n                    }\n                    { num_materiel &&\n                            <p>\n                            Intervention sur : {libelle_materiel_type} -- {libelle_materiel}\n                            </p>\n                    }\n                    <p> Probleme resolue : { (probleme_resolu) ? 'OUI' : 'NON' } </p>\n                    { children.length > 0 &&\n                            <p>\n                               Suite : {childButton} \n                            </p>\n                    }\n                </>\n            );\n            display = (\n                <>\n                    <div className=\"intervention-form\">\n                        <FoldableDiv title=\"INFO\">\n                            {info}\n                        </FoldableDiv>\n                        <div className=\"intervention-modifier\">\n                            <FoldableDiv title=\"Modifier\" folded={true}>\n                                <ProblemeTechConstate \n                                    numProblemeTechType = {selectedNumProblemeTechType}\n                                    numLieu = {selectedNumLieu}\n                                    remarque = {remarque}\n                                    onChangeProblemeTechType = {this.updateProblemeTechType}\n                                    onChangeLieu = {this.updateLieu}\n                                    onChangeRemarque = {this.updateRemarque}\n                                    socket = {this.props.socket} \n                                    />\n                                <InterventionLog \n                                    log = {log}\n                                    updateLog = {this.updateLog}\n                                    />\n                                    <MultiMaterielSelector\n                                        socket = {this.props.socket}\n                                        listMateriel = {materiels}\n                                        setListMateriel = {this.updateMateriel}\n                                        maxListMaterielLength = {1}\n                                        title=\"Objet de l'intervention\"\n                                        folded={true}\n                                        />\n                                <InterventionDecharge\n                                    socket = {this.props.socket}\n                                    num_intervention = {num_intervention}\n                                    num_decharge = {num_decharge}\n                                    downloadDecharge = {this.getDecharge}\n                                    downloadDechargeDoc = {this.getDechargeDoc}\n                                    />\n                                <button onClick={this.updateIntervention}> Sauvergarder </button>\n                            </FoldableDiv>\n                        </div>\n                    </div>\n                    <div className=\"intervention-control\">\n                        {control}\n                    </div>\n                </>\n            );\n        }else{\n            display = (\n                <form onSubmit={this.authenticate} className=\"pwdForm\">\n                    <input type=\"password\" \n                            placeholder={`mot de passe de ${tech_main_username}`}  \n                            value={this.state.pwd} \n                            className = \"pwdInput\"\n                            onChange={this.updatePwd}/>\n                    <button onClick={this.authenticate} className=\"myButton\" > Valider </button>\n                </form>\n            );\n        }\n        return(\n            <div className=\"interventionPage\" style={style}>\n                <div className=\"interventionPage-title\">\n                    <button onClick={closeSub}> {'x'} </button>\n                    <p> Intervention </p>\n                </div>\n                <p> ID intervention  : {num_intervention} </p>\n                <div className=\"intervention-display\">\n                    {display}\n                </div>\n            </div>\n        );\n    }\n}\n","\nexport function formatDate (date) {\n    let day = `${date.getDate()}`;\n    let month = `${date.getMonth() +1}`;\n    let year = date.getFullYear();\n    month = (month.length < 2) ? '0'+month : month;\n    day = (day.length < 2) ? '0'+day : day;\n    return `${year}-${month}-${day}`;\n}\n\nconst func = {\n    formatDate,\n};\nexport default func;\n","import './index.css';\nimport React , {Component} from 'react';\nimport { formatDate } from './../../functions';\nimport DropDown from './../utils/dropDown';\n\n/*\n * props: - setTechMain \n * - setDebut\n * - setFin\n * - setStatut\n * - setnumIntervention\n * - setInterventionType\n * - socket : for initialization\n * - tech_main,\n * - date_debut,\n * - date_fin,\n * - statut,\n * - num_intervention\n * _ numInterventionType\n */\n\nexport default class InterventionHistoryControl extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            tech_mainList : [],\n            statutList : [\n                {key : 0,\n                value : 0,\n                libelle : 'nd'},\n                { key : 1,\n                value : 1,\n                libelle : 'non-effectue', },\n                { key : 2,\n                  value : 2,\n                  libelle : 'effectue-rsolue'},\n                { key : 3,\n                  value : 3,\n                  libelle : 'effectue-non-rsolue'},\n            ],\n            interventionTypes : [],\n        };\n        this.techMains = {};\n        //this.intervType = {}; //correspondance num_intervention et libelle\n        this.statuts = {\n            0 : {\n                done : 'nd',\n                probleme_resolu : 'nd',\n            },\n            1 : {\n                done : false,\n                probleme_resolu : false,\n            },\n            2 : {\n                done : true,\n                probleme_resolu : true,\n            },\n            3 : {\n                done : true,\n                probleme_resolu : false,\n            },\n        };\n    }\n    updateTechMain = (e) => {\n        console.log('updateTechMain', e.target.value);\n        console.log(this.techMains[e.target.value]);\n        let username = this.techMains[e.target.value];\n        this.props.setTechMain({ num : e.target.value , username : username });\n    }\n    updateDateDebut = (e) => {\n        console.log('updateDateDebut',new Date(e.target.value));\n        let newDebut = new Date(new Date(e.target.value).setHours(0,0,0));\n        this.props.setDateDebut(newDebut);\n    }\n\n    updateDateFin = (e) => {\n        console.log('updateDateFin',new Date(e.target.value));\n        let newFin = new Date(new Date(e.target.value).setHours(23,59,59));\n        this.props.setDateFin(newFin);\n    }\n\n    updateStatut = (e) => {\n        console.log('updateStatut' , e.target.value);\n        let newStatut = this.statuts[e.target.value];\n        this.props.setStatut(newStatut);\n\n    }\n\n    updateNumIntervention = (e) => {\n        console.log('updateNumIntervention' , e.target.value);\n        this.props.setNumIntervention(e.target.value);\n    }\n\n    updateNumInterventionType = (e) => {\n        console.log('updateNumInterventionType',e.target.value);\n        this.props.setNumInterventionType(e.target.value);\n    }\n\n    componentDidMount(){\n        this.props.socket.emit('get tech_mains list');\n        this.props.socket.on('tech_mains list' , (tech_mainList)=>{\n            console.log('tech_mains list');\n            let newTech_mainList = tech_mainList.map( tech => ({\n                key : tech.num_user,\n                libelle : tech.username,\n                value : tech.num_user,\n            }));\n            for(const tech of newTech_mainList){\n                this.techMains = {\n                    ...this.techMains,\n                    [tech.key] : tech.libelle,\n                }\n            }\n            this.techMains = {\n                ...this.techMains,\n                nd : 'nd',\n            }\n            newTech_mainList.unshift({key: 'nd' , libelle : 'nd' , value : 'nd'});\n            console.log('newTech_mainList' , newTech_mainList);\n            this.setState({\n                tech_mainList : newTech_mainList,\n            });\n\n        });\n        this.props.socket.emit('get intervention type');\n        this.props.socket.on('intervention_type list -interventionHistoryControl',(interventionTypes)=>{\n            let newInterventionTypes = interventionTypes.map( item => ({\n                key : item.num_intervention_type,\n                libelle : item.libelle_intervention_type,\n                value : item.num_intervention_type,\n            }));\n            newInterventionTypes.unshift({key: 'nd' , libelle : 'nd' , value : 'nd'});\n            this.setState({\n                interventionTypes : newInterventionTypes,\n            });\n\n        });\n    }\n\n    componentWillUnmount(){\n        console.log('interventionHistoryControl unmount');\n        this.props.socket.off('tech_mains list');\n        this.props.socket.off('intervention_type list -interventionHistoryControl');\n    }\n\n    render(){\n        let {\n            tech_main,\n            date_debut,\n            date_fin,\n            statut,\n            num_intervention,\n            num_intervention_type,\n        } = this.props;\n        let {\n            tech_mainList,\n            statutList,\n            interventionTypes,\n        } = this.state;\n        let statutValue  = 1;\n        if(statut.done){\n            if(statut.done === 'nd'){\n                statutValue = 0;\n            }else{\n                if(statut.probleme_resolu){\n                    statutValue = 2;\n                }else{\n                    statutValue = 3;\n                }\n            }\n        }\n        return(\n            <div className=\"interventionHistoryControl\">\n                <div className=\"sub-control\">\n                    <p> Technicien : </p>\n                    <DropDown \n                        value = {tech_main.num}\n                        onChange = {this.updateTechMain}\n                        objArray = {tech_mainList}\n                        />\n                </div>\n                <div className=\"sub-control\">\n                    <p> Programm du: </p>\n                    <input type=\"date\" \n                        value = {formatDate(date_debut)} \n                        onChange = {this.updateDateDebut}/>\n                </div>\n                <div className=\"sub-control\">\n                    <p> au: </p>\n                    <input type=\"date\"\n                            value = {formatDate(date_fin)}\n                            onChange = {this.updateDateFin}/>\n                </div>\n                <div className=\"sub-control\">\n                    <p> status : </p>\n                    <DropDown \n                        value = {statutValue}\n                        onChange = {this.updateStatut}\n                        objArray = {statutList}\n                        />\n                </div>\n                <div className=\"sub-control\">\n                    <p> {`Type d'intervention :`} </p>\n                    <DropDown \n                        value = {num_intervention_type}\n                        onChange = {this.updateNumInterventionType}\n                        objArray = {interventionTypes}\n                        />\n                </div>\n                <div className=\"sub-control\">\n                    <p> ID : </p>\n                    <input\n                        placeholder = \"Recherche par ID\"\n                        value = {num_intervention}\n                        onChange = {this.updateNumIntervention}\n                        />\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , {Component} from 'react';\nimport Intervention from './../intervention';\n\n/*\n * props :\n * -tech_main_username\n * -date_debut\n * -date_fin\n * -statut\n */\n\nexport default class InterventionHistoryAffichage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            interventions: [],\n        }\n    }\n    displayInterventions = (list) => {\n        return list.map( item => <Intervention key={item.num_intervention} intervention={item} showSub={this.props.showSub} />);\n    };\n    render(){\n        let {\n            tech_main_username,\n            statut,\n            date_debut,\n            date_fin,\n            interventions,\n        } = this.props;\n        let statut_text;\n        let date_text;\n        let tech_main_username_text;\n        if(statut.done){\n            if(statut.done === 'nd') statut_text = ``;\n            else statut_text = `Effectue -- ${(statut.probleme_resolu)? 'Rsolu':'Non-rsolu'}`;\n        }else{\n            //if not done then not resolu\n            statut_text = `Non-effectu`;\n        }\n        if(date_fin === date_debut){\n            date_text = date_fin;\n        }else{\n            date_text = `${date_debut} - ${date_fin}`;\n        }\n        if( tech_main_username !== 'nd' ) {\n            tech_main_username_text = `par ${tech_main_username}`;\n        }else{\n            tech_main_username_text = '';\n\n        }\n        return(\n            <div className=\"interventionHistoryAffichage\">\n                <div className=\"interventionHistoryAffichage-text\">\n                    <p> Intervention {statut_text}  {tech_main_username_text}</p>\n                    <p> du {date_text}</p>\n                    <p> Nombre : {interventions.length} </p>\n                </div>\n                <div className=\"scroll_list\">\n                    {this.displayInterventions(interventions)}\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React, {Component} from 'react';\nimport InterventionHistoryControl from './../interventionHistoryControl';\nimport InterventionHistoryAffichage from './../interventionHistoryAffichage';\n\n\n\nexport default class InterventionHistory extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            tech_main : { num: 'nd' , username : 'nd'},\n            date_debut :new Date(new Date().setFullYear(2020,0,1)) ,\n            date_fin : new Date(new Date().setHours(23,59,59)),\n            statut :{ done : 'nd' , probleme_resolu : 'nd'},\n            interventionList : [],\n            num_intervention : '',//no nd cause we add % and then it is not nd\n            num_intervention_type : 'nd',\n        };\n    }\n    setTechMain = (tech) => {\n        console.log('setTechMain', tech);\n        \n        this.setState({\n            tech_main : tech,\n        });\n    }\n    setDateDebut = (debut) => {\n        //debut must be a new Date()\n        console.log('setDateDebut', debut);\n        if(debut.getTime() > this.state.date_fin.getTime()) debut = new Date(new Date(this.state.date_fin).setHours(0,0,0));\n        \n        this.setState({\n            date_debut : debut,\n        });\n    }\n    setDateFin = (fin) => {\n        console.log('setDateFin', fin);\n        if(fin.getTime() < this.state.date_debut.getTime()) fin = new Date(new Date(this.state.date_debut).setHours(23,59,59));\n        this.setState({\n            date_fin : fin,\n        });\n    }\n    setStatut = (st) => {\n        console.log('setStatut' , st);\n        this.setState({\n            statut : st,\n        });\n    }\n\n    setNumIntervention = (num) => {\n        this.setState({\n            num_intervention : num,\n        });\n    }\n\n    setNumInterventionType = (num) => {\n        this.setState({\n            num_intervention_type : num,\n        });\n    }\n    componentDidUpdate (prevProps,prevState) {\n        //console.log('prevState', prevState);\n        if(prevState.date_debut.getTime() !== this.state.date_debut.getTime()\n            || prevState.date_fin.getTime() !== this.state.date_fin.getTime()\n            || prevState.tech_main.num !== this.state.tech_main.num\n            || prevState.statut.done !== this.state.statut.done\n            || prevState.statut.probleme_resolu !== this.state.statut.probleme_resolu\n            || prevState.num_intervention !== this.state.num_intervention\n            || prevState.num_intervention_type !== this.state.num_intervention_type\n        ){\n            console.log('emit again');\n            let num_intervention;\n            if(this.state.num_interevnetion !== 'nd'){\n                //add '%' for the LIKE comparisson\n                num_intervention = `%${this.state.num_intervention}%`;\n            }\n            this.props.socket.emit('get intervention history', this.state.tech_main.num,this.state.date_debut , this.state.date_fin , this.state.statut , this.state.num_intervention_type ,num_intervention);\n        }\n    };\n    componentDidMount(){\n       console.log('intervention History Mounted');\n       let {\n           tech_main,\n           date_fin,\n           statut,\n       } = this.state;\n       this.props.socket.emit('get intervention history', tech_main.num ,null , date_fin , statut,null , null);\n        //num_intervention use LIKE %...%\n       this.props.socket.emit('get oldest intervention date');\n        this.props.socket.on('oldest intervention date', (minDate) => {\n            this.setState({\n                date_debut : new Date(minDate),\n            });\n        });\n        this.props.socket.on('intervention history', (interventions ) => {\n            console.log('intervention history', interventions );\n            let newInterventionList = interventions.map( (item, index)=> ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle_lieu,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.tech_main_username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            console.log('newInterventionList' , newInterventionList);\n\n\n            this.setState({\n                interventionList : newInterventionList,\n            });\n        });\n\n    }\n    componentWillUnmount(){\n        this.props.socket.off('intervention history');\n        this.props.socket.off('oldest intervention date');\n    }\n\n    render(){\n        let {\n            tech_main,\n            statut,\n            date_debut,\n            date_fin,\n            interventionList,\n            num_intervention,\n            num_intervention_type,\n        } = this.state;\n        return (\n            <div className=\"interventionHistory\">\n                <div className=\"side-InterventionHistory\">\n                    <InterventionHistoryControl\n                        socket={this.props.socket}\n                        tech_main={tech_main}\n                        setTechMain={this.setTechMain}\n                        date_debut={date_debut}\n                        date_fin={date_fin}\n                        setDateDebut={this.setDateDebut}\n                        setDateFin={this.setDateFin}\n                        statut={statut}\n                        setStatut={this.setStatut}\n                        num_intervention = {this.state.num_intervention}\n                        setNumIntervention = {this.setNumIntervention}\n                        num_intervention_type = {num_intervention_type} \n                        setNumInterventionType = {this.setNumInterventionType}\n                        />\n                        \n                </div>\n                <InterventionHistoryAffichage \n                    tech_main_username = {tech_main.username}\n                    date_debut = {date_debut.toLocaleDateString()}\n                    date_fin = {date_fin.toLocaleDateString()}\n                    interventions = {interventionList}\n                    statut={statut}\n                    showSub={this.props.showSub}\n                    />\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\n\n/*\n * props:\n * - socket\n * - selectedUser(num_user, username , num_type_user)\n * - session\n * - setNbNewMessageToZero\n */\n\nexport default class MessageRoom extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            messages : [{ id : 'abab' ,\n                            sent : true,\n                            time_sent : new Date().toLocaleString(),\n                            contenu : 'contenu',\n                            to : 'destinataire',\n                            from : 'envoyeur',\n                          },],\n            newContenu : '',\n            active : this.props.selectedUser.active,\n        };\n        this.myScroll = React.createRef();\n    }\n\n    updateContenu = (e) => {\n        //console.log('updateContenu', e.target.value);\n        this.setState({\n            newContenu : e.target.value,\n        });\n    }\n\n    sendMessage = (e) => {\n        console.log('send message');\n        e.preventDefault();\n        let {\n            session,\n            selectedUser,\n        } = this.props;\n        let {\n            newContenu,\n            messages,\n        } = this.state;\n        if( this.state.newContenu && this.props.session && this.props.selectedUser.num_user){\n            let id = uuidV4();\n            console.log('id' , id)\n            let newMessageDisplay = {\n                id : id,\n                sent : false,\n                time_sent : '',\n                contenu : newContenu,\n                to : selectedUser.username,\n                from : session.username,\n            };\n            let newMessage = {\n                id : newMessageDisplay.id,\n                contenu : newContenu,\n                num_sender : session.num_user,\n                receivers : [ selectedUser.num_user ],\n            };\n            console.log('emit(send message)', newMessage);\n            \n            this.props.socket.emit('send message' , newMessage);\n            let newMessages = messages.slice();\n            newMessages.push(newMessageDisplay);\n            this.setState({\n                messages : newMessages,\n\n            });\n\n        }\n    }\n\n    scrollDown = () => {\n        const scroll = this.myScroll.current;\n        scroll.scrollTop = scroll.scrollHeight;\n    }\n\n    componentDidUpdate (prevProps , prevState){\n        if( prevProps.selectedUser.num_user !== this.props.selectedUser.num_user ) {\n            console.log('emit again');\n            this.props.socket.emit('get messages', this.props.session.num_user , this.props.selectedUser.num_user );\n        }\n    }\n\n    componentDidMount () {\n        console.log('MessageRoom mounted');\n        \n        if( this.props.selectedUser.num_user ) this.props.socket.emit('get messages', this.props.session.num_user , this.props.selectedUser.num_user );\n\n        \n        this.props.socket.on('message sent -messageRoom', (ms) => {\n            console.log('message sent -messageRoom', ms);\n            this.props.socket.emit('get tech_mains list');//update nb new message in activeUsers\n            let newMessages = this.state.messages.map(item => {\n                if (item.id === ms.num_message ) return { ... item , sent : true ,time_sent : new Date(ms.date_envoie).toLocaleString() };\n                else return item;\n            });\n            //if no ms yet in messages\n            if( !this.state.messages.find( msIn => msIn.id === ms.num_message) ) {\n                newMessages.push({ \n                    id : ms.num_message , \n                    sent : true,\n                    time_sent : new Date(ms.date_envoie).toLocaleString() ,\n                    contenu : ms.contenu_message ,\n                    from : ms.envoyeur_username ,\n                    to : ms.recepteur_username,\n                });\n            } \n            //console.log('newMessages',newMessages);\n            this.setState({\n                messages : newMessages,\n                newContenu : '',\n            });\n            this.scrollDown();\n        });\n\n        this.props.socket.on('messages -messageRoom', (messages)=>{\n            console.log('messages -messageRoom',messages);\n            if(messages){\n                let newMessages = messages.map( ms => {\n                    let seen = false;\n                    if( ms.date_reception ) {\n                        ms.date_reception = new Date( ms.date_reception ).toLocaleString('FR-fr');\n                        seen = true;\n                    }\n                    return ({\n                        id : ms.num_message ,\n                        sent : true,\n                        time_sent : new Date(ms.date_envoie).toLocaleString(),\n                        time_seen : ms.date_reception,\n                        seen,\n                    contenu : ms.contenu_message,\n                    to : ms.recepteur_username,\n                    from : ms.envoyeur_username,\n                });\n            });\n            console.log('newMessages +' , newMessages);\n            this.setState({\n                messages : newMessages,\n            });\n            this.scrollDown();\n            this.clickOnMessageRoom();\n        }\n\n    });\n\n    this.props.socket.on('new message -messageRoom' , (ms) => {\n        console.log('new message -messageRoom', ms);\n        let {\n            selectedUser,\n            session,\n        } = this.props;\n        this.props.socket.emit('get tech_mains list');//update nb new message in activeUsers\n            \n            if( this.props.selectedUser.num_user === ms.num_app_user_envoyeur){\n                let newMs = {\n                    id : ms.num_message,\n                    time_sent : new Date(ms.date_envoie).toLocaleString(),\n                    contenu : ms.contenu_message,\n                    sent : true,\n                    tim_seen : ms.date_reception,\n                    seen : false,\n                    from : ms.envoyeur_username,\n                    to : ms.recepteur_username,\n                };\n                console.log(newMs);\n                let newMessages = this.state.messages.slice();\n                newMessages.push(newMs);\n                this.setState({\n                    messages : newMessages,\n                });\n                this.scrollDown();\n            }\n        });\n\n        this.props.socket.on('updateMessages -messageRoom', (updatedMessages) => {\n            console.log('updateMessage -messageRoom' , updatedMessages);\n            let newMessages = this.state.messages.slice();\n            let updatedMessagesId = updatedMessages.map( ms => ms.num_message);\n            console.log('updatedMessagesId' , updatedMessagesId);\n            //update the message with the id = num_message\n            newMessages = newMessages.map( ms =>{\n                let indexInUpdateMessage = updatedMessagesId.findIndex(id => id === ms.id);//assuming that updateMessagesId maps perfectly updateMessage\n                console.log('indexInUpdateMessage', indexInUpdateMessage);\n                if( indexInUpdateMessage !== -1 ){\n                    let seen = !!(updatedMessages[indexInUpdateMessage].date_reception);\n                    return ({\n                        ... ms,\n                        time_seen : new Date(updatedMessages[indexInUpdateMessage].date_reception).toLocaleString('fr-FR'),\n                        seen,\n                    });\n                }else{\n                    return ms;\n                }\n            });\n\n            console.log('newMessages' , newMessages);\n            this.props.socket.emit('get nb new message', this.props.session.num_user);//update nb new message of main\n            this.props.socket.emit('get tech_mains list');\n            this.setState({\n                messages : newMessages,\n            });\n        });\n    }\n\n    \n\n    componentWillUnmount () {\n        console.log('MessageRoom unmount');\n        this.props.socket.off('message sent -messageRoom');\n        this.props.socket.off('messages -messageRoom');\n        this.props.socket.off('new message -messageRoom');\n        this.props.socket.off('updateMessages -messageRoom');\n    }\n\n    clickOnMessageRoom = () => {\n        console.log('clickOnMessageRoom');\n        //make all message seen;\n        console.log('clickOnMessageRoom state.message', this.state.messages);\n        let unseenMessagesByMe = this.state.messages.filter( ms => !ms.seen && !ms.time_seen && ms.to === this.props.session.username );\n        console.log('unseenMessagesByMe', unseenMessagesByMe);\n        if( unseenMessagesByMe.length > 0) this.props.socket.emit('app_user saw messages', unseenMessagesByMe);\n    };\n\n    render () {\n        let {\n            messages,\n            newContenu,\n        } = this.state;\n        let {\n            selectedUser,\n            session,\n        } = this.props;\n\n        let messagesElements = messages.map( ms => \n            <MessageElement key={ms.id}\n                message = {ms}\n                session = {session}\n                />\n        );\n        let display;\n        if(selectedUser.num_user){\n            display = (\n                <>\n                    <div className= \"header-messageRoom\">\n                        <p> {selectedUser.username} {(selectedUser.active) ? '[connect]' : '[non-connect]' } </p>\n                    </div>\n                    <div className= \"main-messageRoom\">\n                        <div className=\"scroll_list\" ref={this.myScroll}>\n                            {messagesElements}\n                        </div>\n                        <div className=\"input-messageRoom\">\n                            <form onSubmit={this.sendMessage}>\n                                <input value = {newContenu} type=\"text\" placeholder=\"Ecrire ici\" onChange={this.updateContenu} />\n                                <button onClick={this.sendMessage}> envoyer </button>\n                            </form>\n                        </div>\n                    </div>\n                </>\n            );\n\n        }else{\n            display = (\n                    <div className= \"header-messageRoom\">\n                        <p> aucun technicien selectionn </p>\n                    </div>\n            );\n        }\n        \n        return (\n            <div className= \"messageRoom\" onClick={this.clickOnMessageRoom}>\n                { display }\n            </div>\n        );\n    }\n}\n\nfunction MessageElement (props) {\n    /*\n     * props:\n     * - ms { id , contenu , to , from ,sent , time_sent }\n     * - session\n     */\n    let {\n        message,\n        session,\n    } = props;\n    let isSelf = (session.username === message.from);\n    let style ;\n    let divStyle ;\n    let display;\n    let fromDisplay = (\n            <p className=\"from-message\"> {message.from} : </p>\n    );\n    let indication = (\n        <div className=\"indication-message\">\n            <p> { (message.sent) ? `envoy le ${message.time_sent}` : '' } </p>\n            <p> { (message.seen) ? `reue le ${message.time_seen}` : 'non-reue' } </p>\n        </div>\n    );\n    let contenu = (diStyle) => (\n        <div  className=\"contenu-message\" style={divStyle}>\n            {fromDisplay}\n            <p> {message.contenu}  </p>\n        </div>\n    );\n    if(isSelf){\n        //is Me\n        style = {\n            color : 'red',\n            justifyContent : 'flex-end',\n        };\n        divStyle = {\n            margin : '5px 0 5px 5px',\n            borderLeft : '1px solid grey',\n        }\n        display = (\n            <>\n                {indication}\n                {contenu(divStyle)}\n            </>\n        );\n\n    }else{\n        //not Me\n        style = {\n            color : 'black',\n            justifyContent : 'flex-start',\n        };\n        divStyle = {\n            margin : '5px 5px 5px 0',\n            borderRight : '1px solid grey',\n        }\n        display = (\n            <>\n                {contenu(divStyle)}\n                {indication}\n            </>\n        );\n    }\n    return (\n        <div className =\"messageElement\" style={style}>\n            {display}\n        </div>\n    );\n}\n","import './index.css';\nimport React , {useState} from 'react';\nimport ActiveUsers from './../activeUsers';\nimport MessageRoom from './../messageRoom';\n/*\n * props :\n * - socket : for getting data\n * - session: to identify self\n * - setNbNewMessageToZero :\n */\n\nexport default function MessagePage(props) {\n    let selectedUserFromState;\n    if( props.location.state && props.location.state.num_user && props.location.state.username ){\n        //setSelected_app_user_recepteur(props.match.location\n        //setSelected_app_user_recepteur({ ... props.location.state , active : true });\n        selectedUserFromState = { ... props.location.state , active : true};\n    }else{\n        selectedUserFromState = {};\n    }\n    let [selected_app_user_recepteur, setSelected_app_user_recepteur] = useState(selectedUserFromState);\n\n    return(\n        <div className=\"messagePage\">\n            <div className =\"side-messagePage\">\n                <ActiveUsers \n                    socket = {props.socket} \n                    session = {props.session}\n                    setSelectedUser = {setSelected_app_user_recepteur}\n                    selectedUser = {selected_app_user_recepteur}/>\n            </div>\n            <div className=\"main-messagePage\">\n                <MessageRoom \n                    socket={props.socket}\n                    selectedUser = {selected_app_user_recepteur}\n                    session={props.session}\n                    setNbNewMessageToZero={props.setNbNewMessageToZero}/>\n            </div>\n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component , useState } from 'react';\nimport InterventionSimple from './../interventionSimple';\nimport { v4 as uuidv4 } from 'uuid';\n\n/*\n * show all intervention chronologically from start to end\n * props:\n * - start local time\n * - end local time\n * - showSub to show the intervention page\n * - socket\n */\nexport default class InterventionTimeline extends Component{\n\n     constructor(props){\n         super(props);\n         let nbDay = new Date(this.props.end).getDay() - new Date(this.props.start).getDay() + 1;\n         this.state = {\n             interventionList : [],\n             nbDay : nbDay,\n         }\n     }\n\n    componentDidMount() {\n        console.log('InterventionTimeline mounted');\n        let {\n            session,\n            start ,\n            end ,\n        } = this.props;\n        let id = uuidv4();\n        //no need to ISOString anymore\n        start = new Date(new Date(start).setHours(3,0,0));//all is converted to UTC when send to server , I don't know why xD\n        //but we want to keep it local , so send local+3 , converted to UTC get local ( UTC = local - 3)\n        end = new Date(new Date(end).setHours(26,59,59));\n\n        console.log('before emit ', start , end);\n        this.props.socket.emit('get agenda' , start , end , session.num_user ,id );\n\n        this.props.socket.on('agenda -interventionTimeline -'+id , (intervByDay) => {\n            console.log('agenda -interventionTimeline' ,intervByDay);\n            intervByDay = intervByDay.map( item => ({\n                date : item.date,\n                intervList : sortByHour(item.intervList),\n            }));\n            console.log('intervByDay' , intervByDay);\n            console.log('nbDay' , this.state.nbDay);\n            this.setState({\n                interventionList : intervByDay,\n            });\n        });\n\n        this.props.socket.on('new intervention' , () => {\n            this.props.socket.emit('get agenda' ,start , end ,session.num_user);\n        });\n         \n        this.props.socket.on('ended intervention' , () => {\n            this.props.socket.emit('get agenda' ,start , end ,session.num_user);\n        });\n\n    }\n\n    componentWillUnmount(){\n        console.log('InterventionTimeline unmount');\n        this.props.socket.off('agenda -interventionTimeline');\n    }\n\n    \n    render() {\n        let {\n            interventionList,\n        } = this.state;\n        let {\n            start ,\n            end ,\n        } = this.props;\n\n        let daySlotElemenst = interventionList.map( day => {\n            let slotElements = [];\n            for ( let i = 0 ; i < 24 ; i ++ ){\n                slotElements[i] = (\n                    <SlotTimeLine \n                        { ... this.props}\n                        key={i} \n                        start = {i} \n                        end = {i+1} \n                        date = {day.date}\n                        intervList = {day.intervList[i]} \n                        showSub={this.props.showSub}/>\n                );\n            }\n            return (\n                <div className=\"slotDay\" key={day.date}>\n                    <p className=\"date\"> { day.date }</p>\n                    {slotElements}\n                </div>\n            );\n\n        });\n        \n        return(\n            <div className=\"interventionTimeline\">\n                <div className=\"scroll_list\">\n                    { daySlotElemenst }\n                </div>\n            </div>\n        );\n    }\n}\nfunction sortByHour (intervList) {\n    console.log('sortByHour', intervList);\n    let res = {};\n    for ( let i = 0 ; i < 24 ; i++ ){\n        res = {\n            ... res,\n            [i] : intervList.filter( interv => {\n                //let _day = new Date().getDate();\n                //let startHour = new Date().setHours(i,0,0);\n                //let endHour = new Date().setHours(i,59,59);\n                ////first modify date so it is the same day\n                //let intervHour = new Date(new Date(interv.date_programme).setDate(_day)).getTime();\n                //console.log( new Date(startHour) ,new Date( endHour) , new Date(intervHour) );\n                //console.log( intervHour >= startHour && intervHour <= endHour);\n                //if( intervHour >= startHour && intervHour <= endHour) return true;\n                //else return false;\n                let intervHour = new Date(interv.date_programme).getHours();\n                //console.log( i , intervHour );\n                return (i === intervHour);\n            }),\n\n        };\n    }\n    return res;\n};\n\nfunction SlotTimeLine (props) {\n    /*\n     * props: - start \n     * - end\n     * - intervList\n     * - showSub to open InterventionPage\n     */\n    let {\n        start ,\n        end ,\n        intervList ,\n        date ,\n    } = props;\n    //date is dd/mm/yyyy\n    //so\n    let [ day , month , year ] = date.split('/');\n    date = new Date(`${year}-${month}-${day}`);\n    //our display only shows UTC , it will reduce anything by 3 \n    //let startHour = new Date().setHours(start+3,0,0,0);\n    //let freeTime = new Date(startHour);\n    let startHour = date.setHours(start+3,0,0,0);\n    let freeTime = new Date(startHour);\n\n    if( intervList.length ) {\n        //get the max\n        //normally it is the last as we use ASC in db\n        let newFreeTime = new Date(new Date(intervList[intervList.length-1].date_programme).setMilliseconds(0) + 4*60*60*1000);\n        console.log('newFreeTime', newFreeTime);\n        freeTime = newFreeTime;\n    }\n    //console.log('SlotTimeLine', intervList);\n    let intervElements = intervList.map( interv => \n        <InterventionSimple key={interv.num_intervention}\n            intervention={interv}\n            showSub={props.showSub} />\n    );\n\n    function goToCreateIntervention (state) {\n        props.history.push('/acim/creer', state);\n    }\n\n    return(\n        <div className =\"slotTimeLine\" onDoubleClick={()=> goToCreateIntervention({dateFree: {target : {value : new Date(freeTime).toISOString().replace('Z','')}}})}>\n            <p className=\"time\"> {start}H </p>\n            <div className=\"list\">\n                { intervElements }\n            </div>\n        </div>\n    );\n}\n\n","import './index.css';\nimport React , {Component} from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Intervention from './../intervention';\nimport InterventionTimeline from './../interventionTimeline';\n\n\nexport default class MyTask extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            interventionListUndone : [],\n            interventionListUndoneLate : [],\n            interventionListUndoneToday : [],\n            interventionListUndoneFuture : [],\n            listPendingIntervention : [],\n        }\n    }\n    componentDidMount = () => {\n        console.log('MyTask did mount');\n        this.props.socket.emit('get undone intervention' , this.props.session.num_user);\n        this.props.socket.emit('get pending intervention' , this.props.session.num_user);\n\n        this.props.socket.on('list undone intervention -myTask' , (listUndoneIntervention) => {\n            console.log('list undone intervention' , listUndoneIntervention);\n            let newList = listUndoneIntervention.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                date_debut : item.date_debut,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                commentaire :item.commentaire,\n            }));\n            for( const interv of newList ){\n                interv.children = newList.filter( item => item.num_intervention_pere === interv.num_intervention);\n            }\n            console.log('new list intervention undone' , newList);\n            if(this.props.setNbInterventionUndone){\n                this.props.setNbInterventionUndone(newList.length);\n            }\n            let endOfDay = new Date(new Date().setHours(23,59,59)).getTime();\n            let newListLate = newList.filter( item => {\n                if ( item.date_debut ) return false;\n                return new Date(item.date_programme).getTime() <= new Date().getTime() ;\n            }); \n            let newListToday = newList.filter( item => {\n                let interventionDate = new Date(item.date_programme).getTime() ;\n                let startOfDay  = new Date(new Date().setHours(0,0,0)).getTime();\n               \n                return ( interventionDate > startOfDay && interventionDate <= endOfDay );\n            });\n            let newListFuture = newList.filter( item => {\n                let interventionDate = new Date(item.date_programme).getTime() ;\n                return ( interventionDate > endOfDay );\n            });\n            console.log('newListToday' , newListToday);\n            console.log('newListLate' , newListLate);\n            this.setState({\n                interventionListUndone : newList,\n                interventionListUndoneLate : newListLate,\n                interventionListUndoneToday : newListToday,\n                interventionListUndoneFuture : newListFuture,\n            });\n        });\n        this.props.socket.on('pending intervention -myTask', (pendingInterventions) => {\n            console.log('pending intervention -myTask', pendingInterventions);\n            let newList = pendingInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listPendingIntervention : newList,\n            });\n        });\n        //this.props.socket.on('new intervention' , ()=> {\n        //    console.log('new intervention todolist');\n        //    this.props.socket.emit('get undone intervention');\n        //});\n\n        //this.props.socket.on('ended intervention' , () => {\n        //    console.log('ended intervention todolist');\n        //    this.props.socket.emit('get undone intervention');\n        //});\n\n        //this.props.socket.on('intervention data -toDoList' , () => {\n        //    console.log('intervention date -toDoList');\n        //    this.props.socket.emit('get undone intervention');\n        //});\n    }\n    \n    componentDidUpdate () {\n        console.log('update MyTask');\n    }\n\n    clickOnToDoList = () => {\n    }\n\n    componentWillUnmount = () => {\n        console.log('ToDoList will unmount');\n        this.props.socket.off('list undone intervention -myTask');\n        this.props.socket.off('pending intervention -myTask');\n    }\n    displayToDo  = (list) => {\n        //return list.map( intervention => <ToDo intervention={intervention} key={intervention.num_intervention}/> );\n        return list.map( intervention => <Intervention showSub={this.props.showSub} intervention={intervention} key={intervention.num_intervention}/> );\n    }\n\n    render(){\n        \n        let{\n            interventionListUndoneLate,\n            interventionListUndoneToday,\n            interventionListUndone,\n            interventionListUndoneFuture,\n            listPendingIntervention,\n        } = this.state;\n        let retardTitle = `En retard : ${interventionListUndoneLate.length}`;\n        let pendingTitle = `En cours : ${listPendingIntervention.length}`;\n        let todayTitle = `Aujourd'hui : ${interventionListUndoneToday.length}`;\n        let futureTitle = `A venir : ${interventionListUndoneFuture.length}`;\n        let allTitle = `Toutes : ${interventionListUndone.length}`;\n        return (\n            <div id=\"toDoList\" onClick={this.clickOnToDoList}>\n                <p> {this.props.topText || 'Liste des taches a faire :'} </p>\n                    <div className=\"scroll_list\">\n                        <FoldableDiv title={retardTitle} titleStyle={{color : 'red'}} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(interventionListUndoneLate)}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={pendingTitle} titleStyle={{color : 'red'}} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(listPendingIntervention)}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={todayTitle} >\n                            <InterventionTimeline \n                                { ... this.props}\n                                session = {this.props.session}\n                                start={ new Date()}\n                                end = { new Date()}\n                                showSub = { this.props.showSub }\n                                socket = {this.props.socket}/>\n                        </FoldableDiv>\n                        <FoldableDiv title={futureTitle} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(this.state.interventionListUndoneFuture)}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={allTitle} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(this.state.interventionListUndone)}\n                            </div>\n                        </FoldableDiv>\n                    </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport InterventionSimple from './../interventionSimple';\nimport InterventionTimeline from './../interventionTimeline';\n\n/*\n * props:\n * - routeProps for use of history.push\n * - session\n * - socket for getting data\n * - showSub\n * - date_debut\n * - date_fin\n * - close : to close the agenda\n */\n\nexport default class AgendaTimeline extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            dates : [], //{date , listInterv :[{ num_intervention , date_programme : date+heure , libelle_type_type , ...}]}\n            selectedInterv : {},\n        }\n\n    }\n    componentDidMount(){\n        console.log('AgendaTimeline did mount');\n        let{\n            date_debut,\n            date_fin,\n        } = this.props;\n\n        this.props.socket.emit('get date stats', date_debut , date_fin , this.props.session.num_user);\n\n        this.props.socket.on('date stats -agendaTimeline', (statsPerDate) => {\n            console.log('date stats' ,statsPerDate);\n            //[{date, stats :{nb_intervention}}]\n            this.setState({\n                dates : statsPerDate,\n            });\n        });\n        //this.setState({\n        //    dates : [\n        //        { date :'30/07/2021', stats: {nb_intervention : 2}},\n        //        { date : '31/07/2021' , stats : {nb_intervention : 2}}],\n        //});\n\n    }\n\n    componentWillUnmount(){\n        this.props.socket.off('date stats -agendaTimeline');\n    }\n\n    render(){\n        let{\n            dates,\n            selectedInterv,\n        } = this.state;\n        let agendaElements = dates.map(item => \n            <AgendaDay key = { item.date } \n                        {... this.props}\n                        date = { item.date } \n                        listInterv = {{length : item.stats.nb_intervention} } \n                        showSub = {this.props.showSub}\n                        selectedInterv = { selectedInterv }\n                        setSelectedInterv = {this.setSelectedInterv}\n            />\n        );\n        return(\n            <div className=\"agendaTimeline\">\n                {agendaElements}\n            </div>\n        );\n\n    }\n}\n\nfunction AgendaDay(props){\n    /*\n     * props:\n     * - date \n     * - listInterv: liste des interventions pour date\n     */\n\n    //let [ selectedInterv , setSelectedInterv ] = useState({});\n    let{\n        date,\n        listInterv,\n        selectedInterv,\n    } = props;\n\n    //get date in format yyyy-mm-dd\n    console.log('AgendaDay' , date);\n    let [ dayDD, monthMM , yearYY ] = date.split('/'); \n    console.log(dayDD, monthMM ,yearYY);\n    \n    let day  = new Date(`${yearYY}-${monthMM}-${dayDD}`);\n    console.log('AgendaDay' , day);\n    \n\n\n\n    \n\n    return(\n        <div className=\"agendaDay\" >\n            <p> {date} : {listInterv.length} intervention{(listInterv.length > 1) ? 's':''} </p>\n            <div className=\"listInterv-agendaDay\">\n                <InterventionTimeline\n                    {... props}\n                    session = {props.session}\n                    start={ day}\n                    end = { day}\n                    showSub = { props.showSub }\n                />\n            </div>\n            \n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component , useState} from 'react';\nimport Agenda from './../agenda';\nimport AgendaTimeline from './../agendaTimeline';\n\n/*\n * props:\n * - session\n * - socket\n * - showSub\n * - date_debut\n * - date_fin\n * - close\n * - setSelectedDate\n */\n\nexport default function BigAgenda(props){\n    let [ showTimeline , setShowTimeline ] = useState(false);\n\n    let display;\n    if(showTimeline) {\n        display = <AgendaTimeline {...props}/>\n    }else{\n        display = <Agenda {...props} showHeader={false}/>\n    }\n    return(\n        <div className=\"bigAgenda\">\n            <div className=\"control\">\n                <p>Agenda</p>\n                <label> Details\n                    <input type=\"checkbox\" \n                        value={showTimeline} \n                        onChange ={(e)=>setShowTimeline(e.target.checked)} />\n                </label>\n            </div>\n            <div className=\"display\">\n            {display}\n            </div>\n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport check from './../../res/icon/check.png';\n\n/*\n * props:\n * - socket\n * \n */\n\nexport default class AnnonceList extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            annonces : [],\n        };\n        this.myScroll = React.createRef();\n    }\n    componentDidMount(){\n        console.log('annonceList mounted');\n        this.props.socket.emit('get annonce' , this.props.session.num_user);\n        \n        this.props.socket.on('annonces -annonceList', (annonces) => {\n            console.log('annonces -annonceList', annonces);\n            annonces.reverse();\n            this.setState({\n                annonces : annonces,\n            });\n            this.scrollDown();\n        });\n\n        this.props.socket.on('new annonce -annonceList', (annonce) => {\n            console.log('new annonce -annonceList', annonce);\n            this.props.socket.emit('get annonce' , this.props.session.num_user);\n        });\n\n        this.props.socket.on('updateAnnonce -annonceList' , () => {\n            console.log('updateAnnonce -annonceList');\n            this.props.socket.emit('get annonce' , this.props.session.num_user);\n        });\n        \n    }\n\n    scrollDown = () => {\n        const scroll = this.myScroll.current;\n        scroll.scrollTop = scroll.scrollHeight;\n    }\n\n    componentWillUnmount(){\n        console.log('annonceList unmount');\n        this.props.socket.off('annonces -annonceList');\n        this.props.socket.off('new annonce -annonceList');\n        this.props.socket.off('updateAnnonce -annonceList');\n    }\n\n    onClickAnnonceList = () => {\n        console.log('click on annonceList');\n        let unseenAnnonces = this.state.annonces.filter( annonce =>\n            !annonce.date_reception \n        );\n        console.log('unseen Annonces' , unseenAnnonces);\n        //look for tech_main saw\n        if( unseenAnnonces.length > 0 ) this.props.socket.emit('app_user saw messages', unseenAnnonces);\n\n    }\n    render(){\n        let { annonces } = this.state;\n        let annoncesElements;\n        if( annonces.length > 0){\n            annoncesElements = annonces.map( annonce =>\n                <Annonce key= { annonce.num_message} annonce={ annonce } />\n            );\n        }else{\n            annoncesElements = ( <p> Aucune annonce ... </p> );\n        }\n        return (\n            <div className=\"annonceList\" onClick={this.onClickAnnonceList}>\n                <div className = \"scroll_list\" ref={this.myScroll}>\n                    {annoncesElements}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction Annonce(props){\n    /*\n     * props :\n     * - annonce {envoyeur_username , contenu_message , date_envoie}\n     */\n    let{\n        envoyeur_username,\n        contenu_message,\n        date_envoie,\n        date_reception,\n    } = props.annonce;\n    return(\n        <div className=\"annonce\">\n            <div className=\"info\">\n            <div className=\"sender\">\n                <p> {envoyeur_username}: </p>\n            </div>\n            <div className=\"contenu\">\n                <p> {contenu_message} </p>\n            </div>\n            <div className=\"date\">\n                <p> { new Date(date_envoie).toLocaleString('fr-FR') } </p>\n            </div>\n            </div>\n            <div className=\"read\">\n                { date_reception &&\n                    //<p> { new Date(date_reception).toLocaleString('fr-FR')} </p>\n                    <img src= { check} alt =\"vue\" />\n                }\n            </div>\n        </div>\n    );\n}\n\n","import './index.css';\nimport React , { Component, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport AnnonceList from './../annonceList';\n\n/*\n * props:\n * - socket\n * - session\n */\n\nexport default function AnnoncePage(props){\n    let [ contenu , setContenu ] = useState('');\n    let{\n        session,\n    } = props;\n    function createAnnonce(e){\n        e.preventDefault();\n        console.log('create annonce' ,session.username, contenu)\n        if( contenu ){\n            //send the annonce\n            let annonce_id = uuidv4();\n            setContenu('');\n            props.socket.emit('create annonce' ,annonce_id, session.num_user , contenu);\n        }\n    }\n    let today_7 = new Date(new Date().getTime() - 7*24*60*60*1000).toLocaleDateString('fr-FR');\n    let today = new Date().toLocaleDateString('fr-FR');\n    return(\n        <div className=\"annoncePage\">\n            <div className=\"header\">\n                <p> Annonce </p>\n            </div>\n            <div className=\"display\">\n                <AnnonceList\n                    session = {props.session}\n                    socket = {props.socket}/>\n            </div>\n            <div className=\"input\">\n                <form onSubmit={createAnnonce}>\n                    <textarea placeholder=\"Annonce ...\" \n                        value={contenu} \n                        onChange={(e)=>setContenu(e.target.value) }>\n                    </textarea>\n                    <button> Publier </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n","import './index.css';\nimport React, {Component} from 'react';\nimport logo from './../../res/logo/base_logo_sans_texte_2.png';\nimport user from './../../res/icon/user.png';\n\n/*\n * props:\n * - logout : function\n * - session\n */\n\nexport default class AppHeader extends Component {\n    render(){\n        return(\n            <div className=\"appHeader\">\n                <div className=\"username\">\n                    <img className=\"user_logo\" src={user} />\n                    <p> {this.props.session.username} </p>\n                </div>\n                <div className=\"logo-main\">\n                    <img src={logo} alt=\"mndpt|acim\"/>\n                </div>\n                <div className=\"deconnecter\">\n                    <button onClick={this.props.logOut} className= \"myButton\"> se deconnecter </button>\n                </div>\n            </div>\n\n        );\n    }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAACXBIWXMADAPJAAwDyQHobTvsAAAhYklEQVR42u3df4yV1ZnA8amkMJFSp0Qkkh0nRSI1shMNKZEYkdQakWwiWrFZShyJk0mJ1IiTKiklNVJSJFKySNYQiUj8kUV2cRJTJGVJcdI60ZASW7JIOhLRlJSS1UmROBqJex8zmNlxgOG873vn/vi8yfev2uHec57zfO97znnOafj8888bAAC4UDQCAIBAAAAEAgAgEAAAgQAAQCAAAAIBABAIAIBAAAAEAgAAgQAACAQAQCAAAAIBABAIAAAEAgAgEAAAgQAACAQAQCAAABAIAIBAAAAEAgAgEAAAgQAAQCAAAAIBABAIAIBAAAAEAgAAgQAACAQAQCAAAAIBABAIAAAEApyPvr6+S44ePXrFwYMHr9m3b99NO3fuvGPr1q33btq06f7zEf9d/Pfx/4v/f/yd+HvaFQQC1AjHjh27fPfu3bdu3ry54+GHH3584cKFL82cOXN/U1PThw2lsM+b+Lvx9+PfiX8v/t349+Nz6A8QCFDBbxR79+793po1a34WCXzKlCl/LUISqcTnic8Vny8+pzcWEAgwSnz66adfj0Tc2dn5xIwZM/48ZsyYzypJGOcjPm987vj88T3i++hXEAhQELHWENNCCxYseHnChAn/qCZhnI/4PvG94vvF99TfIBAgh3WMjRs3/mTWrFlv1JIwzkd83/je1k9AIMAFcOLEiUvjl/icOXNeq7apqSKmuqIdoj2iXcQHCAQYhv37989cvHjxc2PHjv2knqVxNqJdon2incQLCAR1z+nTpy/asWPHXTfccMPvSWLkRHtFu0X7iSMQCOqKU6dOXbx+/fqHWlpa3iWEdKL9oh2jPcUVCAQ1TX9//7io5p48efLfCCA/oj2jXaN9xRkIBDU3VfXUU0/9uLm5+T0JvziifaOdTW2BQFATbN++/e5p06b9RYIvH9He0e7iDwSCquTw4cNX3XLLLb+t5EQbR4xERXhslZ0/f/5vFi1a9ELQ0dGxedmyZU8OJf63+O/iv4//X6UdmTKUaP/oB/EIAkHVLJCvWLHiV42NjR9XQhKNzxEJPwQQC86vvPLKv8QpunmtF8Tfib8Xfzf+fvw78e9V0veP/rDQDgJBRRNJdLR3Vk2fPv3ttra2Z2NROWomRuucqfh349+PzxGfJz7XaO/Yiv4RpyAQVBRxuuySJUueGY3EOGnSpL/H1NKWLVvuq/RzpOLzxeeMzxufezTaK/rJacAgEFQE3d3dN06dOvWdcq9dxEm2Bw4cuLZadxzF547PH9+j3Gsp0V/Rb+IXBIKG0Zqiibn1cp1XFSfWxlEee/bs+X6tbVON7xPfK75fuU4ajn6L/nOUPAgEZeXIkSPfvu666/5YjkR39dVX/0/UNpw8efIb9dC28T3j+8b3Lkf7Rj9Gf4prEAjKMmVV9Px9/DqO+zHisqV6buv4/tEORb/lRX+a0gKBoFDiWPEiT8uNLaexDdalSl9dfI92KXJrcPRr9K/2BoEg9zn6Bx544N+KfONob29/+v333/8n7X12on2inYp8I4l+dhQKCAS5FQbOmzfv1aLEEdtKe3t7r9TWIyfaK9qtKJFEfys8BIEgEx988MG3Zs6cub+IJNXa2vpWT0/P9do5nWi/aMci+if6PfpfO4NAcMHEfdxF7AQaP378R+vWrfupaZL8phejPaNdi9gB5152EAguiDiAr4gjSWJqxAJ5cQvtRUw1Rhw4kBEEghER1dF5V0bH7qGobdC+xRPtnPdurYiHiAvtCwLBOd88Jk6c+L95z6X7BVv+fsx77SriQj+CQHDWKZA83zxih9DKlSt/6aiM0TtqJto/z51aER+mIEEg+H+cOHHi0jyPG29qavpw165dt2nb0Sf6Ifojz+PyI160LQgEX2zVzfNcq7ipz1RH5U1pRb/keX6WLb4gENMcX587d+7v8kosd95553/Vy6GH1Ub0S/RPXn0dcWN6Ehqhjom7v/NKKHE0uNqOyq8ZiX7Kq88jfrQrgaAOiYPz8kokUcimTauH6K+8+t4BjASCOjwCI49agdjhI4FU7w+IPHZoRRw5koZAUCccP378subm5vfyOP77xRdf/FdtWr1E/+VxPH/EU8SVNiUQ1Pgc+Jw5c17L481jx44dd2nT6if6MY83kYgra2AEghpmzZo1P8tDHlu3br1Xe9YO0Z95SCTiS3sSCGqQOMsoj+mK9evXP6Q9a4/o1zymNZ2ZRSCoMfr7+8flcTT7qlWrHtOetUv0bx5HwEe8aU8CQY0Q92lnTQyLFy9+TlvWPtHPWWMl4k1bEghqgN27d9+adX47br1zxWl9EP2c9ZbDiLeIu4KOZYnpWH1FICjH1NW0adP+kvVgxCNHjnxbe9YP0d9ZD2CMuCtiKmvSpEkN8SxcuFBfEQiKZPXq1T/P+kvSqbr1SfR71jfXiL88P9OSJUsaBj8lyUVBpP4iEORN3NuQtdo87pPQlvVL9H/WKvW87g/p7u5uKAmtYbhn9uzZDQcPHtRnBIK8WLBgwctZBn9pUL7utNX6Jvo/4iBLHEUc5vFZrr766oZzPWPHjm1YsWKFfiMQ5DH9kHXdo7e390ptiYiDrOshWadBV69e3TDSZ9q0aQ179uzRdwSC1ONKstZ8PP/88z/SljhDxEPW2pDUY05i11VjY2PDhT6LFi3SdwSCCyUOyMsy2EsD7wXtiKFEXGSJq9SDN2+++eaG1GfixIkNW7Zs0X8EgpG+fWS52zymKpyqiuGIuMgylRVxeaFvIdu2bWvI45kzZ07DoUOH9COBoMi3jw0bNjyoHXE2Ij7K+RZypuYjjyemwVatWqUfCQRFvH3EPLVdVzjfrqws62sX8hYytOYjr6f0GRr27dunPwkEeb597N2793vaEecj4qTot5Bz1Xzk9dipRSAYxKxZs94Y7b36UGN0PiJOs9Z8ZH1Kn0E/EgjO8Oabb343y69CdzjgQoh4yRJvEa951HykPPFm4zBGAsH/ny9+xtsHquUtJOI1z5qPC3k6Ozv1H4HgDB988MG3spx55e0D5X4LiXiNuM2z5mMkT0tLi74jEAwmy1Wk3j4wWm8hQ69Gzqvm41zPK6+8ot8IBIPJct9HT0/P9doQqUT8ZLkvpKiaj+GeO++8U58RCPJaPB/JbhigyN1/ZxbTi6r5GHxviL4iEAzh4Ycffjx18G7duvVebYisRBylxmDEbzlqPjZu3KivCARDaWlpeTdl4E6aNOnvRVw3ivoj4ijiKSUOI37VfBAIqmz6qrOz8wltiLyIeMpQF/JdNR8Egiqavjp8+PBV2hB5EfGUQSCPq/kgEFTJ9FVra+tb2g95E3GVKJB31XwQCKrkF9/q1at/rg2RNxFXGd5CrlLzQSAoE5s3b+5IHax/+tOf/lkbIm8irjIIpEPNB4GgTCxcuPCl1PsYtB+KIsN9NC+p+SAQlIG4kCd12+SKFSt+pQ1RFBFfiQKJeL5IzQeBoGCyHGK3Z8+e72tDFEXEV4ZprGvVfBAICib1XuqxY8d+curUqYu1IYoi4iviLFEgD6r5IBAUzOLFi59LGaBz5879nfZD0UScJQrkOTUfBIIK3W//6KOP/kL7oWgizhIF8paaDwJBwQvoqZdH7du37yZtiKKJOEsUyMepC+lqPggEI+DgwYPXpC5S9vX1XaINUTQRZxkW0q9R80EgKIjt27ffncflPUCRZLjk7G41HwSCgli1atVjKQOz9Cvtv7QfykXEW6JAHlPzQSAoiEWLFr3g/CtUOhnOxXpBzQeBoCDmzJnzWsrA7Orqul37oYxbzW9PFMhraj4IBAUxderUd1IGZiy+az+Ug97e3oZx48albvZ4R80HgaAgUrfw2oGFcnHLLbdEjr8kw1ZeNR8Egrw5ceLEpSmDcvz48R9pP5SDF198cXCu/yhRIpeq+SAQ5EzqIYqOcEe5mDx58uBc/3behyqq+SAQlLnC95Zbbvmt9kPRdHR85U6o3yYK5CY1HwSCnNm5c+cdKQMyLp/SfiiS7u7uL3ZGDXleShTIHcMJZMOGDdqaQJDKjh077koZkEuWLHlG+6FIZsyYMVzOfyZRIHcN/UMzZ87UzgSCLGzZsuW+lAG5bNmyJ7UfimLNmjVnW7J4MlEg9w2t+di/f7+2JhBkYdOmTfcTCCqt5qOxsTFvgdw/+I8sX75cWxMIsrJ27dpHUgZknJ+l/VBgzcfZnscSBfLImT/Q3NysnQkEeZB6UY+LpFCGmo/hntSLpX5x5g90dXVpawLBaL6BEAjKUPORp0C+eANZsGCBdiYQWANBHdR85LoGMmHCBO1MICAQ1EnNR64CUfNBIMiZ1NsICQRlqPnITSBTp069WzsTCCqkkDAuodJ+KLjmY7gn6fKzxx9//C5tTSDImV27dt3mKBNUaM3HcE/SUSYR59qbQJAzqYcpxi2G2g8F13wM9yTdnhlxrr0JBDkTtwomzim/o/1QcM3HcI/bMwkElULcKpgyIOMWQ+2Hgms+hnvcnkkgqCQmTJjwj5RBGbcZaj8UWPMx9Em6PTPiW5sTCAoibhdMGZhxm6H2Q4E1H0Mft2cSCCpwITPplrfYAqz9UGDNx9Anacu52zMJBAXS1tb2bMrAXLly5S+1Hwqs+Rj6/DIlTiO+tT2BoCBWr17985SBOW/evFe1Hwqs+Rj6vJoSpxHf2p9AUBBdXV23pwzMKVOm/FX7YaSUfnA0ZHz+mhKnEd/an0BQ3C/DKxMPqPv8+PHjl2lDFFTzMfi5LDVGI771AYGgQMaPH/+RIyJQFKW31awCSTpyJ+Ja+xMICmb27NmvpwzQhx9++HHthwJqPoY+j6fEZ8S1PiAQFEx7e/vTKQN01qxZb2g/nI2enp7Umo+hzxsp8RlxrR8IBAWzefPmjpQBWkoOn33wwQff0obIueZj8POtEp+lxGfEtX4gEBTM4cOHr0pdpLTLBcOxdu3ahpye21NjM+JaXxAIykBLS8u7bidEHhw5ciRrzUfmWwgjnvUFgaBMLFmy5JnUepDTp09fpA2RY83Hmeei1PqPiGd9QSAoE88///yPUqcKuru7b9SGyKnmY/BzY2pMRjzrDwJBmTh27NjlqYPVdl7kWPOReftuEPGsPwgEZaS1tfUt880Y5ZqPwU/SulzEsf4gEJSZ1IMVg56enuu1oZqPHJ/rU2PRAYoEgirbzmvRUs1Hzs8ztu8SCOpkGivOHVJUqOYjpyeKBz8yfUUgqKNprPXr1z+kDdV85PA8ZPqKQFBn01hx/7SaEDUfOdR+vG36ikBQpcycOXN/6gB2xLuaj9E4uj2IuNUvBIJRZuvWrfemDuIbbrjh99pQzUeG5/epsRdxq18IBKNMf3//uIkTJ/5v6kDes2fP97Wjmo+E5/upMRfxGnGrbwgEFUBnZ+cT3kJQppqPzG8fEa/6hkBQQYvpcd+HtxCUoeYj09tHxKnFcwJB5e2weTV1UMd1onZkqfm4gJ1Xr6fGWsSpviEQVBjxFpE6qJ2IqubjAp4fZYkzb7sEggol1jNSB3bcFdLX13eJdlTzcY7nktQ7P6y3EQhq/C3EUe9qPoo6st3bB4Ggxt9Cxo4d+4kFTjUfZ3ni1INPvH2AQLyFnJU5c+a8ZkFdzccwC+evefsAgdQBIYEsg90hd2o+hjw/z/qjRP8QCKqE/fv3z8xSFxJTWS6dUvMx6LKoT7LUfUQ86h8CQRWxdOnSf8/yq3Hq1Knv2JVV9zUfsevqnSxxFHGofwgEVUZcGDVp0qS/Zxn8ixYtekFb1nXNxwtZ4ifiz8VlBIIqZcuWLfdlSQDBpk2b7teWlc38+fOLkMf9WWMn4k//EAiqlNhNFceUZEkC1kMqmx07dlTcuofjcQgENcKBAweubWxs/DhLMogq9ePHj1+mPeui5uOyLNXmQcRbxJ3+IRDUAOvWrftp1umI2Ir56aeffl17Vg7Lli3LWx5fz1rvEUS86R8CQQ1NZc2dO/d3WRPDD3/4w/8wLVGzNR9RLPgfWWMk4kyMEAhqjKNHj17R1NT0YdYE0dHRsVl7jj6tra15v31szhobEV8RZ/qHQFCDvPjii/+aNUk4dLEipiQr6pDEM0R86R8CQQ2zePHi5/JIFmvXrn1Ee44O48ePz1Mej+QRDxFX+oZAUOOcOnXq4uuuu+6PeSSNVatWPaZNq7rm47E84iDiKeJK/xAI6mQ9JGuV+hmWL1/+a4umVVfzEQvmv86j/yOOrHsQCOqM3bt335rlwMXBLFmy5BkSqZqaj5DHM3n0e8RPxJG+IRDUIbGOkUciCRYsWPCyaYyKr/m4uMTLefW5dTBohDqnra3t2bwSSsyFm86o2JqPK0r8Ma++jrjRN9AIdU5Ul8fbQ16JJebE9+7d+z1tW1E1H98r8fc83zadSgACwRf09/ePy6NSffDc+Pr16x/SthVR8/FQic/y6tuIk4gXfQMCwZfE5VF5be8d/Ev1xIkTl2rfUan5uDTP9Y4zU5QuGQOBYFji8p/p06e/nWfSiZN87dQpe83HrVlP1B1KxIXLoUAgOCfHjh27PO83kWDZsmVPmvoovOZjXIkn8+67iIeIC/0CAsGI3kRuuOGG3+ediOJX7L59+27SxoXUfNxU4u28+yziwJsHCAQXfOTJvHnzXs07IZ0pPLQ2klvNx6V5FQYOJfpfbQ8IBMlbfBcuXPhSEckptvtu3br1Xu2cqebj3jy35w4m+t1WXRAIMhFHlDzwwAP/VkSSCmbNmvXGrl27btPWF1TzcVuJN4rqk+hvR9OAQJAbmzdv7hg7duwnRSWt2bNnv17v6yMjqPmIdY7Xi+qD6N/oZ/EOAkHuRILP6xTfcxWqxbbfevwFfJaaj4sGtuX+rsh2j361wQEEgkI5cuTIt2fMmPHnIpPZmR1bGzdu/Em9FK4NU/NxSYmfFLGzaijRn9Gv4hsEgrJUrRe1uD6UCRMm/CNqSA4ePHhNndR8XDNQy/GPcrRv9KPqchAIMnPy5MlvvP/++/8UyTqmM7q6um7ftm3bPZs2bbp/OO65555tF1988alyJLqgubn5vR/84Af/GceIn+0zVSPf/OY341j9/yzxXrnaMvot+u9sn6kktbvefPPN79puDQLBV3ZWHTp06Dvbt2+/O66ljTOrWlpa3i1X8kJ10djY+HFMKUZdSHt7+9Mh8Phh0d3dfWMc32/HFoGgDtYuNmzY8GAsUkdCkBiR5+nLEVdxArO1FAJBjbxlxBTEypUrf1mORW9g8KJ8xF1PT8/13k4IBFV2BEnMYU+dOvUdyQyjTcRhxKMjUQgEFUwsdsZ6RtF1GkBqnUnEp0V5AkGFrW0sXbr0361roFoW5CNerZUQCEaRuFsjftERB6pVJBG/7oghEJSZOHzQtlvUAhHHDtMkEJSB2HMfNRsSD2qNiOuIb+OcQFDQabimq1Dr01pOAyYQ5Lwtt62t7VkJBvVCxLttvwSCjPT29l7Z2tr6lqSCeiPiPuJfHiAQJBAHGTY1NX04KlMJUU0clzzFvdglFg3QUWIZappFA/3eEkeUjLJEIv5jHMgHBIILYN26dT+N84XKMkgHJLGyxPYSh0qcjrBA3fNpiaMluktsK7GmRPtAvEwu4zlbMR7kBQLBCOVR9KC8ukRnib0DSUKyxIUSPzJ6SqwYeFstOmZJhEAwivIYX2J5iV7JDwXQOxBf40mEQFA78pg0MPXQJ8mhDPQNxNskEiEQVK88Ym1jQ4l+SQ2jQP9A/DWRCIGgOHbu3HlHrouOsY++xDFJDBXAsYF4zHtHV4wb+YNA6prDhw9fledW3dYSf5C0UIH8YSA+89ziG+NHHiGQuq0wz/OmwA47qlAF24I7cr75UMU6gdQlixcvfi6vor+tkhOqiK0DcZtH/Mc4kk8IpK546qmnfpzLUdgl9ktIqEL2D8RvHuMgxpO8QiB1c75VHqfqTrdQjhpYYJ+e0ym+zs0ikLpg/vz5vyEPIF+JxLiSXwikpomD4cgDKEYiDl4kkJredZX1GtoW8kANSyTrmkiML7uyCKQmWbFixa+y7rY6INGghjmQw+6sGGfyDYFYOB+Crbqoly2+FtQJBINob29/OsugWCqxoI5YmlEiMd7kHQKpCY4dO3Z5lreP61SYow4r1q/L+BYS407+IZC6XvsYM3Bpj6SCeqMn4wGM1kIIpOo5efLkN7IcltgukaCOac942GKMP3mIQKqWDRs2PJjlPo/jkgjqmOMZ7xOJ8ScPEUhVcvr06Yuam5vfSw3+jRII8MU4SB1DMf5iHMpHBFJ1dHd335ga+FPcJAh8fuZmwykZJBLjUD4ikKqjs7PzieQrOyUO4EvWZRBIjEP5iECqjmnTpv0lde2jT9IAvqQvw1pIjEP5iECqioMHD16TvP1QwgC+wooMbyGHDh36jrxEIFXD2rVrH0kNdoclAl/l/QwCifEoLxFI1TB79uzXUwJ9pkQBnJXU6vQYj/ISgVQF/f394772ta99lhLoj0oSQO7TWGPGjPksxqX8RCAVz8aNG69KfdV2XDtw7uNNksfWgQPXyk8EUvE0NTXdmlT0JEEA5+R0iUmJAtm2bds98hOBVDQLFy4sxWrDfSkBvkCCAM7LnYkCWb58+a/lKAKpWLq6uhoGnqTTd5dLDsB5WZ0okJtvvvm/5SkCqVimTJlyRiDPpgT4eskBOC9diQKZPHny3+QpAqlIDhw40NDc3HxGIK+lBPgOyQE4L0czLKT39fVdIl8RSMXS3t4eAnk3JbjflByAETFRRTqB1OoR7qXnMxXoQOUVFPb09FwvTxFIxXL06NErku5wlhSAETM3USC7d+++VZ4ikIol9Q6QaZICMGIWJgpk+/btd8tTBFKxRLFSSmDPkxSAEdORKJBNmzbdL08RSMWyZs2an6UE9hJJARgxnYkCifEpTxFIxfLoo4/+IiWwV0kKwIh5NFEgMT7lKQKpOYE4hRcgEAIhEAIBCIRAQCAAgYBACAQgEAIhEAIBCIRACIRACAQgEAIBgQAEQiAgEIBAQCAEAhAIgRAIgQAgEAIhEAIBCIRAQCAAgRAICAQgEBAIgQAEQiAEQiAACIRACIRAAAIhEBAIQCAEAgIBCAQEQiAAgRAIgRAIAAIhEAIhEIBACAQEAhAICIRAAAIBgRAIQCAEQiAEAoBACIRACAQgEAIBgQAEAgIhEIBAQCAEAhAIgRAIgQAgEAIhEAIBCIRAQCAAgYBACAQgEBAIgQAEQiAEQiASA0AgBEIgBAIQCIGAQAACAYEQCEAg8hSBEAhAIARCIARCIACBEAgIBCAQAgGBAAQCAiEQgEAIhEAIBCAQAiEQAiEQgEAIBAQCEAiBgEAAAgGBEAhAIARCIAQCgEAIhEAIBCAQAgGBAARCICAQgEBAIAQCEAiBEAiBACAQAiEQAgEIhEBAIACBEIhGIBCAQEAgBAIQCIEQCIEAIBACIRACAQiEQEAgAIGAQAgEIBAQCIEABEIgBEIgAAiEQAiEQAACIRAQCEAgIBACAQgEBEIgAIEQCIEQCAACIRACIRCAQAgEBAIQCAiEQAACAYEQCEAgBEIgBCIpAARCIARCIACBEAgIBCAQEAiBAARCIARCIACBEAiBEAiBAARCICAQgEAIBAQCEAgIhEAAAiEQAiEQAARCIARCIACBEAgIBCAQAgGBAAQCAiEQgEAIhEAIBACBEAiBEAhAIAQCAgEIhEBAIACBgEAIBCAQAiEQAgFAIARCIAQCEAiBgEAAAgGBEAhAICAQAgHqgVUEQiC1yJo1a36WEtidkgIwYpYkCiTGpzxFIBXLpk2b7k8J7A5JARgx8xIFsm3btnvkKQKpWLZv3353SmAvlBSAETMtUSDd3d03ylMEUrHs3r371pTAnispACOmMVEgR48evUKeIpCKpaen5/qUwL5OUgBGxLFEeYwZM+az06dPXyRPEUjFcujQoe+kBPdEiQEYEW8mCqSlpeVdOYpAKpq+vr5LGlJfryUH4LzsSBxfc+bMeU2OIpCKZ/LkyX9LCfAuyQE4L+sTBdLW1vas/EQgFc/NN9/83ykBvlpyAM7L8kSBrFix4lfyE4FUPMuXL/91SoDfKTkA52VBokC2bNlyn/xEIBVPFCulBPikEqclCOCcNCcKJLbYy08EUvEcOHDg2tSF9B4JAjgrBxLHVXD48OGr5CcCqXj6+/vHxZ7zpHlaSQL4PO9TeGM8xriUnwikKpg9e/brCgqBfJmZKJAYj/ISgVQNa9eufST1Vft9iQLIrQI9iPEoLxFIzVekm8YChmdFBoEcPHjwGnmJQKqKadOm/SUl2JtK9EkYwJf0DYyLlPEU41A+IpCqo7Oz84nUX0zrJA3gS9ZlePuIcSgfEUjVEXcPpAb9lBL9EgfwxTiYkkEg7gAhkKokjo5ubm5+LzXwN0oewBfjIHUMxfhzhDuBVC0bNmx4MDX4Y873uASCOuZ4hrWPIMafPEQgVcvJkye/0dTU9GHqAGiXRFDHtGeQR4y7GH/yEIFUNXEKaOogGON4E9QpPQPxn7wd3um7BFILHDt27PLGxsaPUwdCVKd/KqGgjvh0IO5Tx0yMtxh38g+B1ATt7e1PN2QYEEslFdQRSzOMlS+mfkvjTd4hkJqht7f3yixvIcFWiQV1wNaM8ohxFuNN3iEQayGDB8bAcdaSDGr5uPbGjAKx9kEgNcmpU6cubmlpeTfL4GgZOFROskEtHpbYklEeMb5inMk3BFKTdHV13d6QcZBMJxHUoDymZxwXQYwveYZAapr58+f/hkSAfOUR40p+IRAL6iQC8rBwTiA4G0899dSPG3IYODFnvF8iQhWyP4c1jzPEeJJXCKSuWLx48XN5DJ5GW3xRhVt1G3OSR4wj+YRA6nJX1owZM/7ckNNA6lCxjiqoMO/IKd6DGD92XRFI3XL48OGrshy2OJTWEn+QqFCB/GEgPvOK9Rg3MX7kEQKpa3bu3HlHQ44DKw6ga7PAjgpaKG/LeDDicMS4kT8IBCXWrVv304acB1jco7DBzYYYxZsEN2S8z+OsVz6Xxou8QSAoWCLBpBJrSvRJaigDfQPxNqmAWCYPAsEoSCQYX2J5iV5JDgXQOxBf4wuKX/IgEIyyRL7cvRKHzg1c2nNa8kPijqq9JTpLXF1wvJIHgeACJTJmzJjPGsowMCeXmDdwfWhMPWwr0V3iqG3BGCB+ZBwqsb3EyoF4aSpDbH6xKaQ0DsiDQHCBxMFweW7xTd3RFdXCs0ssKrEMNU3HQD8vGpDE7IG31cZRir+IfwckEggynJvV2tr61mhKBBgNIu6db0UgyKFiva2t7VlJBfVCxLsKcwJBjmzevLkjj1N8gUol4jvi3HgnEBTA0aNHr1iwYMHLkg1qjYjriG/jnEBQMLt27bot6/W4QCUQcRzxbFwTCMpIf3//uFWrVj1mWgvVOl0V8RtxbDxXL/8HkwJRsIKV+KoAAAAASUVORK5CYII=\"","import './index.css';\nimport React , { Component } from 'react' ;\n\n\n/*\n * props:\n * - session\n */\nexport default class RapportActivite extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date_debut : '',\n            date_fin : '',\n        }\n    }\n    getRapport = () => {\n        console.log('getRapport');\n        let { date_debut , date_fin } = this.state;\n        let { session } = this.props;\n        //get the server url , \n        const s_URL = new URL(document.location.href);\n        //may not need to change port\n        if(date_debut && date_fin && session.num_user){\n            const m_path = `/rapportActivite/acim/${session.num_user}/${date_debut}/${date_fin}`;\n            s_URL.port = 3500;\n            s_URL.pathname = m_path;\n            console.log('s_URL',s_URL);\n            window.open(s_URL, '_blank');\n        }\n    }\n\n    updateDebut = (e) => {\n        console.log('updateDebut '+e.target.value);\n        this.setState({\n            date_debut : e.target.value,\n        });\n    }\n    updateFin = (e) => {\n        console.log('updateFin '+e.target.value);\n        //must fin >= debut\n        let { date_debut } = this.state;\n        if( new Date(date_debut).getTime() > new Date(e.target.value).getTime() ){\n            e.target.value = date_debut;\n        }\n        this.setState({\n            date_fin : e.target.value,\n        });\n    }\n    render(){\n        let {\n            session,\n        } = this.props;\n        let {\n            date_debut,\n            date_fin,\n        } = this.state;\n        let btText = 'Generer';\n        if( date_debut && date_fin ){\n            let formatted_date_debut = new Date(date_debut).toLocaleDateString('fr-FR');\n            let formatted_date_fin = new Date(date_fin).toLocaleDateString('fr-FR');\n            btText = `Generer rapport du ${formatted_date_debut} au ${formatted_date_fin}`;\n            if(formatted_date_fin === formatted_date_debut ) btText = `Generer rapport du ${formatted_date_debut}`;\n        }\n        return(\n            <div className=\"rapportActivite\">\n                <p> {`Rapport d'Activit de`} {session.username} </p>\n                <div className=\"date_selector\">\n                    <label> Du : \n                        <input type=\"date\" value={date_debut} onChange={this.updateDebut}/>\n                    </label>\n                </div>\n                <div className=\"date_selector\">\n                    <label> au : \n                        <input type=\"date\" value={date_fin} onChange={this.updateFin}/>\n                    </label>\n                </div>\n                <button onClick={this.getRapport}> {btText} </button>\n                \n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/correct_notif.a673b70c.wav\";","export default __webpack_public_path__ + \"static/media/notif1.47150c61.wav\";","import './index.css';\r\nimport logo from './../../res/logo/base_logo_sans_texte_2.png';\r\nimport React from 'react';\r\nimport {  Switch , Route , Redirect, NavLink   } from 'react-router-dom'; \r\nimport { mySocket } from './../../socket_io/socket_io';\r\nimport Dashboard from './../dashboard';\r\nimport NotifsHistory from './../notifsHistory';\r\nimport ToDoList from './../toDoList';\r\nimport InterventionPage from './../interventionPage';\r\nimport InterventionHistory from './../interventionHistory';\r\nimport MessagePage from './../messagePage';\r\nimport Mytask from './../mytask';\r\nimport NotifsList from './../notifsList';\r\nimport CreateIntervention from './../createIntervention';\r\nimport Agenda from './../agenda';\r\nimport AgendaTimeline from './../agendaTimeline';\r\nimport BigAgenda from './../bigAgenda';\r\nimport AnnoncePage from './../annoncePage';\r\nimport AppHeader from './../appHeader';\r\nimport RapportActivite from './../rapportActivite';\r\nimport notif1 from './../../res/son/correct_notif.wav';\r\nimport notifMessage from './../../res/son/notif1.wav';\r\n\r\n/*\r\n * props:\r\n * - logOut\r\n */\r\n\r\n\r\nexport default class Main extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            newNotifs : [\r\n                //{\r\n                    //num_notification : 'dede',\r\n                    //date_envoie : new Date().toLocaleString(),\r\n                    //probleme_type : 'prb_type',\r\n                    //probleme_statut : 'xxx',\r\n                    //probleme_statut_code : 'MAX',\r\n                    //lieu :'salle xxx',\r\n                //},\r\n            ],\r\n            nbNewNotification : 0,\r\n            nbNewMessage :0,\r\n            nbNewAnnonce : 0,\r\n            showSub : false,\r\n            showNav : false,\r\n            numSelectedIntervention : null,\r\n            newMessageNotifs : [\r\n                //{\r\n                //    date_envoie: 'date_envoie',\r\n                //    envoyeur_username : 'from',\r\n                //    num_app_user_envoyeur : 'num_from',\r\n                //    num_message : 'num',\r\n                //},\r\n                \r\n            ],\r\n        };\r\n        this.socket = mySocket.socket;\r\n        this.popUp = React.createRef();\r\n        this.popUpMessage = React.createRef();\r\n        this.notifSound = new Audio(notif1);\r\n        this.messageSound = new Audio(notifMessage);\r\n    }\r\n\r\n    showSub  = (num_intervention) => {\r\n        let newShowSub;\r\n        if( this.state.numSelectedIntervention === num_intervention ){\r\n            //selected intervention hasn't change\r\n            newShowSub = !(this.state.showSub);\r\n            num_intervention = null;\r\n\r\n        }else newShowSub = true;\r\n        this.setState({\r\n            showSub : newShowSub,\r\n            numSelectedIntervention : num_intervention,\r\n        });\r\n    }\r\n    closeSub = () => {\r\n        this.setState({\r\n            showSub : false,\r\n            numSelectedIntervention : null,\r\n        });\r\n    }\r\n    nbNewNotificationPlus = (nb) => {\r\n        let newNb = nb || this.state.nbNewNotification + 1;\r\n        newNb = parseInt(newNb);\r\n        this.setState({\r\n            nbNewNotification : newNb,\r\n        });\r\n    }\r\n\r\n    setNbNewMessage = (nb) => {\r\n        let newNb = parseInt(nb)\r\n        this.setState({\r\n            nbNewMessage : newNb,\r\n        });\r\n    }\r\n\r\n    showPopUp = (ref) => {\r\n        ref.current.style.top = \"10px\";\r\n        setTimeout( () => {\r\n            ref.current.style.top = \"-1000px\";\r\n        }, 10000);\r\n\r\n    }\r\n\r\n    onClickNotif = () => {\r\n        let { url } = this.props.match;\r\n        //hide notif , and got to notification\r\n        this.popUp.current.style.top = \"-1000px\";\r\n        this.props.history.push(`${url}/dashboard/notifs`);\r\n        \r\n    }\r\n\r\n    logOut = () => {\r\n        //disconnect all other socket\r\n        this.socket.emit('disconnect all');\r\n        this.props.logOut();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        //connect socket\r\n        console.log(' MAIN component did mount');\r\n        mySocket.connect( this.props.session.username , this.props.session.type_user, this.props.session.num_user);\r\n\r\n        this.socket.on('you have to disconnect', () => {\r\n            console.log('I have to disconnect');\r\n            this.props.logOut();\r\n        });\r\n        this.socket.on('new notif' , (createdNotif) => {\r\n            console.log('new notif received on main' , createdNotif);\r\n            //keep in newNotifs , last 5 notifs of less than two hours\r\n            let newNewNotifs = this.state.newNotifs.slice();\r\n            if(newNewNotifs.length > 4) newNewNotifs.pop();\r\n            newNewNotifs.unshift(createdNotif);\r\n            console.log('newNewNotifs' , newNewNotifs);\r\n            newNewNotifs = newNewNotifs.filter( (newNotif) => {\r\n                let now_2 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                console.log('now_2' , now_2 );\r\n                console.log( 'date_notif' ,date_notif); \r\n                console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                if( date_notif < now_2 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNewNotifs' , newNewNotifs);\r\n            this.showPopUp(this.popUp);\r\n            let newNbNewNotification = this.state.nbNewNotification + 1;\r\n            this.socket.emit('get nb unanswered notifs');\r\n            this.notifSound.play();\r\n            this.setState({\r\n                newNotifs : newNewNotifs,\r\n                nbNewNotification : newNbNewNotification,\r\n            })\r\n        });\r\n\r\n        this.socket.on('new message -main', (newMessage)=>{\r\n            console.log('new message -main', newMessage);\r\n            this.socket.emit('get nb new message', this.props.session.num_user);\r\n            let newNewMessageNotifs = this.state.newMessageNotifs.slice(); \r\n            if( this.props.location.pathname !== '/acim/message'){\r\n                newNewMessageNotifs.unshift(newMessage);\r\n                console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n                newNewMessageNotifs = newNewMessageNotifs.filter( (newNotif) => {\r\n                    let now_2 = new Date().getTime() - (10*60*1000);\r\n                    let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                    console.log('now_2' , now_2 );\r\n                    console.log( 'date_notif' ,date_notif); \r\n                    console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                    if( date_notif < now_2 ) return false;\r\n                    else return true;\r\n                });\r\n                console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n                this.showPopUp(this.popUpMessage);\r\n            }\r\n            //let newNbNewMessage = this.state.nbNewMessage + 1;\r\n            this.messageSound.play();\r\n            this.socket.emit('get nb new message', this.props.session.num_user);\r\n            this.setState({\r\n                newMessageNotifs : newNewMessageNotifs,\r\n                //nbNewMessage : newNbNewMessage,\r\n            });\r\n        });\r\n\r\n        this.socket.on('new annonce -main', (newAnnonce) => {\r\n            console.log('new annonce -main', newAnnonce);\r\n            this.socket.emit('get nb new annonce', this.props.session.num_user);\r\n            let newNewMessageNotifs = this.state.newMessageNotifs.slice();\r\n            newNewMessageNotifs.unshift(newAnnonce);\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            newNewMessageNotifs = newNewMessageNotifs.filter( (newNotif) => {\r\n                let now_2 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                console.log('now_2' , now_2 );\r\n                console.log( 'date_notif' ,date_notif); \r\n                console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                if( date_notif < now_2 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            this.showPopUp(this.popUpMessage);\r\n            this.messageSound.play();\r\n            this.setState({\r\n                newMessageNotifs : newNewMessageNotifs,\r\n                //nbNewMessage : newNbNewMessage,\r\n            });\r\n        });\r\n        \r\n\r\n        this.socket.emit('get nb new annonce', this.props.session.num_user);\r\n        this.socket.on('nb new annonce -main',(nbNewAnnonce) => {\r\n            console.log('nb new annonce', nbNewAnnonce);\r\n            this.setState({\r\n                nbNewAnnonce : nbNewAnnonce,\r\n            });\r\n        });\r\n\r\n        this.socket.emit('get notifs list unanswered');\r\n        this.socket.on('unanswered notifs nb', (nb) => {\r\n            console.log('unanswered notifs nb',nb);\r\n            this.nbNewNotificationPlus(nb);\r\n        });\r\n\r\n        this.socket.emit('get nb new message', this.props.session.num_user);\r\n        this.socket.on('nb new message -main', (nbNewMessage) =>{\r\n            console.log('nb new message -main', nbNewMessage);\r\n            this.setState({\r\n                nbNewMessage : nbNewMessage,\r\n            });\r\n        });\r\n\r\n        this.socket.on('updateAnnonce -main', () => {\r\n            console.log('updateAnnonce -main');\r\n            this.socket.emit('get nb new annonce', this.props.session.num_user);\r\n        });\r\n        \r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        //close socket connection\r\n        console.log('UNMOUNT main');\r\n        this.socket.off('new notif');\r\n        this.socket.off('nb tache undone');\r\n        this.socket.off('unanswered notifs nb');\r\n        this.socket.off('new message -main');\r\n        this.socket.off('nb new message -main');\r\n        this.socket.off('new annonce -main');\r\n        this.socket.off('nb new annonce -main');\r\n        this.socket.off('updateAnnonce -main');\r\n        this.socket.offAny();\r\n        this.socket.removeAllListeners();\r\n        mySocket.socket.disconnect();\r\n    }\r\n\r\n    showNewNotifs = () => {\r\n        return (\r\n            this.state.newNotifs.map( notif => {\r\n                let statutStyle ;\r\n                switch (notif.probleme_statut_code){\r\n                    case 'MAX':\r\n                        statutStyle = {\r\n                            color : 'red',\r\n                        }\r\n                        break;\r\n                    case 'MID':\r\n                        statutStyle = {\r\n                            color : 'yellow',\r\n                        }\r\n                        break;\r\n                    case 'MIN':\r\n                        statutStyle = {\r\n                            color : 'blue',\r\n                        }\r\n                        break;\r\n                     default :\r\n                        break;\r\n                }\r\n                return (\r\n                    <div className = \"notif_pop_notif\" key={notif.num_notification} onClick={this.onClickNotif}>\r\n                        <p id=\"notif_time\">{new Date(notif.date_envoie).toLocaleTimeString('fr-FR')}</p>\r\n                        <p style={statutStyle}> {notif.probleme_statut} </p>\r\n                        <p> {notif.probleme_type} </p>\r\n                        <p> {notif.lieu} </p>\r\n                    </div>\r\n                );\r\n            })\r\n        );\r\n    }\r\n\r\n    onClickMessageNotif = (sender) => {\r\n        console.log('open message' , sender);\r\n        let { url } = this.props.match;\r\n        //hide notif , and got to notification\r\n        this.popUpMessage.current.style.top = \"-1000px\";\r\n        this.props.history.push(`${url}/message`, sender );\r\n    }\r\n\r\n    onClickAnnonceNotif = () => {\r\n        console.log('open annonce');\r\n        let { url } = this.props.match;\r\n        this.popUpMessage.current.style.top = \"-1000px\";\r\n        this.props.history.push(`${url}/annonce`);\r\n    }\r\n\r\n    goToCreateIntervention = (state) => {\r\n        this.props.history.push('/acim/creer', state);\r\n    }\r\n\r\n    showNewMessageNotifs = () => {\r\n        return(\r\n            this.state.newMessageNotifs.map( msNotif => {\r\n                let userFrom = {\r\n                    num_user : msNotif.num_app_user_envoyeur,\r\n                    username : msNotif.envoyeur_username,\r\n                }\r\n                let is_annonce = msNotif.is_annonce;\r\n                let display ;\r\n                let onClickFunc;\r\n                if( is_annonce ){\r\n                    display = <p> Nouvelle annonce de {userFrom.username} </p>; \r\n                    onClickFunc = ()=> this.onClickAnnonceNotif();\r\n                }else{\r\n                    display = <p> Nouveau message de {userFrom.username} </p>;\r\n                    onClickFunc = () =>this.onClickMessageNotif(userFrom);\r\n                }\r\n                return (\r\n                    <div className = \"notif_pop_notif\" onClick={onClickFunc} key={msNotif.num_message}>\r\n                        {display}\r\n                    </div>\r\n                );\r\n            })\r\n        );\r\n    }\r\n\t\r\n    showNav = () => {\r\n        //toggle showNav state\r\n        let newShowNav = !this.state.showNav;\r\n        this.setState({\r\n            showNav : newShowNav,\r\n        });\r\n    }\r\n    closeNav = () => {\r\n\r\n        if( this.state.showNav){\r\n            this.setState({\r\n                showNav : false,\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const screenWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n        let { path, url } = this.props.match;\r\n        let {\r\n            session,\r\n        } = this.props;\r\n        let { showSub,\r\n                numSelectedIntervention ,\r\n                nbNewMessage,\r\n                nbNewNotification,\r\n                nbNewAnnonce ,\r\n                showNav,\r\n        } = this.state;\r\n        let displayStyle ;\r\n        let subStyle ;\r\n        let navStyle;\r\n        let mainTabStyle;\r\n        let subDisplayChildrenStyle;\r\n        let today = new Date();\r\n        let todayPlus28 = new Date(today.getTime() + 28*24*60*60*1000);\r\n        if(showSub){\r\n            displayStyle = {\r\n                ...displayStyle,\r\n                display : 'none',\r\n            };\r\n            subStyle = {\r\n                ...subStyle,\r\n                width : '100%',\r\n            };\r\n        }else{\r\n            subStyle = {\r\n                ...subStyle,\r\n                width : '0px',\r\n            };\r\n            subDisplayChildrenStyle = {\r\n                ...subDisplayChildrenStyle,\r\n                display : 'none',\r\n            };\r\n        }\r\n        if(screenWidth <= 930){\r\n            //navStyle and mainTabStyle works\r\n            if(showNav){\r\n                navStyle = {\r\n                    display : 'flex',\r\n                }\r\n            }\r\n        }\r\n                        //<div className=\"logo-main\">\r\n                        //    <img src={logo} alt=\"mndpt|acim\"/>\r\n                        //    \r\n                        //</div>\r\n                        //<p> {this.props.session.username} </p>\r\n                        //<button onClick={()=> this.showPopUp(this.popUp) }> show pop </button>\r\n                        //<button onClick={()=> this.showPopUp(this.popUpMessage) }> show pop message </button>\r\n                        //<button onClick={this.logOut}> se deconnecter </button>\r\n            return (\r\n                <div className=\"main_layout\" >\r\n                    <div className=\"notif_pop\" ref={this.popUp}>\r\n                        {this.showNewNotifs()}\r\n                    </div>\r\n                    <div className=\"notif_pop\" ref={this.popUpMessage}>\r\n                        {this.showNewMessageNotifs()}\r\n                    </div>\r\n                    <div className=\"side_bt\">\r\n                        <button onClick={this.showNav}> ... </button>\r\n                    </div>\r\n                    <div className=\"header\">\r\n                        <AppHeader session={this.props.session} \r\n                                    logOut={this.logOut}/>\r\n                    </div>\r\n                    <div className=\"main_display\">\r\n                        <nav className=\"side_nav\" id=\"main_nav\" style={navStyle}>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/mytasknew`} onClick={this.closeSub}>Mes taches</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/dashboard`} onClick={this.closeSub}>Tableau de bord</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/notifs`} onClick={this.closeSub}>Notifications{(nbNewNotification>0) ? `(${nbNewNotification})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/message`} onClick={this.closeSub}>Messages {(nbNewMessage>0) ? `(${nbNewMessage})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/annonce`} onClick={this.closeSub}>Annonces {(nbNewAnnonce>0) ? `(${nbNewAnnonce})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/agenda`} onClick={this.closeSub}>Agenda</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/creer`} onClick={this.closeSub}>Creer une intervention</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/notifsHistory`} onClick={this.closeSub}>Historiques des notifications</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/interventionHistory`} onClick={this.closeSub}>Historiques des interventions</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/rapport`} onClick={this.closeSub}>{`Rapport d'activit`}</NavLink>\r\n                        </nav>\r\n                            <div className=\"main-tabDisplay\" style={mainTabStyle} onClick = {this.closeNav}>\r\n                                <div className=\"display\" style={displayStyle}>\r\n                                    <Switch>\r\n                                        <Route exact path={path}> \r\n                                            <Redirect to={`${path}/mytasknew`}/>\r\n                                        </Route>\r\n\r\n                                        <Route path={`${path}/dashboard`} render= {\r\n                                            (routeProps) => <Dashboard \r\n                                                                {...routeProps} \r\n                                                                socket={this.socket} \r\n                                                                session={this.props.session} \r\n                                                                showSub={this.showSub}\r\n                                                                closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                                />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/mytask`} \r\n                                                render = {\r\n                                                    (routeProps) => <ToDoList {...routeProps} \r\n                                                                        {...this.props} \r\n                                                                        showSub={this.showSub} \r\n                                                                        socket={this.socket} \r\n                                                                        num_tech_main={session.num_user} \r\n                                                                        topText={`Listes des taches a faire par ${session.username} :`}\r\n                                                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                                        />\r\n\r\n                                        }/>\r\n                                        <Route path={`${path}/mytasknew`} \r\n                                                render = {\r\n                                                    (routeProps) => <Mytask {...routeProps}\r\n                                                    showSub = {this.showSub}\r\n                                                    socket={this.socket}\r\n                                                    session = {this.props.session}/>\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/notifs`} \r\n                                                render = {\r\n                                                    (routeProps) => <NotifsList  {...routeProps} \r\n                                                    {...this.props} \r\n                                                    setNbNewNotif = {this.nbNewNotificationPlus}\r\n                                                    nbNewNotificationToZero = {() => this.nbNewNotificationPlus('0')} \r\n                                                    socket = {this.socket}/>\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/notifsHistory`} \r\n                                                render = { (routeProps) => \r\n                                                    <NotifsHistory  \r\n                                                        {...routeProps} \r\n                                                        session={this.props.session} \r\n                                                        socket={this.socket}\r\n                                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                        />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/interventionHistory`} \r\n                                                render = { (routeProps) => \r\n                                                    <InterventionHistory  {...routeProps} \r\n                                                        session={this.props.session} \r\n                                                        socket={this.socket} \r\n                                                        showSub={this.showSub}\r\n                                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                        />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/message`}\r\n                                                render = { (routeProps) =>\r\n                                                    <MessagePage \r\n                                                        session = {this.props.session}\r\n                                                        socket={this.socket}\r\n                                                        { ... routeProps}\r\n                                                        setNbNewMessageToZero = { () => this.setNbNewMessage(0) }\r\n                                                    />\r\n\r\n                                        }/>\r\n                                        \r\n                                        <Route path={`${path}/annonce`}\r\n                                                render = { (routeProps) =>\r\n                                                     <AnnoncePage \r\n                                                        session = { this.props.session}\r\n                                                        socket={this.socket} />\r\n                                                }\r\n                                        />\r\n                                        <Route path={`${path}/creer`} render = {\r\n                                            (routeProps) => <CreateIntervention {...routeProps} \r\n                                                {...this.props}\r\n                                                showSub = {this.showSub}\r\n                                                socket = {this.socket}\r\n                                                session = {this.props.session}/>\r\n                                        }/>\r\n\r\n                                        <Route path= {`${path}/agenda`} render = {\r\n                                            (routeProps) => <BigAgenda \r\n                                                { ... routeProps}\r\n                                                session = { this.props.session }\r\n                                                socket = {this.socket}\r\n                                                showSub = {this.showSub}\r\n                                                date_debut = { today }\r\n                                                date_fin = { todayPlus28}\r\n                                                close = { ()=> console.log('fermer agenda')}\r\n                                                setSelectedDate = { (e) => this.goToCreateIntervention({dateFree : e })}//use e because we use e.target.value in createIntervention\r\n\r\n                                            />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/agendaSimple`} render = {\r\n                                            (routeProps) => <Agenda\r\n                                                session = { this.props.session }\r\n                                                socket = {this.socket}\r\n                                                showSub = {this.showSub}\r\n                                                date_debut = { today }\r\n                                                date_fin = { todayPlus28}\r\n                                                close = { ()=> console.log('fermer agenda')}\r\n                                                setSelectedDate = { (e) => this.goToCreateIntervention({dateFree : e })}//use e because we use e.target.value in createIntervention\r\n                                                />\r\n                                        }/>\r\n                                        \r\n                                        <Route path={`${path}/agendaTimeline`} render = {\r\n                                            (routeProps) => <AgendaTimeline               \r\n                                                { ... routeProps}\r\n                                                session = { this.props.session }\r\n                                                socket = {this.socket}\r\n                                                showSub = {this.showSub}\r\n                                                date_debut = { new Date('2021-07-01') }\r\n                                                date_fin = { new Date('2021-08-01')}\r\n                                                close = { ()=> console.log('fermer agenda')}\r\n                                                />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/rapport`} render = {\r\n                                            (routeProps) => <RapportActivite \r\n                                                session = {this.props.session}\r\n                                                />\r\n                                        }/>\r\n\r\n                                    </Switch>\r\n                                </div>\r\n                                <div className=\"sub-display\" style={subStyle}>\r\n                                    <InterventionPage \r\n                                        num_intervention ={this.state.numSelectedIntervention} \r\n                                        {...this.props}  \r\n                                        style={subDisplayChildrenStyle} \r\n                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                        showSub = {this.showSub}\r\n                                        socket={this.socket}\r\n                                        />\r\n                                </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            );\r\n    }\r\n}\r\n                            //<NavLink activeClassName=\"active_navLink\"  to={`${url}/agendaSimple`} onClick={this.closeSub}>Agenda _simple</NavLink>\r\n                            //<NavLink activeClassName=\"active_navLink\"  to={`${url}/agendaTimeline`} onClick={this.closeSub}>Agenda_timeline</NavLink>\r\n","import './index.css';\r\nimport React from 'react';\r\nimport Dropdown from './../../utils/dropDown';\r\n\r\n\r\nexport default class Ask extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            listProblem : [],\r\n            listProblemStatut : [],\r\n            listLieu : [],\r\n            session : this.props.session,\r\n            problem : '',\r\n            num_probleme_type : '',\r\n            num_probleme_statut : '',\r\n            num_lieu : '',\r\n            remarque : '',\r\n            indication : ''\r\n        }\r\n    }\r\n    updateProblem = (e) => {\r\n       this.setState({\r\n           problem : e.target.value,\r\n       });\r\n    }\r\n    updateProblemType = (e) => {\r\n       this.setState({\r\n           num_probleme_type : e.target.value,\r\n       });\r\n    }\r\n    updateProblemStatut = (e) => {\r\n       this.setState({\r\n           num_probleme_statut : e.target.value,\r\n       });\r\n    }\r\n    updateLieu = (e) => {\r\n       this.setState({\r\n           num_lieu : e.target.value,\r\n       });\r\n    }\r\n    updateRemarque = (e) => {\r\n       this.setState({\r\n           remarque : e.target.value,\r\n       });\r\n    }\r\n    componentDidMount = () => {\r\n        console.log('ask mount');\r\n        //console.log(this.props.session);\r\n        //get the problems\r\n        if( this.props.socket ){\r\n            //get probleme spec : get listProbleme , statut , Lieu\r\n            this.props.socket.on('list problem', (listProblem) => {\r\n                console.log('list problem in ask' , listProblem );\r\n                let newListProblem = listProblem.map( item => {\r\n                    return { \r\n                        key : item.num_probleme_type,\r\n                        value : item.num_probleme_type,\r\n                        libelle : item.libelle,\r\n                        code: item.code,\r\n                    }\r\n                });\r\n                this.setState({\r\n                    listProblem : newListProblem,\r\n                    num_probleme_type : newListProblem[0].value,\r\n                });\r\n            });\r\n\r\n            this.props.socket.on('list problem_statut', (listProblemStatut) => {\r\n                console.log(' getting list problem_statut');\r\n                let newListProblemStatut = listProblemStatut.map( item => ({\r\n                    key : item.num_probleme_statut,\r\n                    value : item.num_probleme_statut,\r\n                    libelle : item.libelle,\r\n                }));\r\n\r\n                this.setState({\r\n                    listProblemStatut : newListProblemStatut,\r\n                    num_probleme_statut : newListProblemStatut[0].value,\r\n                });\r\n\r\n            });\r\n\r\n            this.props.socket.on('list lieu', (listLieu) => {\r\n                console.log(' getting list lieu');\r\n                let newListLieu = listLieu.map( item => ({\r\n                    key : item.num_lieu,\r\n                    value : item.num_lieu,\r\n                    libelle : item.libelle,\r\n                }));\r\n\r\n                this.setState({\r\n                    listLieu : newListLieu,\r\n                    num_lieu : newListLieu[0].value,\r\n                });\r\n            });\r\n\r\n            this.props.socket.on('I sent a notif', (createdNotif) => {\r\n                //alert('notification sent', createdNotif );\r\n                createdNotif.date_envoie = new Date(createdNotif.date_envoie).toLocaleString('fr-FR');\r\n                console.log('new notif in history');\r\n                this.props.nbNewNotifsPlus();\r\n                this.setState({\r\n                    indication : `Demande envoyee #${createdNotif.date_envoie}`,\r\n                });\r\n            });\r\n\r\n\r\n            this.props.socket.emit('get problem definition');\r\n        }else{\r\n            console.log( ' no socket in ask');\r\n        }\r\n\r\n    }\r\n\r\n    componentDidupdate = () => {\r\n        console.log('componentDidUpdate ask');\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        console.log('unmount ask');\r\n        this.props.socket.off('list problem');\r\n        this.props.socket.off('list problem_statut');\r\n        this.props.socket.off('list lieu');\r\n        this.props.socket.off('I sent a notif');\r\n    }\r\n\r\n    sendNotifs = () => {\r\n        //console.log('send notifs based on ' , this.state );\r\n        let selectedProblemTypeCode;\r\n        console.log('listProblem' , this.state.listProblem );\r\n        if ( this.state.listProblem.length !== 0 ) selectedProblemTypeCode = this.state.listProblem.find( problem => problem.key === this.state.num_probleme_type).code;\r\n        console.log(' selected problem type is ' + selectedProblemTypeCode );\r\n        //if code is OTH , remarque is required\r\n        if ( selectedProblemTypeCode === 'OTH' && !this.state.remarque ) {\r\n            //alert(' Vous devez ecrire une remarque');\r\n            this.setState({\r\n                indication : 'Vous devez ecrire une remarque',\r\n            });\r\n            return;\r\n        }\r\n        if(this.props.session && this.state.num_lieu && this.state.num_probleme_type && this.state.num_probleme_statut ){\r\n            //create the problem first\r\n            let newProblem = {\r\n                num_probleme_type : this.state.num_probleme_type,\r\n                num_probleme_statut : this.state.num_probleme_statut,\r\n                num_lieu : this.state.num_lieu,\r\n                remarque : this.state.remarque,\r\n            }\r\n            let newNotif = {\r\n                num_app_user_user : this.state.session.num_user,\r\n                newProblem,\r\n            }\r\n            console.log('send notif ' , newNotif );\r\n            this.props.socket.emit('notif' , newNotif );\r\n\r\n\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let indicationStyle ;\r\n        if( this.state.indication ){\r\n            //show indication\r\n            indicationStyle = {\r\n                opacity : 1,\r\n                right : 0,\r\n            }\r\n        }\r\n        return (\r\n            <div className=\"ask\">\r\n                <p>{ `Demande d'assistance`}</p>\r\n                <div className=\"dropdown-zone\">\r\n                    <p> Probleme  : </p>\r\n                    <Dropdown value={this.state.num_probleme_type} onChange={this.updateProblemType}  objArray={this.state.listProblem}/>\r\n                </div>\r\n                <div className=\"remarque-problem\">\r\n                    <p> remarque : </p>\r\n                    <textarea value= {this.state.remarque} onChange={this.updateRemarque} placeholder=\"remarque ici\" />\r\n                </div>\r\n                <div className=\"double-dropdown\">\r\n                    <div className=\"dropdown-zone\">\r\n                        <p> Urgence : </p>\r\n                        <Dropdown defaultValue=\"xx\" value={this.state.num_probleme_statut} objArray={this.state.listProblemStatut} onChange={this.updateProblemStatut}/>\r\n                    </div>\r\n                    <div className=\"dropdown-zone\">\r\n                        <p> Lieu : </p>\r\n                        <Dropdown  value={this.state.num_lieu} objArray={this.state.listLieu} onChange={this.updateLieu} />\r\n                    </div>\r\n                </div>\r\n                <button className=\"my-button\" onClick={ this.sendNotifs }> Envoyer </button>\r\n                <div className=\"indication\" style={indicationStyle}> { this.state.indication } </div> \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import './index.css';\nimport React from 'react';\n\nexport default class Notify_header extends React.Component {\n    render () {\n        return (\n            <div className=\"notify_header header\">\n                <h1>mptdn_acim</h1>\n                <p> {this.props.session.username} </p>\n                <button onClick={this.props.showNotif} > showNotif </button>\n                <button onClick={this.props.logOut}> se deconnecter </button>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React from 'react';\nimport NotifHistory from './../notifHistory';\nimport { Urgent } from './../../urgent';\n\n\nexport default class History extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            notifsTab : [],\n        }\n    }\n    componentDidMount = () => {\n        //get all history :3 or a part of it \n        this.props.socket.emit('get notifs history', this.props.session.num_user);\n        this.props.socket.on('notifs history', (notifsTab) => {\n            console.log('notification history', notifsTab);\n            const newNotifsTab = notifsTab.map( item => ({\n                num_notification : item.num_notification,\n                probleme_type : item.probleme_type,\n                probleme_code : item.code,\n                statut_code : item.statut,\n                statut_libelle : item.statut_libelle,\n                lieu : item.lieu,\n                remarque : item.remarque || '-',\n                date_envoie : new Date(item.date_envoie).toLocaleString('fr-FR'),\n                num_app_user_tech_main : item.num_app_user_tech_main,\n                tech_main_username : item.tech_main_username || '-',\n                date_reponse : (item.date_reponse)? new Date(item.date_reponse).toLocaleString('fr-FR'): '-',\n                num_intervention : item.num_intervention || 'nd',\n                date_programme : (item.date_programme)? new Date(item.date_programme).toLocaleString('fr-FR'): '-',\n            }));\n            this.setState({\n                notifsTab : newNotifsTab,\n            });\n        });\n\n        this.props.socket.on('notif from tech_main' , () => {\n            //tech_main has taken charge of something\n            console.log('notif from tech_main in history js');\n            setTimeout( () => {\n                console.log('notif from tech_main');\n                this.props.socket.emit('get notifs history', this.props.session.num_user);\n            } , 5000);\n        });\n\n        \n        //get the nb of new notfis to zero\n        this.props.nbNewNotifsToZero();\n    }\n    displayNotif  = (list) => {\n        return list.map( notif => <NotifHistory showSub={this.props.showSub} notif={notif} key={notif.num_notification}/> );\n    }\n\n    componentWillUnmount = () => {\n        this.props.socket.off('notifs history');\n    }\n    render(){\n        return (\n            <div id=\"notifsList\">\n                <p> Historiques des notifications envoyees par {this.props.session.username}:  </p>\n                <div id=\"scroll_list-notifsList\">\n                    {this.displayNotif(this.state.notifsTab)}\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React from 'react';\nimport Intervention from './../intervention';\n\n\nexport default class Intervention_notification extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            interventionTab : [],\n        }\n    }\n    componentDidMount = () => {\n        console.log('component did mount intervention_notification');\n        this.props.socket.emit('get list intervention_notification',this.props.session.num_user);\n        this.props.socket.on('list intervention_notification',(notifList) => {\n            console.log('list intervention' , notifList);\n            let new_interventionTab = notifList.map( (item,index) => ({\n                num_intervention : item.num_intervention ,\n                code_intervention_type : item.code_intervention_type,\n                date_programme : item.date_programme,\n                lieu_libelle : item.lieu,\n                intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.tech_main_username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                children : item.children,\n                probleme_resolu : item.probleme_resolu,\n            }));\n            this.setState({\n                interventionTab : new_interventionTab,\n            });\n        });\n        this.props.socket.on('ended intervention', () => {\n            this.props.socket.emit('get list intervention_notification',this.props.session.num_user);\n        });\n\n    }\n\n    componentWillUnmount = () => {\n        console.log('intervention_notification will unmount');\n        this.props.socket.off('list intervention_notification');\n        //this.props.socket.off('ended intervention'); better in interventionPage as it is always mounted until we unmmount all\n    }\n    displayListInterevention = (list) => {\n        return list.map( intervention => {\n            \n            if ( intervention.num_intervention === this.props.numSelectedIntervention ){\n                return <Intervention {...this.props} intervention={intervention} key={intervention.num_intervention} selected={true}/>;\n            }else{\n                return <Intervention {...this.props} intervention={intervention} key={intervention.num_intervention} selected={false}/>;\n            }\n        });\n    }\n    render () {\n        return (\n            <div className=\"intervention_notification\">\n                <p> Interventions provenant des notifactions de {this.props.session.username} </p>\n                <div className=\"scroll_list\">\n                    {this.displayListInterevention(this.state.interventionTab)}\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/flute_notif.df9fcaa1.wav\";","import './index.css';\r\nimport React from 'react';\r\nimport {  Switch , Route , Redirect, NavLink , useRouteMatch  } from 'react-router-dom'; \r\nimport NotifyHeader from './../notifyHeader';\r\nimport Ask from './../ask';\r\nimport History from './../history';\r\nimport InterventionNotification from './../interventionNotification';\r\nimport InterventionPage from './../interventionPage';\r\nimport AnnonceList from './../annonceList';\r\nimport AppHeader from './../appHeader';\r\nimport { mySocket } from './../../socket_io/socket_io';\r\nimport flute_notif from './../../res/son/flute_notif.wav';\r\nimport notifMessage from './../../res/son/notif1.wav';\r\n\r\n\r\nexport default class Notify extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            nbNewNotifs : 0,\r\n            notifsList : [\r\n                \r\n            ],\r\n            nbNewAnnonce : 0,\r\n            newMessageNotifs : [\r\n                                //{\r\n                //    date_envoie: 'date_envoie',\r\n                //    envoyeur_username : 'from',\r\n                //    num_app_user_envoyeur : 'num_from',\r\n                //    num_message : 'num',\r\n                //},\r\n\r\n            ],\r\n            showSub : false,\r\n            numSelectedIntervention : null ,\r\n        }\r\n        this.socket = mySocket.socket;\r\n        this.notify_notif_pop = React.createRef();\r\n        this.message_notifs_pop = React.createRef();\r\n        this.notifSound = new Audio(flute_notif);\r\n        this.messageSound = new Audio(notifMessage);\r\n        //this.sub_display = React.createRef();\r\n\r\n    }\r\n\r\n    nbNewNotifsPlus = (nb) => {\r\n        console.log('new notifs ++');\r\n        \r\n        let newNb = nb || this.state.nbNewNotifs + 1;\r\n        //nb if defined to be 0 needs to be a string , !('0') is true so nbNewNotifs becomes a string and may lead to some strange behaviour so parseInt is used\r\n        newNb = parseInt(newNb);\r\n        console.log('new notifs ', newNb);\r\n        this.setState({\r\n            nbNewNotifs : newNb,\r\n        });\r\n    }\r\n    logOut = () => {\r\n        this.socket.emit('disconnect all');\r\n        this.props.logOut();\r\n    }\r\n\r\n    showNotif = (ref) => {\r\n        console.log('show Notif');\r\n        ref.current.style.top = '157px';\r\n        setTimeout( ()=> {\r\n            ref.current.style.top = '-1000px'\r\n        }, 10000);\r\n    }\r\n\r\n    hideNotif = (ref) => {\r\n        ref.current.style.top = '-1000px';\r\n    }\r\n\r\n    showSubWithInfo = (num_intervention) => {\r\n        let newShowSub;\r\n        if( this.state.numSelectedIntervention === num_intervention ) {\r\n            newShowSub = !(this.state.showSub);\r\n            num_intervention = null;\r\n        }\r\n        else newShowSub = true;\r\n        this.setState({\r\n            showSub : newShowSub,\r\n            numSelectedIntervention : num_intervention ,\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        //initialize a client socket io\r\n        mySocket.connect( this.props.session.username , this.props.session.type_user , this.props.session.num_user );\r\n\r\n        this.socket.on('you have to disconnect', () => {\r\n            this.props.logOut();\r\n        });\r\n\r\n        this.socket.emit('get nb new annonce', this.props.session.num_user , 'notify');\r\n        this.socket.on('nb new annonce -notify', (nbNewAnnonce) => {\r\n            console.log('nb new annonce -notify', nbNewAnnonce);\r\n            this.setState({\r\n                nbNewAnnonce : nbNewAnnonce,\r\n            });\r\n        });\r\n\r\n        this.socket.on('notif from tech_main' , ({tech_main_username , probleme_type , date_envoie  ,lieu ,num_notification, date_programme}) => {\r\n            console.log('notif from tech_main' , tech_main_username , probleme_type , date_envoie  );\r\n            let date_envoie_formatted = new Date(date_envoie).toLocaleString('fr-FR');\r\n            //show notif saying a sentence\r\n            const notif = {\r\n                tech_main_username,\r\n                probleme_type,\r\n                lieu,\r\n                date_envoie_formatted : date_envoie_formatted,\r\n                date_envoie,\r\n                date_programme : new Date(date_programme).toLocaleString('fr-FR'),\r\n                text : `${tech_main_username} arrive pour le probleme : \" ${probleme_type} \" lieu : ${lieu} - notifie le ${date_envoie_formatted} `,\r\n                key : num_notification,\r\n            }\r\n            let newNotifsList = this.state.notifsList.slice();\r\n            if(newNotifsList.length > 4) newNotifsList.pop();\r\n            newNotifsList.unshift(notif);\r\n            newNotifsList = newNotifsList.filter( item => {\r\n                let now_10 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(item.date_envoie).getTime();\r\n                if(date_notif < now_10 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNotifsList', newNotifsList );\r\n            this.showNotif(this.notify_notif_pop);\r\n            this.notifSound.play();\r\n            this.setState({\r\n                notifsList : newNotifsList,\r\n            });\r\n        });\r\n\r\n        this.socket.on('new annonce -notify' , (newAnnonce) => {\r\n            console.log('new annonce -notify', newAnnonce);\r\n            let newNewMessageNotifs = this.state.newMessageNotifs.slice();\r\n            newNewMessageNotifs.unshift(newAnnonce);\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            newNewMessageNotifs = newNewMessageNotifs.filter( (newNotif) => {\r\n                let now_2 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                console.log('now_2' , now_2 );\r\n                console.log( 'date_notif' ,date_notif); \r\n                console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                if( date_notif < now_2 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            this.showNotif(this.message_notifs_pop);\r\n            this.messageSound.play();\r\n            this.socket.emit('get nb new annonce' , this.props.session.num_user , 'notify');\r\n            this.setState({\r\n                newMessageNotifs : newNewMessageNotifs,\r\n                //nbNewMessage : newNbNewMessage,\r\n            });\r\n        });\r\n\r\n        this.socket.on('updateAnnonce -notify', () =>{\r\n            console.log('updateAnnonce -notify');\r\n            this.socket.emit('get nb new annonce', this.props.session.num_user , 'notify');\r\n        });\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        console.log('unmount notify');\r\n        this.socket.off('list problem');\r\n        this.socket.off('list problem_statut');\r\n        this.socket.off('list lieu');\r\n        this.socket.off('notif from tech_main');\r\n        this.socket.off('new annonce -notify');\r\n        this.socket.off('nb new annonce -notify');\r\n        this.socket.offAny();\r\n        mySocket.disconnect();\r\n    }\r\n\r\n    formatNotifsList = (notifsList) => {\r\n        return (\r\n            notifsList.map( item => \r\n                <div className=\"notify_notif\" key={item.key} onClick={()=> this.hideNotif(this.notify_notif_pop)}>\r\n                    <p> Intervention de {item.tech_main_username}  {item.date_programme}</p>\r\n                    <p> probleme : {item.probleme_type} -- {item.lieu} </p>\r\n                    <p> notifiee le : {item.date_envoie_formatted} </p>\r\n                </div>\r\n            )\r\n        );\r\n\r\n    }\r\n\r\n    openAnnonce = () => {\r\n        console.log('open annonce');\r\n        let { url } = this.props.match;\r\n        this.message_notifs_pop.current.style.top = '-1000px';\r\n        this.props.history.push(`${url}/annonce`);\r\n    }\r\n\r\n    render () {\r\n        const screenWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n        let {\r\n            numSelectedIntervention,\r\n            newMessageNotifs,\r\n            nbNewAnnonce,\r\n        } = this.state;\r\n        let subStyle ;\r\n        let tabDisplayStyle ;\r\n        let subDisplayChildrenStyle;\r\n        let messageNotifDisplay;\r\n        if ( this.state.showSub ) {\r\n            subStyle = {\r\n                width : '45%',\r\n            }\r\n            if( screenWidth <= 930 ){\r\n                subStyle = {\r\n                    width : '100%',\r\n                };\r\n                tabDisplayStyle = {\r\n                    width : '0',\r\n                    background : 'red',\r\n                    display : 'none',\r\n                };\r\n            }\r\n           \r\n        }else{\r\n            subStyle = {\r\n                background : 'black',\r\n                width : '0px',\r\n            };\r\n            subDisplayChildrenStyle = {\r\n                display : 'none',\r\n            };\r\n        }\r\n\r\n        messageNotifDisplay = newMessageNotifs.map( newMs => {\r\n            if(newMs.is_annonce){\r\n                return <p onClick = {this.openAnnonce} \r\n                            className=\"notify_notif\"\r\n                            key={newMs.num_message}>\r\n                        Nouvelle annonce de la DSI </p>;\r\n            }\r\n        });\r\n       //                <NotifyHeader {...this.props} logOut={this.logOut} showNotif={()=>this.showNotif(this.notify_notif_pop)}/>\r\n \r\n        return (\r\n            <div className=\"notify_layout\">\r\n                <AppHeader session={this.props.session} \r\n                                logOut={this.logOut}/>\r\n                <div className=\"notify_display\">\r\n                    <TabDisplay {...this.state} \r\n                                style={tabDisplayStyle} \r\n                                {...this.props} \r\n                                socket = {this.socket} \r\n                                nbNewNotifsPlus={this.nbNewNotifsPlus} \r\n                                showSub={this.showSubWithInfo} \r\n                                numSelectedIntervention={this.state.numSelectedIntervention}\r\n                                nbNewAnnonce={nbNewAnnonce}>\r\n                    </TabDisplay>\r\n                    <div className=\"sub-display\" style={subStyle}>\r\n                        <InterventionPage  num_intervention ={this.state.numSelectedIntervention} \r\n                                            {...this.props} \r\n                                            socket={this.socket} \r\n                                            style={subDisplayChildrenStyle} \r\n                                            closeSub={()=> this.showSubWithInfo(numSelectedIntervention)}/>\r\n                    </div>\r\n                    <div className=\"notify_notif_pop\" ref={this.notify_notif_pop} >\r\n                        {this.formatNotifsList(this.state.notifsList)}\r\n                    </div>\r\n                    <div className=\"notify_notif_pop\" ref={this.message_notifs_pop} >\r\n                        {messageNotifDisplay}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction TabDisplay(props){\r\n    let { path, url } = props.match;\r\n    return (\r\n            <div className=\"tab-display\" style={props.style}>\r\n                <nav className=\"notify_nav\">\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/annonce`}>{ `Annonces de la DSI`}{ (props.nbNewAnnonce > 0) ? `(${props.nbNewAnnonce})` : ''}</NavLink>\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/ask`}>{ `Demande d'assistance`}</NavLink>\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/history`}>Historiques des demandes{(props.nbNewNotifs>0) ? `(${props.nbNewNotifs})`: ``}</NavLink>\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/intervention`}>Interventions</NavLink>\r\n                </nav>\r\n                <div className=\"display\">\r\n                        {props.children}\r\n                        <Switch>\r\n                            <Route path={`${path}/annonce`} \r\n                                    render= {\r\n                                        (routeProps) => <AnnonceList \r\n                                                            session={props.session}\r\n                                                            socket={props.socket} />\r\n                                    }\r\n                            />\r\n                            <Route path={`${path}/ask`} render= {\r\n                                (routeProps) =>  <Ask {...routeProps} session={props.session} socket={props.socket} nbNewNotifsPlus={props.nbNewNotifsPlus} />\r\n                            }/>\r\n                            <Route path={`${path}/history`} render= {\r\n                                (routeProps) => <History {...routeProps} session={props.session} socket={props.socket} nbNewNotifsToZero={() => props.nbNewNotifsPlus('0') } showSub={props.showSub} numSelectedIntervention={props.numSelectedIntervention}/>\r\n                            }/>\r\n                            <Route path={`${path}/intervention`} render= {\r\n                                (routeProps) => <InterventionNotification {...routeProps} {...props} socket={props.socket} showSub={props.showSub} numSelectedIntervention={props.numSelectedIntervention}/> \r\n                            }/>\r\n                            <Redirect exact from={path} to={`${path}/ask`} />\r\n                        </Switch>\r\n                </div>\r\n            </div>\r\n\r\n    );\r\n\r\n}\r\n","/*protected route component\r\n * path : the path\r\n * takes conditionIn : a function that determines wether the condition to access the route is verified\r\n * render : the render function of the route component \r\n * redirectRender : the redirect in case the conditionIn is false\r\n *\r\n */\r\nimport React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nexport default class ProtectedRoute extends React.Component {\r\n\r\n    determineRender = () => {\r\n        if(this.props.conditionIn()) return this.props.render;\r\n        else return this.props.redirectRender;\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Route  path={this.props.path}\r\n                    render={this.determineRender()}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n","import './App.css';\r\nimport React from 'react';\r\nimport Login from './components/login';\r\nimport Layout from './components/layout';\r\nimport Main from './components/main';\r\nimport Notify from './components/notify';\r\nimport ProtectedRoute from './components/protectedRoute';\r\nimport {  Switch , Route , Redirect  } from 'react-router-dom'; \r\nimport { User, computeHmac } from './userTypes.js'\r\n\r\nclass App extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        console.log('======== APP constructor');\r\n        this.state = {\r\n            logged : (localStorage.getItem('logged') === 'true') || false,\r\n            num_user : localStorage.getItem('num_user') || '',\r\n            username : localStorage.getItem('username') || '',\r\n            type_user : localStorage.getItem('type_user')|| null,\r\n            t_u: null,\r\n            t_t: null,\r\n        }\r\n        this.computedHash_USER = null;\r\n        this.computedHash_TECH_MAIN = null;\r\n        console.log('constructor', this.state);\r\n    }\r\n\r\n\r\n    setCredentials = (cred) => {\r\n        this.computedHash_TECH_MAIN = null;\r\n        this.computedHash_USER = null;\r\n        this.setState({\r\n            logged : cred.logged,\r\n            num_user : cred.num_user,\r\n            username : cred.username,\r\n            type_user : cred.type_user,\r\n        });\r\n    }\r\n\r\n    logOut = () => {\r\n        this.setCredentials ( { \r\n            logged : false,\r\n            num_user : '',\r\n            username : '' ,\r\n            type_user : null,\r\n        });\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //computing t_u , t_t ,\r\n        //session is ini in constructor\r\n        console.log('======= APP component did mount , state ' , this.state);\r\n        let computedHash_USER;\r\n        let computedHash_TECH_MAIN;\r\n        let lastLogged = (localStorage.getItem('logged') === 'true');\r\n        if( lastLogged ) {\r\n            console.log('compute hmac for user , tech_main');\r\n            computedHash_USER       = await computeHmac(User.USER.code, this.state.username);\r\n            computedHash_TECH_MAIN  = await computeHmac(User.TECH_MAIN.code, this.state.username);\r\n            console.log(' after compute ' , computedHash_USER , computedHash_TECH_MAIN);\r\n            this.setState({\r\n                t_u : computedHash_USER,\r\n                t_t : computedHash_TECH_MAIN,\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    async shouldComponentUpdate(nextProps,nextState){\r\n        console.log('==== APP shouldComponentUpdate  state',nextState);\r\n        //if we go from no logged to logged , need to re-compute t_u and t_t\r\n        if( this.state.logged !== nextState.logged ){\r\n            console.log('compute hmac for user , tech_main');\r\n            let computedHash_USER;\r\n            let computedHash_TECH_MAIN;\r\n            if( !nextState.logged ) {\r\n                //nextState is not logged , we are disconnecting\r\n                //no need to compute just nullify\r\n                computedHash_USER = null;\r\n                computedHash_TECH_MAIN = null;\r\n\r\n            }else{\r\n                computedHash_USER       = await computeHmac(User.USER.code,nextState.username);\r\n                computedHash_TECH_MAIN  = await computeHmac(User.TECH_MAIN.code, nextState.username);\r\n            }\r\n            console.log(' after compute ' , computedHash_USER , computedHash_TECH_MAIN);\r\n            this.setState({\r\n                t_u : computedHash_USER,\r\n                t_t : computedHash_TECH_MAIN,\r\n            });\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        console.log('==== APP componentDidUpdate ');\r\n        localStorage.setItem('logged',this.state.logged);\r\n        localStorage.setItem('num_user',this.state.num_user);\r\n        localStorage.setItem('username', this.state.username);\r\n        localStorage.setItem('type_user',this.state.type_user);\r\n    }\r\n    \r\n    render(){\r\n        console.log('===== APP render');\r\n        console.log('state ', this.state);\r\n\r\n        //function for changing redirect according to type_ser and logged\r\n        const determineRootRedirect = () => { \r\n            console.log('==== determineRootRedirect function ');\r\n            console.log( 'state in determineRootRedirect ', this.state);\r\n            console.log(' computedhash ' , this.state.t_u , this.state.t_t);\r\n            \r\n            if(this.state.logged){\r\n                console.log(' logged');\r\n                if(this.state.type_user === this.state.t_u) return '/notify';\r\n                if(this.state.type_user === this.state.t_t) return '/acim';\r\n            }\r\n            console.log('no logged');\r\n            console.log('==== end determineRootRedirect ');\r\n            return '/login';\r\n        }\r\n        const redirectTo = determineRootRedirect();\r\n        console.log('redirectTo ' , redirectTo);\r\n\r\n        let session;\r\n        if(this.state.logged){\r\n            //configure session\r\n            session = {\r\n                num_user : this.state.num_user,\r\n                username : this.state.username,\r\n                type_user : this.state.type_user,\r\n             }\r\n        }\r\n        console.log('=== end of render appp');\r\n\r\n        return (\r\n        <Layout>\r\n            <div className=\"App\">\r\n                <Switch>\r\n                    <ProtectedRoute path=\"/login\"\r\n                                    conditionIn={ () => {\r\n                                        if( !this.state.logged ) return true;\r\n                                        else return false;\r\n                                    }}\r\n                                    render={ (routeProps) => \r\n                                        <Login { ... routeProps} setCredentials={this.setCredentials} />\r\n                                    }\r\n                                    redirectRender={ (routeProps) =>\r\n                                        <Redirect to={redirectTo}/>\r\n                                    }\r\n                    />\r\n\r\n\r\n                    <ProtectedRoute path=\"/acim\"\r\n                                    conditionIn={ () => {\r\n                                        if(this.state.logged && this.state.type_user === this.state.t_t) return true ;\r\n                                        else return false;\r\n                                    }}\r\n                                    render={ (routeProps) => \r\n                                        <Main { ... routeProps } session={session} logOut={this.logOut} />\r\n                                    }\r\n                                    redirectRender={ (routeProps) =>\r\n                                        <Redirect to={redirectTo} />\r\n                                    }\r\n                    /> \r\n                    \r\n                    <ProtectedRoute path=\"/notify\"\r\n                        conditionIn={ () => {\r\n                            if(this.state.logged && this.state.type_user === this.state.t_u ) return true;\r\n                            else return false;\r\n                        }}\r\n                        render={ (routeProps) =>\r\n                            <Notify {... routeProps} session={session} logOut = {this.logOut}/>\r\n                        }\r\n                        redirectRender={ (routeProps) =>\r\n                            <Redirect to={redirectTo} />\r\n                        }\r\n                    />\r\n                    \r\n\r\n                    <Route path=\"/info\">\r\n                        <dl>\r\n                            <dt> a.c.i.m </dt>\r\n                            <dd> Application de Coordination des Interventions de Maintenance </dd>\r\n                        </dl>\r\n                    </Route>\r\n\r\n                    <Redirect   from=\"/\" \r\n                                to= \"/login\"/> \r\n                    \r\n                </Switch>\r\n            </div>\r\n        </Layout>\r\n        );\r\n    }\r\n}\r\n                    //<Route path=\"/notify\" render={ (routeProps) => <Notify {... routeProps} session={session} logOut = {this.logOut} /> }/>\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n        <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}