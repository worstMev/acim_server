{"version":3,"sources":["../node_modules/peerjs/dist sync","userTypes.js","components/login/loginData.js","res/logo/base_logo_4.png","components/login/index.js","components/layout/index.js","res/logo/base_logo_sans_texte_2.png","socket_io/socket_io.js","components/foldableDiv/index.js","res/icon/green_dot.png","res/icon/check.png","res/icon/red_dot.png","components/intervention/index.js","res/icon/cross.png","components/toDoList/index.js","urgent.js","components/notif/index.js","components/notifHistory/index.js","components/notifsList/index.js","utils/dropDown.js","components/utils/dropDown/index.js","components/materielSelector/index.js","components/multiMaterielSelector/index.js","generateDocx/generate.js","components/interventionDecharge/index.js","components/interventionSimple/index.js","res/icon/yellow_dot.png","components/agenda/index.js","components/interventionTypeCreator/index.js","components/problemeTechTypeCreator/index.js","components/createIntervention/index.js","components/activeUsers/index.js","components/techActivityDisplay/index.js","components/techActivity/index.js","components/dashboard/index.js","components/notifHistoryTech/index.js","components/notifsHistory/index.js","components/problemeTechConstate/index.js","components/interventionLog/index.js","components/interventionPage/index.js","functions/index.js","components/interventionHistoryControl/index.js","components/interventionHistoryAffichage/index.js","components/interventionHistory/index.js","components/messageRoom/index.js","components/messagePage/index.js","components/interventionTimeline/index.js","components/mytask/index.js","components/agendaTimeline/index.js","components/bigAgenda/index.js","components/annonceList/index.js","components/annoncePage/index.js","components/appHeader/index.js","res/icon/user.png","components/rapportActivite/index.js","components/caller/index.js","res/son/correct_notif.wav","res/son/notif1.wav","components/main/index.js","components/ask/index.js","components/history/index.js","components/interventionNotification/index.js","res/son/ringtone.wav","components/called/index.js","res/son/flute_notif.wav","components/notify/index.js","components/protectedRoute/index.js","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","User","text","computeHmac","key","a","cryptojs","HmacMD5","computedHash","hexaComputedHash","SERVER_BASE_URL","postRequest","url","data","axiosInstance","axios","create","baseURL","post","response","console","log","authenticateUsername","username","usernameIsValid","authenticate","password","found","isAuthenticated","row","num_user","type_user","Login","props","changeSubmittedUsername","event","setState","submittedUsername","target","value","changeSubmittedPassword","submittedPassword","checkCredentials","preventDefault","state","setCredentials","logged","computedHash_USER","computedHash_TECH_MAIN","history","push","className","src","logo","alt","onSubmit","this","type","placeholder","onChange","autoFocus","onClick","React","Component","Layout","children","to","socket","io","autoConnect","onAny","args","mySocket","connect","auth","disconnect","offAny","FoldableDiv","flipFold","newFolded","folded","foldableStyle","title","titleStyle","maxHeight","minHeight","style","Intervention","showDetails","detailsAreShown","goToIntervention","num_intervention","showSub","sumStyle","interventionStyle","timeStyle","infoStyle","childElements","isChild","intervention","date_programme","libelle_lieu","motif","intervention_type","commentaire","libelle_intervention_type","tech_main_username","numero","done","probleme_resolu","libelle_probleme_tech_type","code_intervention_type","isParent","length","detailStyle","display","height","checkElement","check","redCrossElement","doneElement","pbElement","selected","background","border","map","item","index","detailsElement","Date","toLocaleDateString","toLocaleTimeString","hour","minute","substring","ToDoList","componentDidMount","emit","num_tech_main","on","listUndoneIntervention","newList","num_intervention_pere","libelle","setNbInterventionUndone","endOfDay","setHours","getTime","newListLate","filter","newListToday","interventionDate","newListFuture","interventionListUndone","interventionListUndoneLate","interventionListUndoneToday","interventionListUndoneFuture","clickOnToDoList","componentWillUnmount","off","displayToDo","list","retardTitle","todayTitle","futureTitle","allTitle","topText","color","Urgent","Notif","commandAreShown","showCommand","do","delai","num_notification","notif","num_app_user_tech_main","notifRef","current","call","username_user","userToCall","num_app_user_user","addToListToCall","createRef","statutStyle","probleme_type","lieu","user","sender_username","num_app_user_sender","statut_code","borderLeft","fontWeight","ref","statut_libelle","date_envoie","remarque","isCalling","Notif_history","showInfoOf","date_reponse","href","NotifsList","displayNotif","session","deleteFromListToCall","notifsList","newUnansweredNotifsList","user_sender_username","probleme_code","statut","toLocaleString","setNbNewNotif","unansweredNotifsList","createdNotif","setTimeout","notifsToday","newNotifsToday","todayNotifsElement","onClickOnNotifsList","DropDown","optionArray","array","objArray","defaultValue","selectedValue","MaterielSelector","updateLieu","materiels","firstType","Object","getOwnPropertyNames","materielsList","objMateriel","num","config","selectedLieu","selectedMaterielType","materielTypes","materielList","updateMaterielType","updateMateriel","updateConfig","selectedNumMateriel","sortMaterielsByType","types","sortedMateriels","num_materiel_type","num_materiel","libelle_materiel","libelle_materiel_type","lieus","materielsListLieu","nd","num_lieu","unshift","MultiMaterielSelector","listMateriel","maxLength","maxListMaterielLength","changeListMaterielLength","newLength","slice","dLength","i","setListMateriel","materielElements","materiel","obj","objValue","changeListMateriel","docx","require","saveAs","Document","Packer","Paragraph","TextRun","InterventionDecharge","control","disabled","tomorrowDate","setDate","getDate","useState","setMateriels","dateDebut","setDateDebut","dateFin","setDateFin","num_decharge","downloadDechargeDoc","formatDate","materielsValide","date","debut","fin","day","month","getMonth","year","getFullYear","InterventionSimple","toggleShowMenu","newShowMenu","showMenu","menuStyle","heure_programme","greenDotElement","green_dot","redDotElement","red_dot","width","minWidth","maxWitdh","Agenda","setSelectedInterv","interv","selectedInterv","setFreeDate","setSelectedDate","freeTime","setMilliseconds","toISOString","replace","close","intervByDay","date_debut","date_fin","headerDisplay","showHeader","agendaElements","AgendaDay","listInterv","intervList","textDisplay","intervs","getHours","updateSelectedInterv","split","dayDD","monthMM","yearYY","dayAt8","imaginaryInterv","chooseDay","InterventionTypeCreator","showIndic","indication","updateLibelle","updateCode","component","newIntervType","indicStyle","required","ProblemeTechTypeCreator","newProblemeTechType","CreateIntervention","updateTypeIntervention","newNumInterventionType","selectedNumInterventionType","updateDateProgramme","newDateProgramme","dateProgramme","dateProgrammeDisplay","newNumLieu","selectedNumLieu","updateMotif","updateProbleme","numLieu","problemeTechTypes","newMotif","selectedNumProblemeTechType","updateCommentaire","createIntervention","message","closePopUp","top","showPopUp","supposedFreeHours","interventionTypeList","lieuList","problemeList","agendaPop","intervTypeCreator","problemeTechTypeCreator","intervention_types","newInterventionList","num_intervention_type","newSelectedNumInterventionType","location","newLieuList","probleme_tech_types","probleme_tech_type","num_probleme_tech_type","newProblemeList","blem","dateFree","startAgenda","endAgenda","ActiveUsers","updateSelectedNumUser","setSelectedUser","connectedList","allUserList","tech_mains","sort","b","connected_tech_mains","newSelectedUser","selectedUser","active","includes","newMs","elements","UserListItem","isSelf","nbNewMessage","pStyle","borderBottom","borderRight","TechActivityDisplay","listPendingIntervention","listDoneTodayIntervention","tech","undoneInterventions","pendingInterventions","doneTodayInterventions","prevProps","prevState","indic","undoneTitle","pendingTitle","doneTitle","undoneElements","pendingElements","doneTodayElements","resetUser","TechActivity","updateSelectedUser","Dashboard","nbInterventionUndonePlus","nb","newNb","parseInt","nbInterventionUndone","nbNewNotificationPlus","nbNewNotification","match","path","mainDashboardStyle","activeClassName","exact","from","render","routeProps","NotifHistoryTech","NotifsHistory","notifsTab","newNotifsTab","usersList","componentDidUpdate","showNotifs","usersOption","ProblemeConstate","problemeTechTypeArray","lieuArray","numProblemeTechType","onChangeProblemeTechType","onChangeLieu","onChangeRemarque","InterventionLog","etapes","changeEtapesLength","dE","updateLog","join","logElements","etape","newEtape","newEtapes","changeEtape","InterventionPage","newMateriels","updateProblemeTechType","newNumProblemeTechType","updateRemarque","newRemarque","newLog","updatePwd","newPwd","pwd","startIntervention","techMainIsAuth","endIntervention","resolu","updateIntervention","probleme_constate","openCreateIntervention","closeSub","getDecharge","s_URL","URL","document","m_path","port","pathname","window","open","getDechargeDoc","newDecharge","newIntervention","log_info_tab","log_info_elements","log_info","lieu_probleme_tech","num_decharge_info","childButton","info","child","downloadDecharge","InterventionHistoryControl","updateTechMain","techMains","setTechMain","updateDateDebut","newDebut","updateDateFin","newFin","updateStatut","newStatut","statuts","setStatut","updateNumIntervention","setNumIntervention","updateNumInterventionType","setNumInterventionType","tech_mainList","statutList","interventionTypes","0","1","2","3","newTech_mainList","newInterventionTypes","tech_main","statutValue","InterventionHistoryAffichage","displayInterventions","interventions","statut_text","date_text","tech_main_username_text","InterventionHistory","st","setFullYear","interventionList","num_interevnetion","minDate","MessageRoom","updateContenu","newContenu","sendMessage","messages","uuidV4","newMessageDisplay","sent","time_sent","contenu","newMessage","num_sender","receivers","newMessages","scrollDown","scroll","myScroll","scrollTop","scrollHeight","clickOnMessageRoom","unseenMessagesByMe","ms","seen","time_seen","num_message","find","msIn","contenu_message","envoyeur_username","recepteur_username","date_reception","num_app_user_envoyeur","tim_seen","updatedMessages","updatedMessagesId","indexInUpdateMessage","findIndex","messagesElements","MessageElement","divStyle","fromDisplay","diStyle","justifyContent","margin","MessagePage","selectedUserFromState","selected_app_user_recepteur","setSelected_app_user_recepteur","setNbNewMessageToZero","InterventionTimeline","nbDay","end","getDay","start","uuidv4","sortByHour","daySlotElemenst","slotElements","SlotTimeLine","res","intervHour","startHour","newFreeTime","intervElements","onDoubleClick","MyTask","AgendaTimeline","dates","statsPerDate","stats","nb_intervention","BigAgenda","showTimeline","setShowTimeline","checked","AnnonceList","onClickAnnonceList","unseenAnnonces","annonces","annonce","reverse","annoncesElements","Annonce","AnnoncePage","setContenu","annonce_id","AppHeader","logOut","RapportActivite","getRapport","updateDebut","updateFin","btText","formatted_date_debut","formatted_date_fin","Caller","startCall","peerIds","isConnected","micIsOk","myPeer","Peer","undefined","host","calledConn","label","myCalls","metadata","peerId","monitorConn","myAudioStream","getTracks","forEach","track","stop","msg","err","navigator","mediaDevices","getUserMedia","audio","then","stream","streamBack","Audio","srcObject","play","stopCall","detectMic","enumerateDevices","devices","kind","connectedUsers","destroy","button","Main","newItem","newListToCall","listToCall","showCall","itemToDelete","indexToDelete","splice","newShowSub","numSelectedIntervention","setNbNewMessage","onClickNotif","popUp","newNewNotifs","newNotifs","pop","newNotif","now_2","date_notif","newNbNewNotification","notifSound","newNewMessageNotifs","newMessageNotifs","popUpMessage","messageSound","newAnnonce","nbNewAnnonce","nbUndoneIntervention","newInterv","num_app_user_tech_main_creator","removeAllListeners","showNewNotifs","probleme_statut_code","probleme_statut","onClickMessageNotif","sender","onClickAnnonceNotif","goToCreateIntervention","showNewMessageNotifs","msNotif","onClickFunc","userFrom","is_annonce","showNav","newShowNav","closeNav","notif1","notifMessage","displayStyle","subStyle","navStyle","callListStyle","callElements","subDisplayChildrenStyle","screenWidth","Math","max","documentElement","clientWidth","innerWidth","today","todayPlus28","mainTabStyle","nbNewNotificationToZero","Ask","updateProblem","problem","updateProblemType","num_probleme_type","updateProblemStatut","num_probleme_statut","listProblem","newListProblem","listProblemStatut","newListProblemStatut","listLieu","newListLieu","nbNewNotifsPlus","componentDidupdate","sendNotifs","selectedProblemTypeCode","newProblem","indicationStyle","opacity","right","History","nbNewNotifsToZero","Intervention_notification","notifList","new_interventionTab","lieu_libelle","interventionTab","displayListInterevention","Called","acceptCall","peer","caller","ringtone","pause","answer","send","callOk","catch","onClose","Notify","addToCallers","newCallers","callers","deleteFromCallers","newShowCall","nbNewNotifs","showNotif","hideNotif","showSubWithInfo","formatNotifsList","notify_notif_pop","date_envoie_formatted","openAnnonce","message_notifs_pop","flute_notif","newNotifsList","now_10","socket_id","newCaller","callStyle","callersElement","tabDisplayStyle","messageNotifDisplay","left","TabDisplay","ProtectedRoute","determineRender","conditionIn","redirectRender","App","cred","localStorage","getItem","t_u","t_t","nextProps","nextState","setItem","redirectTo","determineRootRedirect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8bec983e.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 395;","import cryptojs from 'crypto-js';\r\nexport const User = {\r\n    TECH_MAIN : { \r\n        text :'technicien de maintenance',\r\n        code : 'TECH_MAIN',\r\n    },\r\n    USER : {\r\n        text : 'utilisateur',\r\n        code : 'USER',\r\n    },\r\n    DASH : { \r\n        text : 'tableau de bord',\r\n        code : 'DASH',\r\n    },\r\n}\r\n\r\nexport async function computeHmac( text , key ) {\r\n    let computedHash = await cryptojs.HmacMD5(text, key);\r\n    const hexaComputedHash ='\\\\x'+computedHash;\r\n    return hexaComputedHash;\r\n}\r\n","import axios from 'axios';\r\n\r\nconst SERVER_BASE_URL = 'http://localhost:3500/ajax/acim';\r\n\r\nasync function postRequest(url,data) {\r\n    const axiosInstance = axios.create({\r\n        baseURL : SERVER_BASE_URL,\r\n    });\r\n    let response;\r\n    try{\r\n        response = await axiosInstance.post(url,data);\r\n        return response;\r\n    }catch(err){\r\n        console.log(`error to fetch data from ${SERVER_BASE_URL}${url}`);\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport async function authenticateUsername (username) {\r\n    const url = '/authenticate/username';\r\n    const data = { username };\r\n    let response;\r\n    try{\r\n        response = await postRequest(url,data);\r\n        console.log(' username  :'+username+' is valid '+response.data.usernameIsValid);\r\n        return {\r\n            usernameIsValid : response.data.usernameIsValid,\r\n        };\r\n    }catch(err){\r\n        console.log(`error in authenticateUsername`);\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport async function authenticate( username , password ) {\r\n    const url   = '/authenticate';\r\n    const data  = { username , password };\r\n    let response ;\r\n    try{\r\n        response = await postRequest(url,data);\r\n        console.log( ' authentication success for '+username+' ' + response.data.found );\r\n        return {\r\n            isAuthenticated : response.data.found,\r\n            username : response.data.row.username,\r\n            num_user : response.data.row.num_user,\r\n            type_user : response.data.row.type_user,\r\n        }\r\n    }catch(err){\r\n        console.log('error in authenticate');\r\n        console.log(err);\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/base_logo_4.55dfbd35.png\";","import React from 'react';\r\nimport './index.css';\r\nimport { User, computeHmac } from './../../userTypes.js';\r\nimport { authenticateUsername, authenticate } from './loginData';\r\nimport logo from './../../res/logo/base_logo_4.png';\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            usernameIsValid : false,\r\n            submittedUsername : '',\r\n            submittedPassword : '',\r\n        }\r\n    }\r\n\r\n    changeSubmittedUsername = (event) => {\r\n       this.setState({\r\n           submittedUsername : event.target.value,\r\n       });\r\n    }\r\n\r\n    changeSubmittedPassword = (event) => {\r\n       this.setState({\r\n           submittedPassword : event.target.value,\r\n       });\r\n    }\r\n    checkCredentials = async (event) => {\r\n        event.preventDefault();\r\n        if( !this.state.usernameIsValid && this.state.submittedUsername) {\r\n            const response = await authenticateUsername(this.state.submittedUsername);\r\n            console.log(response);\r\n            this.setState({\r\n                usernameIsValid : response.usernameIsValid,\r\n            });\r\n        }else{\r\n            console.log('authenticate username/password');\r\n            try{\r\n                const response = await authenticate(this.state.submittedUsername , this.state.submittedPassword);\r\n                console.log(response);\r\n                if( response.isAuthenticated ){\r\n                    this.props.setCredentials({\r\n                        logged : true,\r\n                        num_user : response.num_user,\r\n                        username : response.username,\r\n                        type_user   : response.type_user,\r\n                    });\r\n                    //console.log(' type_user from server '+ response.type_user);\r\n                    let computedHash_USER = await computeHmac(User.USER.code, response.username);\r\n                    let computedHash_TECH_MAIN = await computeHmac(User.TECH_MAIN.code, response.username);\r\n                    if ( response.type_user === computedHash_USER ) this.props.history.push('/notify');\r\n                    if( response.type_user === computedHash_TECH_MAIN ) this.props.history.push('/acim');\r\n                }\r\n            }catch(err){\r\n                console.log('error in checkCrendentials' , err);\r\n            }\r\n        }\r\n        //check for username , if valid > usernameIsValid = true , submittedUsername = username . done\r\n        //if usernameIsValid , check for submittedUsername&&password , if valid : hitsory.push('/dashboard');\r\n    }\r\n    render (){\r\n        return (\r\n            <div className=\"login\">\r\n                <div>\r\n                    <img src={logo} alt=\"mndpt|acim\" id=\"logo\"/>\r\n                </div>\r\n                <form className = \"login_form\" onSubmit={this.checkCredentials}>\r\n                    { (this.state.usernameIsValid) ? \r\n                        <input type=\"password\" placeholder=\"mot de passe\" value={this.state.submittedPassword} onChange={this.changeSubmittedPassword} autoFocus={true}/>\r\n                        :\r\n                        <input type=\"text\" placeholder=\"utilisateur\" value={this.state.submittedUsername} onChange={this.changeSubmittedUsername} autoFocus={true}/>\r\n                    }\r\n                    <button className=\"my-button login-button\" onClick={this.checkCredentials}> {\">\"} </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './index.css';\r\n\r\nexport default class Layout extends React.Component {\r\n    render(){\r\n      return (  \r\n        <div id=\"layout\">\r\n            <main>\r\n                {this.props.children}\r\n            </main>\r\n            <footer>\r\n              <Link to=\"/\">home</Link>\r\n              <Link to=\"/info\">info</Link>\r\n              <Link to=\"/acim\">acim</Link>\r\n              <Link to=\"/notify\">notify</Link>\r\n            </footer>\r\n        </div>\r\n     );\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/base_logo_sans_texte_2.014a3326.png\";","import { io } from 'socket.io-client';\n\nconst socket = io('http://localhost:3500', {\n\tautoConnect : false ,\n});\n\nsocket.onAny((event , ...args) => {\n    console.log(`-- ${event} `, args);\n});\n\nexport const mySocket = {\n    socket ,\n    connect : (username , type_user , num_user) => {\n        console.log( username , type_user , num_user );\n        //connect socket\n        console.log(socket);\n        socket.auth = {\n            username,\n            type_user,\n            num_user,\n        };\n        socket.connect();\n    },\n    disconnect : () => {\n        console.log('my socket disconnect ');\n        socket.offAny();\n        socket.disconnect();\n    }\n}\n","import './index.css'\nimport React , { Component } from 'react';\n\nexport default class FoldableDiv extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            folded : this.props.folded,\n        }\n    }\n\n    flipFold = () => {\n        let newFolded = !(this.state.folded);\n        this.setState({\n            folded : newFolded,\n        });\n    }\n    render () {\n        let {\n            children,\n            title,\n            titleStyle,\n        } = this.props;\n        let {\n            folded\n        } = this.state;\n        let foldableStyle ;\n        if( folded ){\n            foldableStyle = {\n                ...foldableStyle,\n                maxHeight : '50px',\n                minHeight : '50px',\n            };\n        }else{\n            foldableStyle = {\n                ...foldableStyle,\n                maxHeight : '500px',\n            }\n\n        }\n        return (\n            <div className = \"foldableDiv\" style={foldableStyle} >\n                <div className = \"foldableDiv-title\" style={titleStyle} onClick={this.flipFold}>\n                    <p> {title} </p>\n                    <button onClick={this.flipFold}>{(folded) ? 'v':'^'} </button>\n                </div>\n                <div className = \"foldableDiv-children\">\n                    {children}\n                </div>\n            </div>\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import './index_new.css';\nimport vertical_dot from './../../res/icon/vertical-dots.png';\nimport React from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport green_dot from './../../res/icon/green_dot.png';\nimport red_cross from './../../res/icon/cross.png';\nimport check from './../../res/icon/check.png';\nimport red_dot from './../../res/icon/red_dot.png';\n\n/*\n * props :\n * - intervention\n * - isChild : for children of intervention\n * - showSub : to show the interventionPage of the intervention\n */\nexport default class Intervention extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n        }\n    }\n    showDetails = () => {\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n    goToIntervention = (num_intervention) => {\n        //alert('open /intervention/'+num_intervention);\n        //this.props.history.push(`/intervention/${num_intervention}`);\n        this.props.showSub(num_intervention);\n    }\n    render () {\n        let {\n            isChild,\n        } = this.props;\n        let { date_programme ,\n            num_intervention, \n            libelle_lieu,\n            motif,\n            intervention_type,\n            commentaire,\n            libelle_intervention_type,\n            tech_main_username,\n            numero,\n            done,\n            probleme_resolu,\n            libelle_probleme_tech_type,\n            code_intervention_type,\n            children\n        } = this.props.intervention;\n\n        let isParent = (children) &&  (children.length > 0);\n        let sumStyle ;\n        let interventionStyle ;\n        let timeStyle ;\n        let infoStyle;\n        let detailStyle = {\n            display : \"none\",\n            height : \"0\",\n        };\n        let greenDotElement = (<img src={green_dot} />);\n        let checkElement = (<img src={check} />);\n        let redCrossElement = (<img src={red_cross} />);\n        let redDotElement = (<img src={red_dot} />);\n        let doneStyle = {\n            //background : 'red',\n            //width : '20px',\n            //minWidth : '20px',\n           // maxWidth : '20px',\n            //height : 'auto',\n        };\n        let okStyle = {\n            //background : 'red',\n            //width : '20px',\n            //minWidth : '20px',\n            //maxWidth : '20px',\n            //height : 'auto',\n        };\n        let doneElement  = redCrossElement;\n        let pbElement  = redCrossElement;\n\n        if(this.state.detailsAreShown){\n            detailStyle = {\n                height : \"45%\",\n            };\n            sumStyle = {\n                //height : \"65%\",\n            };\n            interventionStyle = {\n                //height : \"fit-content\", only -moz-fit-content works in firefox and only fit-content works in chrome\n                height : \"auto\",\n            }\n\n        }\n\n        if(done) {\n            doneElement = checkElement;\n        }\n        if(probleme_resolu){\n            pbElement = checkElement;\n        }         \n\n        if( this.props.selected ) {\n            interventionStyle = {\n                ...interventionStyle,\n                background : 'rgb(169, 200, 247)',\n            }\n        }\n        if( done ){\n            if( probleme_resolu){\n                infoStyle = {\n                    ...infoStyle,\n                };\n                interventionStyle = {\n                    ... interventionStyle,\n                    background : '#2c9b8561',\n                };\n                timeStyle = {\n                    ... timeStyle,\n                };\n                detailStyle = {\n                    ...detailStyle,\n                };\n            }else{\n                infoStyle = {\n                    ...infoStyle,\n                };\n                interventionStyle = {\n                    ... interventionStyle,\n                    background : '#f3b84457',\n                    border : '3px solid #f3bc4e',\n                };\n                timeStyle = {\n                    ... timeStyle,\n                };\n                detailStyle = {\n                    ...detailStyle,\n                };\n            }\n        }else{\n            infoStyle = {\n                ...infoStyle,\n                //borderLeft : '10px solid red',\n            };\n            interventionStyle = {\n                ... interventionStyle,\n                background : '#ff000069',\n                border : '3px solid red',\n            };\n            timeStyle = {\n                ... timeStyle,\n            };\n            detailStyle = {\n                ...detailStyle,\n            };\n        }\n        infoStyle = {\n            ...infoStyle,\n            //borderRadius : '0 5px 5px 0',\n        }\n\n        let childElements;\n        if(children){\n            childElements = children.map( (item,index) => \n                <Intervention \n                    key={item.num_intervention} \n                    intervention={item} \n                    showSub={this.props.showSub}\n                    />\n            );\n        }\n\n        let detailsElement = (\n                <div className=\"toDo-details\" style={detailStyle} >\n                    <p> Type : {libelle_intervention_type} - {commentaire} </p>\n                    <p> Motif : {motif} </p>\n                    <p> Lieu : {libelle_lieu} </p>\n                    <p> Crèèe par : {tech_main_username} </p>\n                    <p> ID intervention : {num_intervention} </p>\n                    <p> Probleme constaté : { (libelle_probleme_tech_type) ? libelle_probleme_tech_type : 'ND'} </p>\n                    <p> { (done) ? 'EFFECTUE' : 'NON-EFFECTUE' } et {(probleme_resolu) ? 'RESOLU' : 'NON-RESOLU' } </p>\n                    { isParent &&\n                        <FoldableDiv title = \"Suite ... \" folded={true}>\n                            <div className =\"childList\">\n                                {childElements}\n                            </div>\n                        </FoldableDiv>\n                    }\n                    \n                    <button onClick={() => this.goToIntervention(num_intervention)} className=\"myButton\"  >\n                        { (this.props.selected) ? 'Fermer' : 'Ouvrir' }\n                    </button>\n                </div>\n        );\n\n                    //<p> { (done) ? 'EFFECTUE' : 'NON-EFFECTUE' } et {(probleme_resolu) ? 'RESOLU' : 'NON-RESOLU' } </p>\n       \n        return (\n            <div className=\"toDo\" style={interventionStyle} >\n                <div className=\"toDo-sum\" style={sumStyle} >\n                    <div className=\"time\" style={timeStyle} > \n                        <div className=\"date\">\n                            {new Date(date_programme).toLocaleDateString('fr-FR')} \n                        </div>\n                        <div className=\"hour\">\n                            {new Date(date_programme).toLocaleTimeString('fr-FR', {hour : '2-digit' , minute : '2-digit'})}\n                        </div>\n                    </div>\n                    <div className=\"info\" style={infoStyle}>\n                        <div className=\"dots\">\n                            <div className=\"done\" style={doneStyle}>\n                                {doneElement}\n                                <p> Effectué </p>\n                            </div>\n                            <div className=\"probleme_resolu\" style={okStyle}>\n                                {pbElement}\n                                <p> Probleme résolue </p>\n                            </div>\n                        </div>\n                        <div className=\"tache_description\">\n                            <p id=\"tache_description\"> {intervention_type || libelle_intervention_type} - {libelle_lieu} </p>\n                        </div>\n                        <p id=\"tech_main_username\"> {tech_main_username} </p>\n                        <p> #{numero} <br/> {code_intervention_type} <br/> {num_intervention.substring(0,8)}</p>\n                    </div>\n                </div>\n                {detailsElement}\n                <div className=\"details-bt\">\n                    <button onClick={this.showDetails} className=\"myButton\"> \n                        Details\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","import './index.css';\r\nimport React from 'react';\r\n//import ToDo from './../toDo';\r\nimport Intervention from './../intervention';\r\nimport FoldableDiv from './../foldableDiv';\r\n\r\n/*\r\n * prop : num_tech_main to define by who the intervetions have been created if none then all intervention are shown\r\n *         - showSub to show the display for intervention\r\n *         - setNbInterventionUndone\r\n * */\r\n\r\nexport default class ToDoList extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            interventionListUndone : [],\r\n            interventionListUndoneLate : [],\r\n            interventionListUndoneToday : [],\r\n            interventionListUndoneFuture : [],\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        console.log('ToDoList did mount');\r\n        this.props.socket.emit('get undone intervention' , this.props.num_tech_main);\r\n        this.props.socket.on('list undone intervention' , (listUndoneIntervention) => {\r\n            console.log('list undone intervention' , listUndoneIntervention);\r\n            let newList = listUndoneIntervention.map( (item,index) => ({\r\n                num_intervention : item.num_intervention,\r\n                num_intervention_pere : item.num_intervention_pere,\r\n                date_programme : item.date_programme,\r\n                libelle_lieu : item.libelle,\r\n                libelle_intervention_type : item.libelle_intervention_type,\r\n                tech_main_username : item.username,\r\n                motif : item.motif,\r\n                numero : index + 1,\r\n                done : item.done,\r\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\r\n                code_intervention_type : item.code_intervention_type,\r\n                children : item.children,\r\n                commentaire : item.commentaire,\r\n            }));\r\n            console.log('new list intervention undone' , newList);\r\n            if(this.props.setNbInterventionUndone){\r\n                this.props.setNbInterventionUndone(newList.length);\r\n            }\r\n            let endOfDay = new Date(new Date().setHours(23,59,59)).getTime();\r\n            let newListLate = newList.filter( item => new Date(item.date_programme).getTime() <= new Date().getTime() ); \r\n            let newListToday = newList.filter( item => {\r\n                let interventionDate = new Date(item.date_programme).getTime() ;\r\n                let startOfDay  = new Date(new Date().setHours(0,0,0)).getTime();\r\n               \r\n                return ( interventionDate > startOfDay && interventionDate <= endOfDay );\r\n            });\r\n            let newListFuture = newList.filter( item => {\r\n                let interventionDate = new Date(item.date_programme).getTime() ;\r\n                return ( interventionDate > endOfDay );\r\n            });\r\n            console.log('newListToday' , newListToday);\r\n            this.setState({\r\n                interventionListUndone : newList,\r\n                interventionListUndoneLate : newListLate,\r\n                interventionListUndoneToday : newListToday,\r\n                interventionListUndoneFuture : newListFuture,\r\n            });\r\n        });\r\n        this.props.socket.on('new intervention' , ()=> {\r\n            console.log('new intervention todolist');\r\n            this.props.socket.emit('get undone intervention');\r\n        });\r\n\r\n        this.props.socket.on('ended intervention' , () => {\r\n            console.log('ended intervention todolist');\r\n            this.props.socket.emit('get undone intervention');\r\n        });\r\n\r\n        this.props.socket.on('intervention data -toDoList' , () => {\r\n            console.log('intervention date -toDoList');\r\n            this.props.socket.emit('get undone intervention');\r\n        });\r\n    }\r\n    \r\n    componentDidUpdate () {\r\n        console.log('update toDoList');\r\n    }\r\n\r\n    clickOnToDoList = () => {\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        console.log('ToDoList will unmount');\r\n        this.props.socket.off('list undone intervention');\r\n        \r\n    }\r\n    displayToDo  = (list) => {\r\n        //return list.map( intervention => <ToDo intervention={intervention} key={intervention.num_intervention}/> );\r\n        return list.map( intervention => <Intervention showSub={this.props.showSub} intervention={intervention} key={intervention.num_intervention}/> );\r\n    }\r\n\r\n    render(){\r\n        \r\n        let{\r\n            interventionListUndoneLate,\r\n            interventionListUndoneToday,\r\n            interventionListUndone,\r\n            interventionListUndoneFuture,\r\n        } = this.state;\r\n        let retardTitle = `En retard : ${interventionListUndoneLate.length}`;\r\n        let todayTitle = `Aujourd'hui : ${interventionListUndoneToday.length}`;\r\n        let futureTitle = `A venir : ${interventionListUndoneFuture.length}`;\r\n        let allTitle = `Toutes : ${interventionListUndone.length}`;\r\n        return (\r\n            <div id=\"toDoList\" onClick={this.clickOnToDoList}>\r\n                <p> {this.props.topText || 'Liste des taches a faire :'} </p>\r\n                    <div className=\"scroll_list\">\r\n                        <FoldableDiv title={retardTitle} titleStyle={{color : 'red'}} folded={true}>\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndoneLate)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                        <FoldableDiv title={todayTitle} >\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndoneToday)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                        <FoldableDiv title={futureTitle} folded={true}>\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndoneFuture)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                        <FoldableDiv title={allTitle} folded={true}>\r\n                            <div className=\"scroll_list\">\r\n                                    {this.displayToDo(this.state.interventionListUndone)}\r\n                            </div>\r\n                        </FoldableDiv>\r\n                    </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","export const Urgent = {\r\n    MAX : {\r\n        code : 'MAX',\r\n        libelle : 'tres urgent',\r\n    },\r\n    MID : {\r\n        code : 'MID',\r\n        libelle : 'moyennement urgent',\r\n    },\r\n    MIN : {\r\n        code : 'MIN',\r\n        libelle : 'pas urgent',\r\n    },\r\n}\r\n","import './index.css';\nimport React from 'react';\nimport {Urgent} from './../../urgent.js';\n\n/*\n * props :\n * addToListToCall  : to trigger calls\n */\n\nexport default class Notif extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n            commandAreShown : false,\n        }\n        this.notifRef = React.createRef();\n    }\n    showDetails = () => {\n        if(this.state.commandAreShown) return ;\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n\n    showCommand = () => {\n        \n        this.setState({\n            commandAreShown : !(this.state.commandAreShown) ,\n            detailsAreShown : !(this.state.commandAreShown),\n        });\n    }\n\n    do = (delai=0) => {\n        let num_notification = this.props.notif.num_notification;\n        let num_app_user_tech_main = this.props.num_user;\n        console.log(`do the notif #${num_notification} ${delai} by ${num_app_user_tech_main}`);\n        this.props.socket.emit('tech_main do' , { num_notification , num_app_user_tech_main , delai });\n        this.notifRef.current.style.border = '2px solid green';\n\n    }\n    call = ({username_user , num_app_user_user}) => {\n        //alert(`appeller ${username_user} avec num ${num_app_user_user}`);\n        //create a peer for the peerServer\n        let userToCall = { num_user : num_app_user_user , username : username_user };\n        this.props.addToListToCall(userToCall);\n    }\n    render () {\n        let {\n            probleme_type,\n            lieu,\n        } = this.props.notif;\n        let user = {\n            username_user : this.props.notif.sender_username,\n            num_app_user_user : this.props.notif.num_app_user_sender,\n        };\n        let {\n            sender_username,\n        } = this.props.notif;\n        let style;\n        let sumStyle ;\n        let statutStyle ;\n        let detailStyle ;\n        switch(this.props.notif.statut_code){\n            case Urgent.MAX.code :\n                style = {\n                    borderLeft : '13px solid red',\n                    //borderRight : '3px solid red',\n                };\n                statutStyle = {\n                    color : 'red',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MID.code :\n                style = {\n                    borderLeft : '13px solid yellow',\n                    //borderRight : '3px solid yellow',\n                };\n                statutStyle = {\n                    color : 'yellow',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MIN.code :\n                style = {\n                    borderLeft : '13px solid blue',\n                    //borderRight : '2px solid blue',\n                };\n                statutStyle = {\n                    color : 'blue',\n                //    fontWeight : 'bold',\n                }\n                break;\n             default :\n                break;\n        }\n        if(this.state.detailsAreShown || this.state.commandAreShown){\n            detailStyle = {\n                height : \"80%\",\n            };\n            sumStyle = {\n                height : \"15%\",\n            };\n            style = {\n                ...style,\n                height : \"300px\",\n            }\n\n        }\n        return (\n            <div className=\"notif\" style={style} ref={this.notifRef}>\n                <div className=\"notif-sum\" style={sumStyle}>\n                    <div className=\"probleme_type\" >\n                        <p> {this.props.notif.probleme_type} </p>\n                        <p> {this.props.notif.code} </p>\n                    </div>\n                    <div className=\"probleme_statut\" style={statutStyle} >\n                        <p> {this.props.notif.statut_libelle} </p>\n                        <p> {this.props.notif.lieu} </p>\n                    </div>\n                    <div className=\"date_envoie\">\n                        <p> Date d'envoie : </p>\n                        <p> {this.props.notif.date_envoie} </p>\n                    </div>\n                    <button className=\"myButton\" onClick={this.showDetails}> Details </button>\n                    <button className=\"myButton\" onClick={this.showCommand}> repondre </button>\n                </div>\n                { this.state.detailsAreShown &&\n                    <div className=\"notif-details\" style={detailStyle}>\n                        <p> Probleme notifié : {probleme_type} </p>\n                        <p> Remarque : {this.props.notif.remarque || '-'} </p>\n                        <p> Lieu : {lieu} </p>\n                        <p> Envoyee par : {this.props.notif.sender_username || '-'} </p>\n                    </div>\n                }\n                {\n                    this.state.commandAreShown &&\n                        <div className=\"notif-command\" >\n                            <button className=\"myButton\" onClick={()=> this.do()}>prendre en charge</button>\n                            <button className=\"myButton\" onClick={() => this.do(60)}>faire patienter</button>\n                            <button className=\"myButton\" onClick={()=>this.call(user)}>Appeler</button>\n                        </div>\n                }\n                { this.state.isCalling &&\n                        <div>\n                            <p> Appeller {sender_username} </p>\n                        </div>\n                }\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React from 'react';\nimport { Urgent } from './../../urgent';\n/*\n * props:\n * - notif : probleme_type , code, statut_libelle, lieu, date_envoie, remarque, tech_main_username, date_reponse, num_notification, num_intervention , date_programme ,\n */\n\nexport default class Notif_history extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n        }\n    }\n    showDetails = () => {\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n    showInfoOf = (num_intervention) => {\n        this.props.showSub(num_intervention);\n    }\n    render () {\n        let style;\n        let sumStyle ;\n        let statutStyle ;\n        let detailStyle ;\n        switch(this.props.notif.statut_code){\n            case Urgent.MAX.code :\n                style = {\n                    borderLeft : '3px solid red',\n                    //borderRight : '3px solid red',\n                };\n                statutStyle = {\n                    //background : 'red',\n                    color : 'red',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MID.code :\n                style = {\n                    borderLeft : '3px solid yellow',\n                    //borderRight : '3px solid yellow',\n                };\n                statutStyle = {\n                    //background : 'yellow',\n                    color : 'yellow',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MIN.code :\n                style = {\n                    borderLeft : '3px solid blue',\n                    //borderRight : '2px solid blue',\n                };\n                statutStyle = {\n                    //background : 'blue',\n                    color : 'blue',\n\n                }\n                break;\n             default :\n                break;\n        }\n        if(this.state.detailsAreShown){\n            detailStyle = {\n                height : \"80%\",\n            };\n            sumStyle = {\n                height : \"15%\",\n            };\n            style = {\n                ...style,\n                height : \"300px\",\n            }\n\n        }\n        if(this.props.notif.num_app_user_tech_main && this.props.notif.date_reponse){\n            style = {\n                ...style,\n                background : '#a9c8f7',\n            }\n        }\n        let {\n            probleme_type ,\n            code,\n            statut_libelle,\n            lieu,\n            date_envoie,\n            remarque,\n            tech_main_username,\n            date_reponse,\n            num_notification,\n            num_intervention ,\n            date_programme ,\n        } = this.props.notif;\n        return (\n            <div className=\"notif_history\" style={style} >\n                <div className=\"notif_history-sum\" style={sumStyle}>\n                    <div className=\"date_envoie\">\n                        <p> Date d'envoie : </p>\n                        <p> {date_envoie} </p>\n                    </div>\n                    <div className=\"probleme_type\" >\n                        <p> {probleme_type} </p>\n                        <p> {code} </p>\n                    </div>\n                    <div className=\"probleme_statut\" style={statutStyle}>\n                        <p> {statut_libelle} </p>\n                        <p> {lieu} </p>\n                    </div>\n                    <button onClick={this.showDetails} className=\"myButton\"> Details </button>\n                </div>\n                { this.state.detailsAreShown &&\n                    <div className=\"notif-details\" style={detailStyle}>\n                        <p> Intervention de {tech_main_username} le {date_programme} </p>\n                        <p> remarque: {remarque} </p>\n                        <p> prise en charge par : {tech_main_username}  </p>\n                        <p> repondue le : {date_reponse} </p>\n                        <p> ID notification : {num_notification} </p>\n                        <p> ID intervention : \n                            { (num_intervention !== 'nd') &&\n                                <button href=\"#\" onClick={() => this.showInfoOf(num_intervention)}> {num_intervention} </button>\n                            }\n                        </p>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n","import './index.css';\r\nimport React from 'react';\r\nimport Notif from './../notif';\r\nimport NotifHistory from './../notifHistory';\r\nimport {Urgent} from './urgent';\r\nimport FoldableDiv from './../foldableDiv';\r\n\r\n\r\n//affiche notification recues \r\n//historique des notification repondues ??\r\n/*\r\n * props:\r\n *  - setNbNewNotif \r\n *  - socket \r\n *  - nbNewNotificationToZero //not needed anymore\r\n */\r\n\r\nexport default class NotifsList extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            unansweredNotifsList : [],\r\n            notifsToday : [],\r\n        }\r\n    }\r\n    displayNotif  = (list) => {\r\n        return list.map( notif => <Notif \r\n            notif={notif} \r\n            key={notif.num_notification} \r\n            num_user={this.props.session.num_user} \r\n            socket={this.props.socket} \r\n            deleteFromListToCall = {this.props.deleteFromListToCall}\r\n            addToListToCall = {this.props.addToListToCall}/> );\r\n    }\r\n\r\n\r\n    componentDidMount = () => {\r\n        //no more new notif\r\n        //notifs that has num_app_user_tech_main at null\r\n        this.props.socket.emit('get notifs list unanswered');\r\n        this.props.socket.emit('get notifs today' , new Date(new Date().setHours(4,0,0)));//we need local , and all dated sent to server is converted in UTC ( -3) so we up it a bit\r\n\r\n        this.props.socket.on('unanswered notifs list' , (notifsList) => {\r\n            //\r\n            let newUnansweredNotifsList = notifsList.map( notif => ({\r\n                num_notification : notif.num_notification,\r\n                sender_username : notif.user_sender_username,\r\n                num_app_user_sender : notif.num_app_user_user,\r\n                probleme_type : notif.probleme_type,\r\n                probleme_code : notif.code,\r\n                statut_code : notif.statut,\r\n                statut_libelle : notif.statut_libelle,\r\n                lieu : notif.lieu,\r\n                remarque : notif.remarque,\r\n                date_envoie : new Date(notif.date_envoie).toLocaleString('fr-FR'),\r\n                \r\n            }));\r\n            if(this.props.setNbNewNotif) {\r\n                this.props.setNbNewNotif(newUnansweredNotifsList.length);\r\n            }\r\n            this.setState({\r\n                unansweredNotifsList : newUnansweredNotifsList,\r\n            });\r\n        });\r\n\r\n        this.props.socket.on('new notif' , (createdNotif) => {\r\n            //created notif doesn't have the attributes to just do a push :( \r\n            this.props.socket.emit('get notifs list unanswered');\r\n            this.props.socket.emit('get notifs today' , new Date(new Date().setHours(4,0,0)));//we need local , and all dated sent to server is converted in UTC ( -3) so we up it a bit\r\n        });\r\n        \r\n        this.props.socket.on('update notifs list unanswered' , () => {\r\n            console.log('update notifs list unanswerd');\r\n            setTimeout( () => {\r\n                this.props.socket.emit('get notifs list unanswered');\r\n                this.props.socket.emit('get notifs today' , new Date(new Date().setHours(4,0,0)));//we need local , and all dated sent to server is converted in UTC ( -3) so we up it a bit\r\n            },2000);\r\n        });\r\n\r\n        this.props.socket.on('notifs today -notifsList', (notifsToday) => {\r\n            console.log('notifs day -notifsList' , notifsToday);\r\n            let newNotifsToday = notifsToday.map( notif => ({\r\n                num_notification : notif.num_notification,\r\n                sender_username : notif.user_sender_username,\r\n                num_app_user_sender : notif.num_app_user_user,\r\n                probleme_type : notif.probleme_type,\r\n                probleme_code : notif.code,\r\n                statut_code : notif.statut,\r\n                statut_libelle : notif.statut_libelle,\r\n                lieu : notif.lieu,\r\n                remarque : notif.remarque,\r\n                date_envoie : new Date(notif.date_envoie).toLocaleString('fr-FR'),\r\n                num_app_user_tech_main : notif.num_app_user_tech_main,\r\n                date_reponse : new Date(notif.date_reponse).toLocaleString('fr-FR'),\r\n                num_intervention : notif.num_intervention,\r\n                date_programme : new Date(notif.date_programme).toLocaleString('fr-FR'),\r\n                tech_main_username : notif.tech_main_username,\r\n            }));\r\n            this.setState({\r\n                notifsToday : newNotifsToday,\r\n            });\r\n        });\r\n    }\r\n    componentWillUnmount = () => {\r\n        console.log('UNMOUNT notifsList');\r\n        this.props.socket.off('unanswered notifs list');\r\n        this.props.socket.off('update notifs list unanswered');\r\n        this.props.socket.off('notifs today -notifsList');\r\n    }\r\n    render(){\r\n        \r\n        let{\r\n            unansweredNotifsList,\r\n            notifsToday,\r\n        } = this.state;\r\n        let todayNotifsElement = notifsToday.map( notif =>{\r\n            if( notif.num_intervention ) return (<NotifHistory key={notif.num_notification} notif = {notif} />);\r\n            else return (<Notif \r\n                notif={notif} \r\n                key={notif.num_notification} \r\n                num_user={this.props.session.num_user} \r\n                socket={this.props.socket} \r\n                deleteFromListToCall = {this.props.deleteFromListToCall}\r\n                addToListToCall = {this.props.addToListToCall}/> );\r\n\r\n        });\r\n        return (\r\n            <div id=\"notifsList\" onClick={this.onClickOnNotifsList}>\r\n                <p> Notifications recues {this.props.session.username} </p>\r\n                <div className=\"scroll_list\">\r\n                    <FoldableDiv title={`non repondue : ${unansweredNotifsList.length}`}>\r\n                        <div id=\"scroll_list-notifsList\">\r\n                            {this.displayNotif(this.state.unansweredNotifsList)}\r\n                        </div>\r\n                    </FoldableDiv>\r\n                    <FoldableDiv title={`Notifications recues aujourd'hui : ${notifsToday.length}`}folded={true}>\r\n                        <div id=\"scroll_list-notifsList\">\r\n                            {todayNotifsElement}\r\n                        </div>\r\n                    </FoldableDiv>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './dropDown.css';\r\n//for a DropDown\r\n//expect : defaultValue , value and onChange for controlling the component , array for the data in options\r\nclass DropDown extends React.Component {\r\n    render(){\r\n        let array = this.props.array || [] ;\r\n//        console.log( typeof array);\r\n//        console.log('DropDown '+array);\r\n        let optionArray = array.map( item => \r\n            <option\r\n                key= {item}\r\n                value={item} >\r\n            {item}\r\n            </option>\r\n        );\r\n        if( this.props.objArray ){\r\n            optionArray = this.props.objArray.map( item =>\r\n                <option\r\n                    key = { item.key }\r\n                    value = { item.value } >\r\n                { item.libelle }\r\n                </option>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"dropDown\">\r\n                <select defaultValue= {this.props.selectedValue} value={this.props.value} onChange ={(e)=> this.props.onChange(e)} >\r\n                    {optionArray}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropDown;\r\n","import React from 'react';\r\nimport './index.css';\r\n//for a DropDown\r\n//props : \r\n//-defaultValue , \r\n//-value and onChange for controlling the component , \r\n//-array or objArray{key , libelle, value} for the data in options\r\nclass DropDown extends React.Component {\r\n    render(){\r\n        let array = this.props.array || [] ;\r\n//        console.log( typeof array);\r\n//        console.log('DropDown '+array);\r\n        let optionArray = array.map( item => \r\n            <option\r\n                key= {item}\r\n                value={item} >\r\n            {item}\r\n            </option>\r\n        );\r\n        if( this.props.objArray ){\r\n            optionArray = this.props.objArray.map( item =>\r\n                <option\r\n                    key = { item.key }\r\n                    value = { item.value } >\r\n                { item.libelle }\r\n                </option>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"dropDown\">\r\n                <select defaultValue= {this.props.selectedValue} value={this.props.value} onChange ={(e)=> this.props.onChange(e)} >\r\n                    {optionArray}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropDown;\r\n","import './index.css';\nimport React , { Component } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Dropdown from './../utils/dropDown';\n\n/*\n * props : -title for foldable title\n * - selectedNumMateriel pour syncro *\n * - selectedMaterielType pour syncro*\n * - selectedLieu *\n * - onChange  \n * - socket\n *   \n *   exposes an obj { num (num_materiel) , type (libelle_materiel_type)  , lieu (libelle_lieu)} in its onChange props\n */\n\nexport default class MaterielSelector extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            materielTypes : [],\n            lieus : [],\n            selectedLieu : this.props.selectedLieu || 'nd',\n            selectedMaterielType : this.props.selectedMaterielType || 'nd',\n            materielList : [],\n            config : '',\n        }\n        //Lieu >>> type >>> materiel\n        this.materiels = null;\n    }\n\n    updateLieu = (e) => {\n        console.log('updateLieu', e.target.value);\n        console.log('this.materiel' , this.materiels);\n        let firstType = Object.getOwnPropertyNames(this.materiels[e.target.value])[0];\n        let materielsList = this.materiels[e.target.value][firstType];\n        let objMateriel = {\n            num : materielsList[0].value,\n            type : firstType,\n            lieu : e.target.value,\n            config : this.state.config,\n        }\n        console.log('objMateriel', objMateriel);\n        this.props.onChange(objMateriel);\n        this.setState({\n            selectedLieu : e.target.value,\n            selectedMaterielType : firstType,\n            materielTypes : Object.getOwnPropertyNames(this.materiels[e.target.value]),\n            materielList : materielsList,\n        });\n    }\n    \n    updateMaterielType = (e) => {\n        console.log('updateMaterielType', e.target.value);\n        console.log('this.materiel' , this.materiels);\n        let materielsList = this.materiels[this.state.selectedLieu][e.target.value];\n        let objMateriel = {\n            num :materielsList[0].value,\n            type : e.target.value,\n            lieu : this.state.selectedLieu,\n            config : this.state.config,\n        };\n        this.props.onChange(objMateriel);\n        this.setState({\n            selectedMaterielType : e.target.value,\n            materielList : materielsList,\n        });\n    }\n\n    updateMateriel = (e) => {\n        console.log('updateMateriel' , e.target.value);\n        let objMateriel = {\n            num : e.target.value,\n            type : this.state.selectedMaterielType,\n            lieu : this.state.selectedLieu,\n            config : this.state.config,\n        };\n        this.props.onChange(objMateriel); \n        //this.setState({\n            //selectedNumMateriel : e.target.value,\n        //});\n    }\n    \n    updateConfig = (e) => {\n        let objMateriel = {\n            num : this.props.selectedNumMateriel,\n            type : this.state.selectedMaterielType,\n            lieu : this.state.selectedLieu,\n            config : e.target.value,\n        };\n        this.props.onChange(objMateriel);\n        this.setState({\n            config : e.target.value,\n        });\n    }\n    sortMaterielsByType = (materiels,types) => {\n        let sortedMateriels = {};\n        sortedMateriels.nd = [{ key : 'nd' , libelle:'nd' , value : 'nd'  }];\n        for( const type of types ){\n            let matOfType = materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n                key : item.num_materiel,\n                value : item.num_materiel,\n                libelle : item.libelle_materiel,\n            }));\n            if( matOfType.length ){\n                sortedMateriels[type.libelle_materiel_type] = materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n                    key : item.num_materiel,\n                    value : item.num_materiel,\n                    libelle : item.libelle_materiel,\n                }));\n            }\n        }\n        //console.log('sortedMateriels' , sortedMateriels);\n        \n        return sortedMateriels;\n\n    }\n    componentDidMount(){\n        this.props.socket.emit('get materiel list');\n        this.props.socket.on('materiel list -materielSelector' ,(materiels,materielTypes,lieus) => {\n            console.log('materiels', materiels,materielTypes,lieus);\n            let materielsListLieu = {};\n            materielsListLieu.nd = {\n                nd : [{ key : 'nd' , libelle:'nd' , value : 'nd'  }],\n            };\n            for ( const lieu of lieus ){\n                materielsListLieu = {\n                    ...materielsListLieu,\n                    [lieu.libelle] : this.sortMaterielsByType(materiels.filter( item => item.num_lieu === lieu.num_lieu ),materielTypes),\n                }\n            }\n            console.log('materielsListLieu', materielsListLieu);\n            \n            //let materielsList ;\n            //for( const type of materielTypes ){\n            //    \n            //    materielsList = {\n            //        ...materielsList,\n            //        [type.libelle_materiel_type] : materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n            //            key : item.num_materiel,\n            //            value : item.num_materiel,\n            //            libelle : item.libelle_materiel,\n            //        })),\n            //    }\n            //}\n            lieus = lieus.map( item => item.libelle);\n            lieus.unshift('nd');\n\n            this.materiels = materielsListLieu;\n            let selectedMaterielType = this.state.selectedMaterielType;\n            let selectedLieu = this.state.selectedLieu;\n            materielTypes = Object.getOwnPropertyNames(this.materiels[selectedLieu]);\n            console.log('materielTypes', materielTypes);\n            console.log('materielsList' , materielsListLieu , materielTypes, lieus);\n            let materielsList;\n            if( this.materiels){\n                \n                console.log('selectedLieu :%c, materielsList : %c',selectedLieu,this.materiels[selectedLieu]);\n                materielsList = (this.materiels) ? this.materiels[selectedLieu][selectedMaterielType] : [];\n            }\n            this.setState({\n                lieus : lieus,\n                materielTypes : materielTypes,\n                materielList : materielsList,\n            });\n            \n        });\n    }\n\n    componentWillUnmount(){\n       console.log('materielSelector unmount');\n       this.props.socket.off('materiel list -materielSelector'); \n    }\n    render() {\n        let {\n            materielTypes,\n            materielList,\n            config,\n            lieus,\n            selectedLieu,\n        } = this.state;\n        let {\n            selectedNumMateriel,\n        } = this.props;\n        let {\n            title,\n        } = this.props;\n        let selectedMaterielType = this.props.selectedMaterielType || this.state.selectedMaterielType;\n\n        return(\n            <div className=\"materielSelector\">\n                <FoldableDiv title={title || 'Materiel'} >\n                    <div className=\"sub-category-option\">\n                        <label> Lieu </label>\n                        <Dropdown value={selectedLieu} array = {lieus} onChange={this.updateLieu}/>\n                    </div>\n                    <div className=\"sub-category-option\">\n                        <label> Type materiel: \n                        </label>\n                        <Dropdown value={selectedMaterielType} array = {materielTypes} onChange={this.updateMaterielType}/>\n                    </div>\n                    <div className=\"sub-category-option\">\n                        <label> Materiel: \n                        </label>\n                        <Dropdown value={selectedNumMateriel} objArray = {materielList} onChange={this.updateMateriel}/>\n                    </div>\n                    <div className=\"sub-category-option\">\n                        <label> Note: \n                            <textarea value={config} onChange={this.updateConfig}> </textarea>\n                        </label>\n                    </div>\n                </FoldableDiv>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { useState } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport MaterielSelector from './../materielSelector';\n/*\n * props:\n * - listMateriel : array [{num,type,lieu}];\n * - setListMateriel to change listMateriel\n * - socket \n * - maxListMaterielLength\n * - title \n * - folded\n */\nexport default function MultiMaterielSelector (props){\n    let listMateriel = props.listMateriel; \n     let maxLength = (props.maxListMaterielLength) ? props.maxListMaterielLength : 77;\n    let title = (props.title) ? props.title : \"Selectionner le(s) materiel(s)\";\n    let folded = (props.folded) ? props.folded : false;\n\n    //let [ length , setLength ] = useState(listMateriel.length);\n\n    function changeListMateriel( objValue , index){\n        console.log('changeListMateriel');\n        let newList = listMateriel.slice();\n        newList[index] = objValue;\n        props.setListMateriel(newList);\n    }\n\n    function changeListMaterielLength (newLength){\n        console.log('changeListMaterielLength', newLength);\n        newLength = (newLength < 0) ? 0 : newLength;\n        newLength = (newLength > maxLength) ? maxLength : newLength;\n        \n        let newList = listMateriel.slice();\n        if( newLength > newList.length ){\n            let dLength = newLength - newList.length;\n            console.log('dLength', dLength);\n            for(let i = 0 ; i < dLength ; i ++ ){\n                newList.push({ num: 'nd' , type :'nd'});\n            }\n        }else if( newLength < newList.length ){\n            newList.length = newLength;\n        }\n            props.setListMateriel(newList);\n        //setLength(newLength);\n    }\n\n    console.log('listMateriel before render', listMateriel);\n    let materielElements = listMateriel.map( (materiel,index) => \n        <MaterielSelector \n            key = {index}\n            title = {`Materiel #${index+1}`}\n            socket = {props.socket}\n            onChange = {(obj)=> changeListMateriel(obj,index)}\n            selectedNumMateriel = {materiel.num}\n            selectedMaterielType = {materiel.type}\n            selectedLieu = {materiel.lieu}\n            />\n    );\n\n    return(\n        <div className=\"multiMaterielSelector\">\n            <FoldableDiv title={title} folded={folded}>\n                <p> Nombres : {listMateriel.length}</p>\n                <div className=\"scroll_list\">\n                    {materielElements}\n                </div>\n            { (maxLength > 1) &&\n                <>\n                    <button onClick={()=>changeListMaterielLength(listMateriel.length + 1)}> + </button>\n                    <button onClick={()=>changeListMaterielLength(listMateriel.length - 1)}> - </button>\n                </>\n            }\n                \n            </FoldableDiv>\n        </div>\n\n    );\n}\n","const docx = require('docx');\nconst { saveAs } = require('file-saver');\n\nconst { Document , Packer , Paragraph , TextRun } = docx;\n\nexport async function generateDocx(num_decharge) {\n     const doc = new Document ({\n         sections : [{\n             properties : {},\n             children : [\n                 new Paragraph({\n                     children : [\n                         new TextRun('Hello world , docx'),\n                         new TextRun('decharge n#'+num_decharge),\n                     ],\n                 }),\n             ],\n         }],\n     });\n\n    const blob = await Packer.toBlob(doc);\n    await saveAs(blob,'text.docx');\n }\n\n//module.exports = {\n//    generateDocx,\n//}\n","import './index.css';\nimport React,{useState } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport MultiMaterielSelector from './../multiMaterielSelector';\nimport { generateDocx } from './../../generateDocx/generate.js';\n\n/*\n * props :\n * -num_intervention : to create the decharge on db\n * -socket to query data on materielsSelector\n * -downloadDecharge : method to download\n */\nexport default function InterventionDecharge(props){\n    //materiels are num_materiels\n    let tomorrowDate = new Date(new Date().setDate(new Date().getDate()+1)); \n    let [ materiels , setMateriels ] = useState([{ num:'nd' , type: 'nd' , lieu : 'nd'}]);\n    let [ dateDebut , setDateDebut ] = useState(new Date());\n    let [ dateFin , setDateFin ] = useState(tomorrowDate);\n    let {\n        num_decharge\n    } = props;\n    let style ;\n    let control ;\n    let disabled ;\n\n    let title = 'Effectuer un decharge';\n    if(num_decharge){\n        title = `ID decharge : ${num_decharge}` ;\n        style = {\n            ...style,\n            background : '#53d35342',\n        };\n        control = (\n            <>\n                <button onClick={()=>props.downloadDechargeDoc(num_decharge)}> Telecharger Docx</button>\n            </>\n        );\n        disabled = true;\n    }else{\n        control = (\n            <>\n                <label> Debut : \n                <input \n                    type='date' \n                    value ={formatDate(dateDebut)} \n                    onChange={updateDateDebut} \n                    disabled={disabled}\n                    />\n                </label>\n                <label> Fin : \n                <input \n                    type='date' \n                    value={formatDate(dateFin)} \n                    onChange={(e)=> setDateFin(new Date(e.target.value))}\n                    disabled={disabled}\n                    />\n                </label>\n                <MultiMaterielSelector \n                    socket = {props.socket}\n                    listMateriel = {materiels}\n                    setListMateriel = {setMateriels}\n                    />\n                <button onClick={createDecharge}> Creer </button>\n            </>\n        );\n    }\n    \n    function updateDateDebut(e) {\n        console.log('updateDateDebut', e.target.value);\n        setDateDebut(new Date(e.target.value));\n    }\n\n    function createDecharge() {\n        let materielsValide = materiels.filter( item => (item.num !== 'nd' && item.type !== 'nd'))\n        console.log('materielsValide', materielsValide);\n        if( materielsValide.length  \n            && dateDebut.getTime() <= dateFin.getTime()\n            && !num_decharge){\n            console.log('createDecharge' , dateDebut , dateFin , materielsValide );\n            let date = {\n                debut : dateDebut,\n                fin : dateFin,\n            };\n            props.socket.emit('create decharge', date , materielsValide);\n        }else{\n            console.log('pas de materiels valide OU date invalide, InterventionDecharge');\n        }\n    }\n\n\n    console.log('render InterventionDecharge');\n    return(\n        <div className =\"interventionDecharge\" style={style}>\n            <FoldableDiv title={title} folded={true}>\n                <div className=\"decharge-form\">\n                    {control}\n                </div>\n            </FoldableDiv>\n        </div>\n    );\n}\n\nfunction formatDate (date) {\n    let day = `${date.getDate()}`;\n    let month = `${date.getMonth() +1}`;\n    let year = date.getFullYear();\n    month = (month.length < 2) ? '0'+month : month;\n    day = (day.length < 2) ? '0'+day : day;\n    return `${year}-${month}-${day}`;\n}\n\n//function downloadDecharge(num_decharge){\n//    //open route /decharge/num_decharge/ in a new tab\n//    //alert('downloadDecharge', num_decharge);\n//    const URL = '/acim/decharge';\n//    window.open(URL ,  '_blank');\n//}\n","import './index.css';\nimport React , { Component } from 'react';\nimport green_dot from './../../res/icon/green_dot.png';\nimport red_dot from './../../res/icon/red_dot.png';\nimport yellow_dot from './../../res/icon/yellow_dot.png';\n\n/*\n * props:\n * - intervention from view_intervention_full : date_programme , libelle_intervention_type , libelle_lieu , tech_main_username , done , probleme_resolu\n *   -showSub : to shoe intervention\n */\nexport default class InterventionSimple extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            showMenu : false,\n        }\n    }\n    toggleShowMenu = () => {\n        let newShowMenu = !this.state.showMenu;\n        this.setState({\n            showMenu : newShowMenu,\n        });\n    }\n    render () {\n        let {\n            date_programme,\n            libelle_intervention_type,\n            libelle_lieu,\n            tech_main_username,\n            num_intervention,\n            probleme_resolu,\n            done,\n        } = this.props.intervention;\n        let {\n            showMenu,\n        } = this.state;\n        let heure_programme = new Date(date_programme).toLocaleTimeString('fr-FR');\n        let menuStyle ;\n        let greenDotElement = (<img src={green_dot} />);\n        let redDotElement = (<img src={red_dot} />);\n        let yellowDotElement = (<img src={yellow_dot} />);\n        let doneElement  = redDotElement;\n        let pbElement  = redDotElement;\n\n        let doneStyle = {\n            //background : 'red',\n            width : '20px',\n            minWidth : '20px',\n            maxWitdh : '20px',\n            height : 'auto',\n        };\n        let okStyle = {\n            //background : 'red',\n            width : '20px',\n            minWidth : '20px',\n            maxWitdh : '20px',\n            height : 'auto',\n        };\n        if(done) {\n            doneElement = yellowDotElement;\n            if(probleme_resolu) doneElement = greenDotElement;\n        }\n        if( showMenu ){\n            menuStyle = {\n                display: 'flex',\n            };\n        }else{\n            menuStyle = {\n                display : 'none',\n            };\n        }\n        return (\n            <div className = \"interventionSimple\">\n                <div className=\"main\" onClick={this.toggleShowMenu}>\n                    <div className=\"done\" style={doneStyle}>\n                        {doneElement}\n                    </div>\n                    <div className=\"text\">\n                    <p> { heure_programme }  >{ libelle_intervention_type } - { libelle_lieu } par { tech_main_username } </p>\n                    </div>\n                </div>\n                <div className=\"menu\" style={menuStyle}>\n                    <button onClick={()=>this.props.showSub(num_intervention)}>Ouvrir</button>\n                </div>\n            </div>\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","import './index.css';\nimport React , { Component , useState} from 'react';\nimport InterventionSimple from './../interventionSimple';\n/*\n * props:\n * - session\n * - socket for getting data\n * - showSub\n * - showHeader\n * - date_debut\n * - date_fin\n * - close : to close the agenda\n * - setSelectedDate : for setting a date from the agenda\n */\nexport default class Agenda extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            intervByDay : [], //{date , listInterv :[{ num_intervention , date_programme : date+heure , libelle_type_type , ...}]}\n            selectedInterv : {},\n        }\n\n    }\n    setSelectedInterv = (interv) => {\n        if( interv ){\n            this.setState({\n                selectedInterv : interv ,\n            });\n        }\n    }\n    componentDidMount(){\n        console.log('Agenda did mount');\n        let{\n            date_debut,\n            date_fin,\n        } = this.props;\n\n        this.props.socket.emit('get agenda', date_debut , date_fin , this.props.session.num_user);\n        \n        this.props.socket.on('agenda -agenda', (intervByDay) => {\n            console.log('agenda -agenda', intervByDay);\n            if( intervByDay.length > 0 ){\n                this.setState({\n                    intervByDay : intervByDay,\n                });\n            }\n        });\n    }\n\n    setFreeDate = () => {\n        let {\n            setSelectedDate,\n        } = this.props;\n        let {\n            selectedInterv,\n        } = this.state;\n        if( selectedInterv.num_intervention && setSelectedDate ){\n            //value is in e.target.value;\n            let freeTime = new Date(selectedInterv.date_programme).getTime() + (1*60*60*1000);\n            console.log('free time time ', freeTime);\n            freeTime = freeTime + 3*60*60*1000 ; // our display only shows UTC ... we need locale ( UTC + 3)\n            freeTime = new Date(freeTime).setMilliseconds(0);\n            let e = { target : { value : new Date(freeTime).toISOString().replace('Z','')}};\n            console.log('free time' , e.target.value );\n            if(setSelectedDate) setSelectedDate(e);\n            this.props.close();\n        }\n    }\n\n    \n    componentWillUnmount(){\n        console.log('Agenda unmount');\n        this.props.socket.off('agenda -agenda');\n    }\n    render(){\n        let{\n            intervByDay,\n            selectedInterv,\n        } = this.state;\n        let {\n            showHeader,\n        } = this.props;\n        let agendaElements = intervByDay.map(item => \n            <AgendaDay key = { item.date } \n                        date = { item.date } \n                        listInterv = { item.intervList } \n                        showSub = {this.props.showSub}\n                        selectedInterv = { selectedInterv }\n                        setSelectedInterv = {this.setSelectedInterv}/>\n        );\n        let textDisplay = '' ;\n        let headerDisplay;\n        if(selectedInterv.num_intervention){\n            textDisplay = (\n                <p> \n                    Après {selectedInterv.libelle_intervention_type}--{selectedInterv.libelle_lieu} à {new Date(selectedInterv.date_programme).toLocaleString('fr-FR')} ?\n                </p>\n            );\n            if( selectedInterv.num_intervention === 'nd' ){\n                textDisplay = (\n                    <p> \n                        {new Date(selectedInterv.date_programme).toLocaleDateString('fr-FR')} à 08:00:00 ?\n                    </p>\n                );\n            }\n        }\n        if(showHeader){\n            headerDisplay = (\n                <div className=\"header-agenda\">\n                    <p> Agenda  </p>\n                \n                    {textDisplay}\n                    { selectedInterv.num_intervention && this.props.setSelectedDate &&\n                        <>\n                            <button onClick={this.setFreeDate}> OK </button>    \n                            <button onClick={()=>this.setSelectedInterv({})}> Annuler </button>    \n                        </>\n                    }\n                    <button onClick={this.props.close}> x </button>\n                </div>\n\n            );\n        }else{\n            headerDisplay = (\n                <div className=\"header-agenda\">\n                    {textDisplay}\n                    { selectedInterv.num_intervention && this.props.setSelectedDate &&\n                        <div>\n                            <button onClick={this.setFreeDate}> OK </button>    \n                            <button onClick={()=>this.setSelectedInterv({})}> Annuler </button>    \n                        </div>\n                    }\n                </div>\n            );\n        }\n        return(\n            <div className=\"agenda\">\n                {headerDisplay}\n\n                <div className=\"main-agenda\">\n                    {agendaElements}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction AgendaDay(props){\n    /*\n     * props:\n     * - date \n     * - listInterv: liste des interventions pour date\n     */\n\n    //let [ selectedInterv , setSelectedInterv ] = useState({});\n    let{\n        date,\n        listInterv,\n        selectedInterv,\n    } = props;\n\n    const updateSelectedInterv = (interv) => {\n        if( interv.num_intervention === selectedInterv.num_intervention ) props.setSelectedInterv({});\n        else props.setSelectedInterv(interv);\n    }\n\n    const chooseDay = (day) => {\n        if( listInterv.length < 1 ){\n            console.log('chooseDay',day);\n            //day is dd/mm/YY\n            let [ dayDD, monthMM , yearYY ] = day.split('/'); \n            \n            console.log('chooseDay',day , dayDD , monthMM , yearYY);\n            let dayAt8  = new Date(`${yearYY}-${monthMM}-${dayDD}`).setHours(7,0,0);//we add an hour to make it freeTime\n            console.log('dayAt8' ,dayAt8);\n            let imaginaryInterv = {\n                num_intervention : 'nd',\n                libelle_intervention_type : '',\n                date_programme : new Date(dayAt8),\n            };\n            props.setSelectedInterv(imaginaryInterv);\n        }\n    }\n\n    let intervs = listInterv.map( interv =>{\n        let heure = new Date(interv.date_programme).getHours();\n        let style ;\n        if ( selectedInterv.num_intervention === interv.num_intervention ) {\n            style = {\n                background : 'blue',\n                color : 'white',\n            }\n        }\n        return(\n            <div className=\"interv-agendaDay\"  style={style}\n                    key={interv.num_intervention} \n                    onClick={ () => updateSelectedInterv(interv) }> \n                    <InterventionSimple intervention = {interv} showSub={props.showSub}/>\n            </div>\n        );\n    });\n\n    \n\n    return(\n        <div className=\"agendaDay\" onClick={()=>chooseDay(date)}>\n            <p> {date} : {listInterv.length} intervention{(listInterv.length > 1) ? 's':''} </p>\n            <div className=\"listInterv-agendaDay\">\n                {intervs}\n            </div>\n            \n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component } from 'react';\n\n/*\n * props:\n * - socket\n * - close\n */\n\nexport default class InterventionTypeCreator extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showIndic : false,\n            indication : '',\n            libelle : '',\n            code : '',\n        }\n        this.component = 'interventionTypeCreator';\n    }\n\n    close = () => {\n        this.setState({\n            showIndic : false,\n            indication : '',\n            libelle : '',\n            code : '',\n        });\n        this.props.close();\n    }\n\n    updateLibelle = (e) => {\n        console.log('updateLibelle ' , e.target.value); \n        this.setState({\n            libelle : e.target.value,\n        });\n    }\n\n    updateCode = (e) => {\n        console.log('updateCode ' , e.target.value); \n        this.setState({\n            code : e.target.value,\n        });\n    }\n    \n    componentDidMount () {\n        console.log('interventionTypeCreator mounted');\n        this.props.socket.on('new intervention_type -'+this.component, (newIntervType) => {\n            console.log('new intervention_type');\n            this.setState({\n                indication : `Type intervention : ${newIntervType.libelle_intervention_type} créé.`,\n                libelle : '',\n                code : '',\n            });\n        });\n    }\n\n    create = () => {\n        console.log('create intervention type');\n        let { libelle , code } = this.state;\n        if(this.state.libelle && this.state.code ){\n            this.props.socket.emit('create intervention_type', libelle, code , this.component);\n            this.setState({\n                indication : `...`,\n                showIndic : true,\n            });\n        }else{\n            this.setState({\n                indication : `Veuillez remplir tout les champs`,\n                showIndic : true,\n            });\n\n        }\n    }\n\n    componentWillUnmount(){\n        console.log('interventionTypeCreator unmount');\n        this.props.socket.off('new intervention_type -'+this.component);\n    }\n    \n\n    render(){\n        let { \n            showIndic,\n            libelle,\n            code,\n            indication,\n        } = this.state;\n        let indicStyle;\n        if(showIndic) {\n            indicStyle = {\n                display : 'flex',\n            }\n        }\n        return(\n            <div className=\"interventionTypeCreator\">\n                <div className=\"top\">\n                    <p> {`Créer un type d'intervention`} </p>\n                    <button onClick={this.close}> x </button>\n                </div>\n                <div className=\"main\">\n                    <input type=\"text\" required={true} placeholder=\"libelle\" value={libelle} onChange={this.updateLibelle}/>\n                    <input type=\"text\" required={true} placeholder=\"code\" value={code} onChange={this.updateCode}/>\n                    <button className=\"myButton\" onClick = {this.create} > Creer </button>\n                    <div className=\"indic\" style={indicStyle}>\n                        <p> {indication} </p>\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component } from 'react';\n\n/*\n * props:\n * - socket\n * - close\n */\n\nexport default class ProblemeTechTypeCreator extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showIndic : false,\n            indication : '',\n            libelle : '',\n        }\n        this.component = 'problemeTechTypeCreator';\n    }\n\n    close = () => {\n        this.setState({\n            showIndic : false,\n            indication : '',\n            libelle : '',\n        });\n        this.props.close();\n    }\n\n    updateLibelle = (e) => {\n        console.log('updateLibelle ' , e.target.value); \n        this.setState({\n            libelle : e.target.value,\n        });\n    }\n\n    \n    componentDidMount () {\n        console.log('problemeTechTypeCreator mounted');\n        this.props.socket.on('new probleme_tech_type -'+this.component, (newProblemeTechType) => {\n            console.log('new probleme_tech_type');\n            this.setState({\n                indication : `Type intervention : ${newProblemeTechType.libelle_probleme_tech_type} créé.`,\n                libelle : '',\n            });\n        });\n    }\n\n    create = () => {\n        console.log('create probleme_tech_type');\n        let { libelle } = this.state;\n        if(this.state.libelle ){\n            this.props.socket.emit('create probleme_tech_type', libelle, this.component);\n            this.setState({\n                indication : `...`,\n                showIndic : true,\n            });\n        }else{\n            this.setState({\n                indication : `Veuillez remplir tout les champs`,\n                showIndic : true,\n            });\n\n        }\n    }\n\n    componentWillUnmount(){\n        console.log('problemeTechTypeCreator unmount');\n        this.props.socket.off('new probleme_tech_type -'+this.component);\n    }\n    \n\n    render(){\n        let { \n            showIndic,\n            libelle,\n            indication,\n        } = this.state;\n        let indicStyle;\n        if(showIndic) {\n            indicStyle = {\n                display : 'flex',\n            }\n        }\n        return(\n            <div className=\"problemeTechTypeCreator\">\n                <div className=\"top\">\n                    <p> {`Créer un type de probleme`} </p>\n                    <button onClick={this.close}> x </button>\n                </div>\n                <div className=\"main\">\n                    <input type=\"text\" required={true} placeholder=\"libelle\" value={libelle} onChange={this.updateLibelle}/>\n                    <button className=\"myButton\" onClick = {this.create} > Creer </button>\n                    <div className=\"indic\" style={indicStyle}>\n                        <p> {indication} </p>\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , {Component , createRef} from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Dropdown from './../../utils/dropDown';\nimport InterventionDecharge from './../interventionDecharge';\nimport Agenda from './../agenda';\nimport MaterielSelector from './../materielSelector';\nimport InterventionTypeCreator from './../interventionTypeCreator';\nimport ProblemeTechTypeCreator from './../problemeTechTypeCreator';\n\n/*\n * props:\n * - socket\n * - session\n * - routeProps\n */\n\nexport default class CreateIntervention extends Component {\n    constructor(props){\n        super(props);\n\n        let supposedFreeHours = new Date().getHours() + 1;\n        this.state = {\n            interventionTypeList : [],\n            selectedNumInterventionType : '',\n            dateProgramme : new Date( new Date().setHours(supposedFreeHours,0,0)).toISOString(),//localTime\n            dateProgrammeDisplay : new Date(new Date().setHours((supposedFreeHours+3),0,0,0)).toISOString().replace('Z',''),//UTC : localTime - 3 , display consider its input to be localtime and tries to change it to UTC \n            lieuList : [],\n            selectedNumLieu : '',\n            materielList : [],\n            selectedNumMateriel : '',\n            materielTypes : [],\n            selectedMaterielType : '',\n            motif : 'ND',\n            problemeList : [] ,\n            selectedNumProblemeTechType : '',\n            message : '',\n            num_intervention_pere : '',//initialized by route here\n            commentaire : '',\n        }\n        this.materiels = null;\n        this.lieus = null;\n        this.problemeTechTypes= null ;\n        this.agendaPop = createRef();\n        this.intervTypeCreator = createRef();\n        this.problemeTechTypeCreator = createRef();\n    }\n    updateTypeIntervention = (e) => {\n        console.log('update type intervention', e.target.value);\n        let newNumInterventionType = e.target.value;\n        this.setState({\n            selectedNumInterventionType : newNumInterventionType,\n        });\n    }\n    updateDateProgramme = (e) =>{\n        console.log('updateDateProgramme ' ,new Date(e.target.value));\n        let newDateProgramme = new Date(e.target.value);\n        this.setState({\n            dateProgramme : newDateProgramme,\n            dateProgrammeDisplay : e.target.value,\n        });\n    }\n    updateLieu = (e, motif) => {\n        console.log('update lieu', e.target.value);\n        console.log(motif);\n        let newNumLieu = e.target.value;\n        this.setState({\n            selectedNumLieu : newNumLieu,\n        });\n    }\n    updateMaterielType = (e) => {\n        console.log('updateMaterielType', e.target.value);\n        console.log('this.materiel' , this.materiels);\n        this.setState({\n            selectedMaterielType : e.target.value,\n            materielList : this.materiels[e.target.value],\n        });\n    }\n    updateMateriel = (e) => {\n        console.log('updateMateriel' , e.target.value);\n        this.setState({\n            selectedNumMateriel : e.target.value,\n        });\n    }\n\n    updateMotif = (e) => {\n        console.log('update motif', e.target.value);\n        this.setState({\n            motif : e.target.value,\n        });\n    }\n\n    //also used in update of Lieu because we need to update the motif at the same time\n    //but update lieu is still there in case we want to revert\n    updateProbleme = (e, numLieu) => {\n        console.log('update probleme', e.target.value);\n        console.log(this.problemeTechTypes);\n        //change motif to 'resoudre probleme : type -- lieu '\n        let type = this.problemeTechTypes[e.target.value];\n        let lieu;\n        let newMotif;\n        let newNumLieu = (numLieu) ? numLieu : this.state.selectedNumLieu ;\n        lieu = this.lieus[newNumLieu];\n        if(type){\n            newMotif = `Resoudre probleme : ${type} -- ${lieu}`;\n        }else{\n            newMotif = this.state.motif;\n        }\n        \n        console.log('motif', newMotif);\n        this.setState({\n            motif : newMotif, \n            selectedNumProblemeTechType : e.target.value || '',\n            selectedNumLieu : newNumLieu,\n        });\n    }\n\n    updateCommentaire = (e) => {\n        console.log('updateCommentaire' , e.target.value);\n        this.setState({\n            commentaire : e.target.value,\n        });\n    }\n\n\n\n    createIntervention = () => {\n        let {\n            selectedNumInterventionType ,\n            dateProgramme,\n            selectedNumLieu,\n            selectedNumProblemeTechType,\n            selectedNumMateriel,\n            motif,\n            num_intervention_pere,\n            commentaire,\n        } = this.state;\n        let code_intervention_type = '';//we use numInterventionType\n        if (selectedNumMateriel === 'nd') selectedNumMateriel = '';\n        //must be there : numInterventionType , numLieu , date_programme , \n        if( selectedNumInterventionType && selectedNumLieu && dateProgramme ) {\n            //send the 'create intervention'\n            console.log( 'create intervention : ' , selectedNumInterventionType ,code_intervention_type,  selectedNumLieu,  dateProgramme,motif, selectedNumMateriel,selectedNumProblemeTechType,num_intervention_pere);\n            this.props.socket.emit('create intervention', selectedNumInterventionType , code_intervention_type , selectedNumLieu , dateProgramme , motif , selectedNumMateriel,selectedNumProblemeTechType,num_intervention_pere, commentaire);\n            this.setState({\n                message : 'intervention Creer lance',\n            });\n        }else{\n            this.setState({\n                message : 'selectionner un type d\\'intervention, un lieu et une date programmée',\n            });\n        }\n        \n    }\n\n\n    componentDidMount () {\n        console.log('createIntervention did mount');\n        //get the data : type_intervention\n        this.props.socket.emit('get intervention definition');\n\n        this.props.socket.on('intervention_type list -createIntervention' , (intervention_types) => {\n            console.log(' intervention_types ' ,intervention_types);\n            let newInterventionList = intervention_types.map( type => ({\n                key : type.num_intervention_type,\n                value : type.num_intervention_type,\n                libelle : type.libelle_intervention_type,\n            }));\n            let newSelectedNumInterventionType = newInterventionList[0].key;\n            if( this.props.location.state ){\n                if ( this.props.location.state.num_intervention_type ){\n                    newSelectedNumInterventionType = this.props.location.state.num_intervention_type;\n                }\n            }\n            this.setState({\n                interventionTypeList : newInterventionList,\n                selectedNumInterventionType : newSelectedNumInterventionType,\n            });\n        });\n        \n        this.props.socket.on('lieu list -createIntervention' , (lieus) =>{\n            console.log('lieus' , lieus );\n            for( const lieu of lieus){\n                this.lieus = {\n                    ...this.lieus,\n                    [lieu.num_lieu] : [lieu.libelle],\n                }\n            }\n            let newLieuList = lieus.map( lieu => ({\n                key : lieu.num_lieu,\n                value : lieu.num_lieu,\n                libelle : lieu.libelle,\n            }));\n            this.setState({\n                lieuList : newLieuList,\n                selectedNumLieu : newLieuList[0].value,\n            });\n        });\n\n        this.props.socket.on('materiel list -createIntervention' ,(materiels,materielTypes, lieus) => {\n            console.log('materiels', materiels);\n            let materielsList ;\n            \n            for( const type of materielTypes ){\n                \n                materielsList = {\n                    ...materielsList,\n                    [type.libelle_materiel_type] : materiels.filter( item => item.num_materiel_type === type.num_materiel_type).map( item => ({\n                        key : item.num_materiel,\n                        value : item.num_materiel,\n                        libelle : item.libelle_materiel,\n                    })),\n                }\n            }\n            materielsList ={\n                ...materielsList,\n                ['nd'] : [{\n                    key : 'nd',\n                    value : 'nd',\n                    libelle : 'nd',\n                }],\n            }\n            materielTypes = materielTypes.map( item => item.libelle_materiel_type);\n            materielTypes.unshift('nd');\n            console.log('materielsList' , materielsList , materielTypes);\n            this.materiels = materielsList;\n            this.setState({\n                materielTypes : materielTypes,\n                selectedMaterielType : materielTypes[0],\n                materielList : materielsList[materielTypes[0]],\n            });\n            \n        });\n\n        this.props.socket.on('probleme_tech_type list -createIntervention', (probleme_tech_types) => {\n            console.log('probleme_tech_types', probleme_tech_types);\n            for(const probleme_tech_type of probleme_tech_types){\n                this.problemeTechTypes = {\n                    ...this.problemeTechTypes ,\n                    [probleme_tech_type.num_probleme_tech_type] : probleme_tech_type.libelle_probleme_tech_type,\n                }\n            }\n            let newProblemeList = probleme_tech_types.map( blem => ({\n                key : blem.num_probleme_tech_type,\n                value : blem.num_probleme_tech_type,\n                libelle : blem.libelle_probleme_tech_type,\n            }));\n            this.setState({\n                problemeList : newProblemeList,\n            });\n        });\n\n        this.props.socket.on('new intervention -createIntervention', (intervention) => {\n            let {\n                num_intervention,\n            } = intervention;\n            console.log('new intervention createIntervention');\n            this.setState({\n                message : `Intervention ${num_intervention} créée.`\n            });\n        });\n\n        this.props.socket.on('new intervention_type -createIntervention' ,() => {\n            console.log('new intervention_type -createIntervention');\n            this.props.socket.emit('get intervention definition');\n        });\n\n        this.props.socket.on('new probleme_tech_type -createIntervention' ,() => {\n            console.log('new problem_tech_type -createIntervention');\n            this.props.socket.emit('get intervention definition');\n        });\n\n        if(this.props.location.state){\n            let {\n                num_intervention_pere,\n                num_intervention_type,\n                dateFree,\n            } = this.props.location.state;\n            \n            if(dateFree) this.updateDateProgramme(dateFree); \n            this.setState({\n                num_intervention_pere : this.props.location.state.num_intervention_pere,\n                selectedNumInterventionType : this.props.location.state.num_intervention_type,\n            });\n        }\n\n\n    }\n\n    componentWillUnmount () {\n        this.props.socket.off('intervention_type list -createIntervention');\n        this.props.socket.off('lieu list -createIntervention');\n        this.props.socket.off('materiel list -createIntervention');\n        this.props.socket.off('probleme_tech_type list -createIntervention');\n        this.props.socket.off('new intervention_type -createIntervention');\n        this.props.socket.off('new intervention -createIntervention');\n    }\n    closePopUp = (ref) => {\n        ref.current.style.top = \"-1000px\";\n    }\n\n    showPopUp = (ref) => {\n        ref.current.style.top = \"10px\";\n        //setTimeout( () => {\n        //    if (ref) ref.current.style.top = \"-1000px\";\n        //}, 120000);\n\n    }\n    render(){\n        let {\n            interventionTypeList,\n            selectedNumInterventionType,\n            lieuList,\n            selectedNumLieu,\n            materielList ,\n            selectedNumMateriel,\n            materielTypes,\n            selectedMaterielType,\n            motif,\n            selectedNumProblemeTechType,\n            problemeList,\n            message,\n            num_intervention_pere,\n            commentaire,\n        } = this.state;\n        //BUTTON AGENDA\n        //<button onClick={()=> this.showPopUp(this.agendaPop)}> Agenda </button>\n        //date agenda \n        //today and today + 7days\n        let startAgenda = new Date().setHours(3,0,0); //0 UTC\n        let endAgenda = startAgenda + 7*24*60*60*1000;\n        return (\n            <div className=\"createIntervention\">\n                <div className=\"notif_pop agenda-createIntervention\" ref={this.agendaPop}>\n                    <Agenda \n                        socket = {this.props.socket} \n                        date_debut = {new Date(startAgenda)}\n                        date_fin = {new Date(endAgenda)}\n                        session = {this.props.session}\n                        showSub = {this.props.showSub}\n                        showHeader = {true}\n                        setSelectedDate = {this.updateDateProgramme} //value is in e.target.value\n                        close = { () => this.closePopUp(this.agendaPop)}/>\n                </div>\n                <div className=\"notif_pop agenda-createIntervention\" ref={this.intervTypeCreator}>\n                    <InterventionTypeCreator \n                        socket = {this.props.socket}\n                        close = { () => this.closePopUp(this.intervTypeCreator)}/>\n                </div>\n                <div className=\"notif_pop agenda-createIntervention\" ref={this.problemeTechTypeCreator} >\n                    <ProblemeTechTypeCreator \n                        socket = {this.props.socket}\n                        close = { () => this.closePopUp(this.problemeTechTypeCreator)}/>\n                </div>\n                <p> Créer une intervention :</p>\n                { num_intervention_pere &&\n                    <p> Suite de l'intervention : {num_intervention_pere} </p> \n                }\n                <div className=\"scroll-option\">\n                    <FoldableDiv title=\"Intervention\" folded={false}>\n                        <div className=\"sub-category-option\">\n                            <label> Type Intervention : \n                            </label>\n                            <Dropdown value={selectedNumInterventionType} objArray = {interventionTypeList} onChange={this.updateTypeIntervention}/>\n                            <button onClick={() => this.showPopUp(this.intervTypeCreator)}> Creer </button>\n                        </div>\n                        <div className=\"sub-category-option\">\n                            <label> Date programmée : \n                            </label>\n                            <button onClick={()=> this.showPopUp(this.agendaPop)}> Agenda </button>\n                            <input type=\"datetime-local\" value={this.state.dateProgrammeDisplay} onChange={this.updateDateProgramme}/>\n                        </div>\n                        <div className=\"sub-category-option\">\n                            <label> Lieu : \n                            </label>\n                            <Dropdown \n                                value={selectedNumLieu} \n                                objArray = {lieuList} \n                                onChange={\n                                    (e)=> {\n                                        this.updateProbleme({target:{value : selectedNumProblemeTechType}} , e.target.value);\n                                    }\n                                }\n                            />\n                        </div>\n                        <div className=\"sub-category-option\">\n                            <label> Commentaire : \n                            </label>\n                            <textarea value={commentaire} onChange={this.updateCommentaire}>\n                            </textarea>\n                        </div>\n                    </FoldableDiv>\n                    <FoldableDiv title=\"Objet de l'intervention\" folded={true}>\n                        <MaterielSelector\n                            socket = {this.props.socket}\n                            onChange = {(obj)=> this.updateMateriel({target: {value : obj.num}})}\n                            selectedLieu = \"nd\"\n                            selectedNumMateriel = {selectedNumMateriel}/>\n\n                    </FoldableDiv>\n                    <FoldableDiv title=\"Motif\" folded={true}>\n                        <div className=\"sub-category-option\">\n                            <label> Motif :\n                            </label>\n                            <textarea value={motif} onChange={this.updateMotif}></textarea>\n                        </div>\n                        <FoldableDiv title=\"Probleme\" folded={true}>\n                            <div className=\"sub-category-option\">\n                                <label> Type du probleme:\n                                </label>\n                                <Dropdown value={selectedNumProblemeTechType} objArray = {problemeList} onChange={this.updateProbleme}/>\n                                <button onClick={()=>this.showPopUp(this.problemeTechTypeCreator)}> Créer </button>\n                            </div>\n                            <div className=\"sub-category-option\">\n                                <label> Lieu : \n                                </label>\n                                <Dropdown value={selectedNumLieu} objArray = {lieuList} onChange={(e) => {  this.updateProbleme({target:{value: selectedNumProblemeTechType}},e.target.value); }}/>\n                            </div>\n                        </FoldableDiv>\n                    </FoldableDiv>\n                </div>\n                <button onClick={this.createIntervention} > Planifier </button>\n                <p> {message} </p>\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React, {Component} from 'react';\n\n/*\n * props:\n * - socket\n * - setSelectedUser\n * - selectedUser\n * - session\n */\n\nexport default class ActiveUsers extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            connectedList : [],\n            allUserList : [],\n        };\n    }\n\n    updateSelectedNumUser = (user) => {\n        console.log('updateSelectedNumUser' , user);\n        this.props.setSelectedUser(user);\n    }\n\n    componentDidMount () {\n        console.log('ActiveUsers mounted');\n        this.props.socket.emit('get tech_mains list');\n        this.props.socket.emit('get list tech_main connected');\n\n        this.props.socket.on('tech_mains list -activeUsers',(tech_mains)=>{\n            console.log('tech_mains list -activeUsers', tech_mains);\n            // { num_user , username , num_type_user}\n            tech_mains.sort((a,b) => {\n                if ( a.num_user === this.props.session.num_user ) return -1;\n                else return 1;\n            });\n            this.setState({\n                allUserList : tech_mains,\n            });\n        });\n\n        this.props.socket.on('tech_main connected list -activeUsers', (connected_tech_mains) => {\n            console.log('tech_main connected list -activeUsers', connected_tech_mains);\n            //connected_tech_mains [num_app_user]\n            this.setState({\n                connectedList : connected_tech_mains,\n            });\n            //update the active of the selectedUser\n            let newSelectedUser = { ... this.props.selectedUser};\n            newSelectedUser.active = connected_tech_mains.includes(this.props.selectedUser.num_user);\n            this.updateSelectedNumUser(newSelectedUser);\n        });\n\n        this.props.socket.on('new message -activeUsers', (newMs) => {\n            console.log('new message -activeUsers');\n            this.props.socket.emit('get tech_mains list');\n        });\n    }\n\n    componentWillUnmount () {\n        console.log('ActiveUsers unmounted');\n        this.props.socket.off('tech_mains list -activeUsers');\n        this.props.socket.off('tech_main connected list -activeUsers');\n    }\n\n\n    render () {\n        let {\n            allUserList ,\n            connectedList,\n        } = this.state;\n        let {\n            session,\n            selectedUser,\n        } = this.props;\n        let elements = allUserList.map( user =>{\n            let active = connectedList.includes( user.num_user );\n            let selected = ( user.num_user === selectedUser.num_user );\n            user.active = active;\n            console.log( user.username , active);\n            return(\n                <UserListItem  \n                    isSelf = { session.num_user === user.num_user }\n                    key={user.num_user} \n                    username={user.username} \n                    nbNewMessage = {user.nbNewMessage}\n                    active={user.active}\n                    selected = {selected}\n                    onClick={()=> this.updateSelectedNumUser(user) }/>\n            );\n        });\n        return (\n            <div className=\"activeUsers\">\n                <div className = \"scroll_list\">\n                    {elements}\n                </div>\n            </div>\n        );\n    }\n}\n                //<div className=\"header-activeUsers\">\n                //    <p> Moi : {session.username} </p>\n                //</div>\n\nfunction UserListItem (props) {\n    let {\n        username ,\n        active ,\n        selected ,\n        isSelf,\n        nbNewMessage,\n    } = props;\n    /*\n     * props:\n     * - username\n     * - onClick\n     * - active : if online or not\n     * - selected :\n     */\n    let style;\n    let pStyle;\n    if(selected){\n        style = {\n            borderBottom : '1px solid red',\n            background : 'white',\n        };\n    }else{\n        style = {\n        };\n    }\n    if(active){\n        pStyle = {\n            borderRight : '5px solid green',\n        };\n    }else{\n        pStyle = {\n            borderRight : '5px solid red',\n        }\n    }\n    return(\n        <div className=\"userListItem\" style={style}>\n            <p onClick={props.onClick} style={pStyle}> \n                {username} {(nbNewMessage > 0) ? `(${nbNewMessage})` : ''}\n                {(isSelf) ? `(moi)`:'' } <span className=\"statut-userListItem\">{(active) ? 'connecté' : 'non-connecté'}</span>\n            </p>\n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Intervention from './../intervention';\n\n/*\n * props :\n * - tech : num_user , username \n * - socket :\n * - showSub : for intervention\n */\nexport default class TechActivityDisplay extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            listUndoneIntervention : [],\n            listPendingIntervention : [],\n            listDoneTodayIntervention : [],\n        };\n    }\n    componentDidMount() {\n        console.log('TechActivityDisplay mounted');\n        \n        this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n        this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n        this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n\n        this.props.socket.on('list undone intervention -techActivityDisplay' , (undoneInterventions) => {\n            console.log('list undone intervnetion -techActivityDisplay' , undoneInterventions);\n            let newList = undoneInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listUndoneIntervention : newList,\n            });\n        });\n\n        this.props.socket.on('pending intervention -techActivityDisplay', (pendingInterventions) => {\n            console.log('pending intervention -techActivityDisplay', pendingInterventions);\n            let newList = pendingInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listPendingIntervention : newList,\n            });\n        });\n\n        this.props.socket.on('done today intervention -techActivityDisplay' , (doneTodayInterventions) => {\n            console.log('done today intervention -techActivityDisplay', doneTodayInterventions);\n            let newList = doneTodayInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listDoneTodayIntervention : newList,\n            });\n        });\n\n        this.props.socket.on('ended intervention -techActivity', () => {\n            this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n        });\n\n        this.props.socket.on('started intervention -techActivity',()=>{\n            this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n        });\n    }\n    componentDidUpdate(prevProps, prevState){\n        console.log('TechActivityDisplay update');\n        if( prevProps.tech.num_user !== this.props.tech.num_user ){\n            this.props.socket.emit('get undone intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.tech.num_user);\n            this.props.socket.emit('get done today intervention' , this.props.tech.num_user);\n        }\n    }\n    componentWillUnmount(){\n        console.log('TechActivityDisplay unmount');\n        this.props.socket.off('list undone intervention -techActivityDisplay');\n        this.props.socket.off('pending intervention -techActivityDisplay');\n        this.props.socket.off('done today intervention -techActivityDisplay');\n    }\n    render(){\n        let {\n            listUndoneIntervention,\n            listPendingIntervention,\n            listDoneTodayIntervention,\n        } = this.state;\n        let{\n            num_user,\n            username,\n        } = this.props.tech;\n        let indic ;\n        let undoneTitle  = `à faire : ${listUndoneIntervention.length}`;\n        let pendingTitle = `En cours : ${listPendingIntervention.length}`;\n        let doneTitle = `Terminée aujourd'hui : ${listDoneTodayIntervention.length}`;\n\n        let undoneElements = listUndoneIntervention.map( interv =>\n            <Intervention key = {interv.num_intervention} intervention = {interv} showSub={this.props.showSub}/>\n        );\n        let pendingElements = listPendingIntervention.map( interv => \n            <Intervention key = {interv.num_intervention} intervention = {interv} showSub={this.props.showSub}/>\n        );\n        let doneTodayElements = listDoneTodayIntervention.map( interv =>\n            <Intervention key = {interv.num_intervention} intervention = {interv} showSub={this.props.showSub}/>\n        );\n        console.log('tech activite' , num_user);\n        if( num_user ){\n            indic = `Activités de ${username}`;\n        }else{\n            indic = 'Activités';\n        }\n        return (\n            <div className=\"techActivityDisplay\">\n                <div className=\"indic\">\n                    <p>{indic}</p>\n                    { num_user && username &&\n                        <button onClick={()=> this.props.resetUser()}>X</button>\n                    }\n                </div>\n                <div className=\"main\">\n                    <div className=\"scroll_list\">\n                        <FoldableDiv title={pendingTitle} >\n                            <div className=\"scroll_list\">\n                                {pendingElements}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={undoneTitle} folded={true}>\n                            <div className=\"scroll_list\">\n                                {undoneElements}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={doneTitle} folded={true} >\n                            <div className=\"scroll_list\">\n                                {doneTodayElements}\n                            </div>\n                        </FoldableDiv>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React , { Component } from 'react';\nimport ActiveUsers from './../activeUsers';\nimport TechActivityDisplay from './../techActivityDisplay';\n\n/*\n * props : \n * - socket \n * - session : username , num_user\n * -showSub\n */\n\nexport default class TechActivity extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            selectedUser: {},\n        };\n    }\n    updateSelectedUser = (user) => {\n        console.log('updateSelectedUser' , user);\n        this.setState({\n            selectedUser : user,\n        });\n    }\n    render () {\n        let {\n            selectedUser,\n        } = this.state;\n        let indic ;\n        if( selectedUser.num_user ){\n            indic = `Activite de ${selectedUser.username}`;\n        }else{\n            indic = '...';\n        }\n        return (\n            <div className=\"techActivity\">\n                <div className=\"side\">\n                    <ActiveUsers\n                        socket = {this.props.socket}\n                        session = {this.props.session}\n                        selectedUser = {selectedUser}\n                        setSelectedUser = {this.updateSelectedUser}\n                        />\n                </div>\n                <div className=\"main\">\n                    <TechActivityDisplay\n                        tech={selectedUser}\n                        socket = { this.props.socket }\n                        resetUser = { () => this.updateSelectedUser({}) }\n                        showSub = {this.props.showSub}/>\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\r\nimport React from 'react';\r\nimport { NavLink , Switch , Route ,Redirect} from 'react-router-dom';\r\nimport ToDoList from './../toDoList';\r\nimport NotifsList from './../notifsList';\r\nimport CreateIntervention from './../createIntervention';\r\nimport TechActivity from './../techActivity';\r\n\r\nexport default class Dashboard extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            nbInterventionUndone : 0,\r\n            nbNewNotification: 0,\r\n        }\r\n    }\r\n\r\n\r\n    nbInterventionUndonePlus = (nb) => {\r\n        console.log('nbInterventionUndonePlus' ,nb)\r\n        //let newNb = nb || this.state.nbInterventionUndone + 1 ;\r\n        let newNb = nb;\r\n        newNb = parseInt(newNb);\r\n        this.setState({\r\n            nbInterventionUndone : newNb,\r\n        });\r\n    }\r\n    nbNewNotificationPlus = (nb) => {\r\n        console.log('nbNewNotificationPlus' ,nb)\r\n        //let newNb = nb || this.state.nbNewNotification + 1 ;\r\n        let newNb = nb;\r\n        newNb = parseInt(newNb);\r\n        this.setState({\r\n            nbNewNotification : newNb,\r\n        });\r\n    }\r\n    componentDidMount= () => {\r\n        console.log('DASHBOARD did mount');\r\n        this.props.socket.emit('get nb intervention undone');\r\n        this.props.socket.emit('get nb unanswered notifs');\r\n\r\n        this.props.socket.on('nb intervention undone', (nb) => {\r\n            console.log('nb intervention undone');\r\n            this.setState({\r\n                nbInterventionUndone : nb,\r\n            });\r\n        });\r\n\r\n        this.props.socket.on('nb unanswered notifs -dashboard', (nb) => {\r\n            this.setState({\r\n                nbNewNotification : nb,\r\n            });\r\n        });\r\n\r\n        this.props.socket.on('new intervention', () => {\r\n            console.log('new intervention dashboard');\r\n            this.props.socket.emit('get nb intervention undone');\r\n        });\r\n\r\n        this.props.socket.on('ended intervention', () => {\r\n            console.log(' ended intervention dashboard');\r\n            this.props.socket.emit('get nb intervention undone');\r\n        });\r\n      \r\n\r\n\r\n        \r\n    }\r\n    \r\n    componentWillUnmount = () => {\r\n        //this.props.socket.off('new notif');\r\n     \r\n        this.props.socket.off('nb intervention undone');\r\n        this.props.socket.off('new intervention ');\r\n        this.props.socket.off('ended intervention');\r\n        this.props.socket.off('materiel list');\r\n        this.props.socket.off('nb unanswered notifs -dashboard');\r\n    }\r\n    render() {\r\n        let { path , url } = this.props.match;\r\n        let mainDashboardStyle ;\r\n        return (\r\n            <div className=\"dashboard\">\r\n                <div className=\"main-dashboard\" style={mainDashboardStyle}>\r\n                    <nav id=\"nav_dashboard\">\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/toDo`}> Interventions a faire {(this.state.nbInterventionUndone > 0) ? `(${this.state.nbInterventionUndone})`:''} </NavLink>\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/tech_activity`}> Activitées </NavLink>\r\n                        <NavLink activeClassName=\"active_navLink_dashboard\" to={`${url}/creer`}> Creer </NavLink>\r\n                    </nav>\r\n                    <div id=\"display_dashboard\">\r\n                        <Switch>\r\n                            <Redirect exact from={path} to={`${path}/toDo`} />\r\n                            <Route path={`${path}/toDo`} render = {\r\n                                (routeProps) => <ToDoList \r\n                                                    setNbInterventionUndone={this.nbInterventionUndonePlus}\r\n                                                    {...routeProps} \r\n                                                    {...this.props} />\r\n                             }/>\r\n                            \r\n                            <Route path = { `${path}/tech_activity`} \r\n                                    render = {\r\n                                        (routeProps) => <TechActivity\r\n                                                            { ... routeProps}\r\n                                                            socket = {this.props.socket}\r\n                                                            session = {this.props.session}\r\n                                                            showSub = {this.props.showSub}\r\n                                                        />\r\n                            }/>\r\n\r\n                            <Route path={`${path}/notifs`} render = {\r\n                                (routeProps) => <NotifsList  {...routeProps} {...this.props} setNbNewNotif = {this.nbNewNotificationPlus} />\r\n                            }/>\r\n\r\n                            <Route path={`${path}/creer`} render = {\r\n                                (routeProps) => <CreateIntervention {...routeProps} {...this.props} />\r\n                            }/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import './index.css';\nimport React from 'react';\nimport { Urgent } from './../../urgent.js';\n\nexport default class NotifHistoryTech extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            detailsAreShown : false ,\n        }\n    }\n    showDetails = () => {\n        this.setState({\n            detailsAreShown : !(this.state.detailsAreShown),\n        });\n    }\n    render () {\n        let style;\n        let sumStyle ;\n        let statutStyle ;\n        let detailStyle ;\n        switch(this.props.notif.statut_code){\n            case Urgent.MAX.code :\n                style = {\n                    borderLeft : '13px solid red',\n                    //borderRight : '13px solid red',\n                };\n                statutStyle = {\n                    //background : 'red',\n                    color : 'red',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MID.code :\n                style = {\n                    borderLeft : '13px solid yellow',\n                    //borderRight : '13px solid yellow',\n                };\n                statutStyle = {\n                    //background : 'yellow',\n                    color : 'yellow',\n                    fontWeight : 'bold',\n                }\n                break;\n\n            case Urgent.MIN.code :\n                style = {\n                    borderLeft : '13px solid blue',\n                    //borderRight : '2px solid blue',\n                };\n                statutStyle = {\n                    //background : 'blue',\n                    color : 'blue',\n\n                }\n                break;\n             default :\n                break;\n        }\n        if(this.state.detailsAreShown){\n            detailStyle = {\n                height : \"80%\",\n            };\n            sumStyle = {\n                height : \"15%\",\n            };\n            style = {\n                ...style,\n                height : \"300px\",\n            }\n\n        }\n        if(this.props.notif.num_app_user_tech_main && this.props.notif.date_reponse){\n            style = {\n                ...style,\n                background : '#a9c8f7',\n            }\n        }\n        return (\n            <div className=\"notif_history\" style={style} >\n                <div className=\"notif_history-sum\" style={sumStyle}>\n                    <div className=\"probleme_type\" >\n                        <p> {this.props.notif.probleme_type} </p>\n                        <p> {this.props.notif.code} </p>\n                    </div>\n                    <div className=\"probleme_statut\" style={statutStyle}>\n                        <p> {this.props.notif.statut_libelle} </p>\n                        <p> {this.props.notif.lieu} </p>\n                    </div>\n                    <div className=\"user_sender_username\">\n                        <p> par : {this.props.notif.user_sender_username} </p>\n                    </div>\n                    <div className=\"date_envoie\">\n                        <p> Date d'envoie : </p>\n                        <p> {this.props.notif.date_envoie} </p>\n                    </div>\n                    <button className=\"myButton\" onClick={this.showDetails}> Details </button>\n                </div>\n                { this.state.detailsAreShown &&\n                    <div className=\"notif-details\" style={detailStyle}>\n                        <p> remarque: {this.props.notif.remarque} </p>\n                        <p> envoyee par : {this.props.notif.user_sender_username} </p>\n                        <p> prise en charge par : {this.props.notif.tech_main_username}  </p>\n                        <p> repondue le : {this.props.notif.date_reponse} </p>\n                        <p> ID notification : {this.props.notif.num_notification} </p>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React from 'react';\nimport NotifHistoryTech from './../notifHistoryTech';\nimport DropDown from './../../utils/dropDown';\n\nexport default class NotifsHistory extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            notifsTab : [],\n            usersList : [],\n            selectedUser : 'all',\n        }\n    }\n    componentDidMount = async () => {\n        console.log(' NOTIFSHISTORY did mount ');\n        this.props.socket.emit('get notifs history');\n        this.props.socket.on('notifs history' , (notifsTab) => {\n            console.log('notification history for tech_main' , notifsTab);\n            let newNotifsTab = notifsTab.map( notif => ({\n\n                ...notif,\n                statut_code : notif.statut,\n                statut_libelle : notif.statut_libelle,\n                remarque : notif.remarque || '-' ,\n                date_envoie : new Date(notif.date_envoie).toLocaleString('fr-FR'),\n                tech_main_username : notif.tech_main_username || '-',\n                date_reponse : (notif.date_reponse) ? new Date(notif.date_reponse).toLocaleString('fr-FR') : '-' ,\n            }));\n            console.log('newNotifsTab' , newNotifsTab);\n            this.setState({\n                notifsTab : newNotifsTab,\n            });\n        });\n        this.props.socket.emit('get users list');\n        this.props.socket.on('users list' , (usersList) => {\n            console.log('users list' , usersList );\n            usersList.push({ num_user : 0 , username : 'all'});\n            this.setState({\n                usersList : usersList,\n            });\n        });\n    }\n\n    componentDidUpdate = () => {\n        console.log('NOTIFSHISTORY update');\n    }\n\n    updateSelectedUser = (e) => {\n        //alert('user selected is ' +e.target.value );\n        if ( e.target.value !== 'all' ) this.props.socket.emit('get notifs history', e.target.value);\n        else this.props.socket.emit('get notifs history');\n        this.setState({\n            selectedUser : e.target.value,\n        });\n    }\n\n    componentWillUnmount = () => {\n        this.props.socket.off('notifs history');\n        this.props.socket.off('users list');\n    }\n    showNotifs = (notifsTab) => {\n        return (\n            notifsTab.map( notif => \n                <NotifHistoryTech key={notif.num_notification} notif={notif} />\n            )\n        );\n    }\n    render (){ \n        let usersOption = this.state.usersList.map( user => \n            //<option value={user.num_user} key={user.num_user}> {user.username} </option>\n            ({\n                key : user.num_user ,\n                value : user.num_user ,\n                libelle : user.username,\n            })\n        );\n                        //<select value={this.state.selectedUser} defaultValue={this.state.usersList[this.state.usersList.length - 1 ]} onChange={this.updateSelectedUser}>\n                            //{usersOption}\n                        //</select>\n        return (\n            <div className = \"notifsHistory\" > \n                <div className=\"notifsHistory-select\">\n                    <p> Historiques des notifications envoyer par :  \n                    </p>\n                    <DropDown objArray={usersOption}  value={this.state.selectedUser} onChange={this.updateSelectedUser} />\n                </div>\n                <div className=\"notifsHistory-list\">\n                    { this.showNotifs(this.state.notifsTab) }\n                </div>\n            </div>\n        );\n    }\n}\n\n","import './index.css';\nimport React , { Component } from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport DropDown from './../utils/dropDown';\n/*\n * prop : \n * - onChangeProblemeTechType : when we change the probleme tech type\n * - numProblemeTechType :\n * - onChangeLieu :\n * - numLieu\n * - onChangeRemarque :\n * - remarque\n * - socket\n * - problemeTechTypeArray\n * - LieuArray\n * \n */\n\nexport default class ProblemeConstate extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            problemeTechTypeArray : [],\n            lieuArray : [],\n        }\n    }\n    componentDidMount () {\n        console.log('probleme constate mounted');\n        this.props.socket.emit('get probleme_tech_type list');\n        this.props.socket.emit('get lieu list');\n\n        this.props.socket.on('probleme_tech_type list -problemeTechConstate' , (probleme_tech_types) => {\n\n            console.log('probleme_tech_types list',probleme_tech_types);\n            let newProblemeList = probleme_tech_types.map( blem => ({\n                key : blem.num_probleme_tech_type,\n                value : blem.num_probleme_tech_type,\n                libelle : blem.libelle_probleme_tech_type,\n            }));\n            newProblemeList.unshift({\n                key : 'nd',\n                value :'nd',\n                libelle : 'nd',\n            });\n            this.setState({\n                problemeTechTypeArray : newProblemeList,\n            });\n\n        });\n\n        this.props.socket.on('lieu list -problemeTechConstate' , (lieus) => {\n            console.log('lieus' , lieus );\n            let newLieuList = lieus.map( lieu => ({\n                key : lieu.num_lieu,\n                value : lieu.num_lieu,\n                libelle : lieu.libelle,\n            }));\n            newLieuList.unshift({\n                key : 'nd',\n                value :'nd',\n                libelle : 'nd',\n            });\n            this.setState({\n                lieuArray : newLieuList,\n            });\n        });\n    }\n\n    componentWillUnmount () {\n        console.log('ProblemeTechConstate unmount');\n        this.props.socket.off('probleme_tech_type list -problemeTechConstate');\n        this.props.socket.off('lieu list -problemeTechConstate');\n    }\n    \n    render () {\n        let {\n            numProblemeTechType,\n            numLieu,\n            remarque,\n            onChangeProblemeTechType,\n            onChangeLieu,\n            onChangeRemarque,\n        } = this.props;\n        let {\n            problemeTechTypeArray,\n            lieuArray,\n        } = this.state;\n        return (\n            <div className=\"problemeTechConstate\">\n                <FoldableDiv title=\"Probleme constaté\" folded={true}>\n                    <DropDown objArray={problemeTechTypeArray} value={numProblemeTechType} onChange={onChangeProblemeTechType}/>\n                    <DropDown objArray={lieuArray} value={numLieu} onChange={onChangeLieu}/>\n                    <textarea placeholder=\"Remarque\" value={remarque} onChange={onChangeRemarque}>\n                    </textarea>\n                    \n                </FoldableDiv>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React, {useState} from 'react';\nimport FoldableDiv from './../foldableDiv';\n\n/*\n * props :\n * - log : <string>; \n * - updateLog \n */\nexport default function InterventionLog (props) {\n    let etapes =(props.log) ? props.log.split(';') : [''];\n    //change size of etapes depending nbEtapes and etapes\n\n    function changeEtapesLength (e,newLength) {\n        e.preventDefault();\n        if ( newLength > etapes.length ){\n            for( let i = 0 , dE = newLength - etapes.length ; i < dE ; i ++) {\n                etapes.push('');\n            }\n        }else if ( newLength < etapes.length ) {\n            etapes.length = newLength;\n        }\n        props.updateLog( etapes.join(';'));\n    }\n    \n\n    function changeEtape (newEtape,index){\n        console.log('change Etapes', index);\n        let newEtapes = etapes.slice();\n        newEtapes[index] = newEtape;\n        props.updateLog( newEtapes.join(';'));\n    };\n    console.log('etapes before render' , etapes);\n    let logElements = etapes.map( (etape,index) => \n        <input value={etape} placeholder={`etape #${index+1}`} key={index} onChange={(e)=>changeEtape(e.target.value,index)}/>\n    );\n    \n    return (\n        <div className=\"interventionLog\">\n            <FoldableDiv title=\"Log\" folded={true}>\n                <form onSubmit={ (e)=>changeEtapesLength(e,etapes.length + 1) } >\n                    {logElements}\n                    <button onClick={(e)=>changeEtapesLength(e,etapes.length + 1)}> + </button>\n                    <button onClick={(e)=>changeEtapesLength(e,etapes.length - 1)}> - </button>\n                </form>\n            </FoldableDiv>\n        </div>\n    );\n}\n\n\n","import './index.css';\nimport React from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport ProblemeTechConstate from './../problemeTechConstate';\nimport InterventionLog from './../interventionLog';\nimport InterventionDecharge from './../interventionDecharge';\nimport MultiMaterielSelector from './../multiMaterielSelector';\n\nexport default class InterventionPage extends React.Component  {\n    constructor(props){\n        super(props);\n        this.state ={\n            techMainIsAuth : false,\n            num_intervention : this.props.num_intervention,\n            intervention : {},\n            pwd : '',\n            selectedNumProblemeTechType: 'nd',\n            selectedNumLieu : 'nd',\n            remarque : '',\n            log : 'etape1 ; etape2; etape3;',\n            num_decharge : '',\n            materiels : [{num:'nd' , type:'nd', lieu:'nd'}],//only one but to adapt to multiMaterielSelector way of things we use an array\n        }\n    }\n    updateMateriel = (newMateriels) => {\n        this.setState({\n            materiels : newMateriels,\n        });\n\n    };\n    updateProblemeTechType = (e) => {\n        let newNumProblemeTechType = e.target.value;\n        this.setState({\n            selectedNumProblemeTechType : newNumProblemeTechType,\n        });\n    }\n    updateLieu = (e) => {\n        let newNumLieu = e.target.value;\n        this.setState({\n            selectedNumLieu : newNumLieu,\n        });\n    }\n    updateRemarque = (e) => {\n        let newRemarque = e.target.value;\n        this.setState({\n            remarque : newRemarque,\n        });\n    }\n    updateLog = (newLog) => {\n        this.setState({\n            log : newLog,\n        });\n    }\n    updatePwd = (e) => {\n        let newPwd = e.target.value;\n        this.setState({\n            pwd : newPwd,\n        })\n    }\n    authenticate = (e) => {\n        e.preventDefault();\n        let pwd = this.state.pwd;\n        //alert( 'is password for tech_main_creator of num_intervention'+ this.props.num_intervention+' this '+pwd); \n        if (pwd) {\n            this.props.socket.emit('authenticate intervention tech_main' , this.state.num_intervention , pwd);\n        }\n    }\n    startIntervention = () => {\n       let {    num_intervention} = this.state.intervention;\n        console.log('start intervention');\n        if( this.state.techMainIsAuth ) {\n            this.props.socket.emit('start intervention' , num_intervention );\n        }\n    }\n    endIntervention = (resolu = false) => {\n       let {    num_intervention,\n                date_debut } = this.state.intervention;\n        if (!date_debut) {\n            console.log('pas de date de debut mais on va terminé');\n        }\n        console.log('resolu' , resolu);\n        console.log('end intervention');\n        if( this.state.techMainIsAuth ) {\n            this.props.socket.emit('end intervention' , num_intervention  , resolu , date_debut);\n        }\n    }\n    updateIntervention = () => {\n        let {\n            num_intervention,\n        } = this.state.intervention;\n        let {\n            log,\n            selectedNumProblemeTechType,\n            selectedNumLieu,\n            remarque,\n            num_decharge,\n            materiels,\n        } = this.state;\n        console.log('updateIntervention', num_intervention , log , selectedNumProblemeTechType ,selectedNumLieu);\n        let isInput = log ||(selectedNumProblemeTechType !== 'nd' && selectedNumLieu !== 'nd') ; \n        if( num_intervention ){\n            if( log ) {\n                console.log('emit udpdate intervention info log');\n                this.props.socket.emit('update intervention info log' , num_intervention ,log);\n            }\n            if( selectedNumProblemeTechType !== 'nd' && selectedNumLieu !== 'nd'){\n                console.log('emit update intervention info probleme_tech');\n                let probleme_constate = {\n                    num_probleme_tech_type : selectedNumProblemeTechType,\n                    num_lieu : selectedNumLieu,\n                    remarque ,\n                }\n                this.props.socket.emit('update intervention info probleme_tech' , num_intervention , probleme_constate);\n            }\n            if(num_decharge){\n                console.log('emit update decharge intervention');\n                this.props.socket.emit('update decharge intervention' , num_decharge , num_intervention);\n            }\n            if(materiels.length > 0 \n                && !( materiels.filter(item => item.num === 'nd').length > 0 ) ){\n                console.log('emit update intervention info num_materiel');\n                this.props.socket.emit('update intervention info num_materiel', num_intervention , materiels[0].num);\n            }\n        } \n    }\n\n    openCreateIntervention = () => {\n        this.props.closeSub();\n        let state = {\n            num_intervention_pere : this.state.num_intervention,\n            num_intervention_type : 'a768355e-3cd2-497c-b579-d4e184b61298'//suite_int id\n        };\n        //this.props.history.push('/acim/dashboard/creer',state);\n        this.props.history.push('/acim/creer',state);\n    }\n\n    getDecharge = (num_decharge) => {\n        //get the server url , \n        const s_URL = new URL(document.location.href);\n        //may not need to change port\n        const m_path = `/pdf/acim/decharge/${num_decharge}`\n        s_URL.port = 3500;\n        s_URL.pathname = m_path;\n        console.log('s_URL',s_URL);\n        window.open(s_URL, '_blank');\n    }\n    getDechargeDoc = (num_decharge) => {\n        //get the server url , \n        const s_URL = new URL(document.location.href);\n        //may not need to change port\n        const m_path = `/docx/acim/decharge/${num_decharge}`\n        s_URL.port = 3500;\n        s_URL.pathname = m_path;\n        console.log('s_URL',s_URL);\n        window.open(s_URL, '_blank');\n    }\n\n    componentDidMount () {\n        console.log('intervention page mounted');\n        console.log(this.props.socket);\n        this.props.socket.emit('get intervention data' , this.props.num_intervention);\n        this.props.socket.on('intervention data',(intervention) => {\n            console.log('intervention data', intervention);\n\n            this.setState({\n                intervention : intervention ,\n                log : intervention.log,\n                num_decharge : intervention.num_decharge,\n            });\n        });\n\n        this.props.socket.on('tech_main is authenticated', (num_intervention) => {\n            if( num_intervention === this.state.num_intervention ){\n                console.log('tech is auth to true');\n                this.setState({\n                    techMainIsAuth : true,\n                    pwd : '',\n                });\n            }\n        });\n\n        this.props.socket.on('started intervention', (intervention) => {\n            console.log('intervention started ' , intervention.num_intervention , intervention.date_debut);\n            if ( this.state.num_intervention === intervention.num_intervention ){\n                this.setState({\n                    intervention : intervention,\n                });\n            }\n\n        });\n        \n        this.props.socket.on('ended intervention interventionPage', (intervention) => {\n            console.log('intervention ended ' , intervention.num_intervention , intervention.date_debut);\n            if ( this.state.num_intervention === intervention.num_intervention ){\n                this.setState({\n                    intervention : intervention,\n                });\n            }\n\n        });\n\n        this.props.socket.on('new decharge' , (newDecharge) => {\n            let {\n                num_decharge\n            } = newDecharge;\n            this.setState({\n                num_decharge : num_decharge,\n            });\n        });\n\n    }\n    \n    componentDidUpdate(){\n        console.log('intervention page updated' , this.props.num_intervention);\n        if( this.props.num_intervention !== this.state.num_intervention ) {\n            this.props.socket.emit('get intervention data' , this.props.num_intervention);\n            let newIntervention ;\n            if( !this.props.num_intervention ) newIntervention = {};\n            else newIntervention = this.state.intervention ;\n            this.setState({\n                num_intervention : this.props.num_intervention,\n                techMainIsAuth : false,\n                intervention : newIntervention,\n                num_decharge : '',\n                \n            });\n        }\n        \n    }\n    componentWillUnmount(){\n        console.log('interventionPage unmount');\n        this.props.socket.off('intervention data');\n        this.props.socket.off('tech_main is authenticated');\n        this.props.socket.off('started intervention');\n        //this.props.socket.off('probleme_tech_type list');\n        //this.props.socket.off('lieu list');\n        this.props.socket.off('new decharge');\n    }\n    render () {\n        \n        let {\n            tech_main_username,\n            libelle_intervention_type,\n            motif,\n            libelle_lieu,\n            date_programme,\n            date_debut,\n            date_fin,\n            done,\n            probleme_resolu,\n            libelle_probleme_tech_type,//if there is\n            log : log_info,//if there is\n            lieu_probleme_tech,\n            num_decharge : num_decharge_info,\n            num_materiel,\n            libelle_materiel ,\n            libelle_materiel_type ,\n            children,\n            num_intervention_pere,\n            commentaire,\n        }   = this.state.intervention;\n        let log_info_tab , log_info_elements;\n        if( log_info ) {\n            log_info_tab = log_info.split(';');\n            log_info_elements = log_info_tab.map( (etape,index) => \n                <li key = {index}>{etape}</li>\n            );\n        }\n        \n        let {\n            selectedNumProblemeTechType,\n            selectedNumLieu,\n            remarque,\n            log,\n            num_decharge,\n            materiels,\n        }   = this.state;\n        \n        let {\n            style,\n            closeSub,\n        }   = this.props;\n        if (date_debut) date_debut = new Date(date_debut).toLocaleString('fr-FR');\n        if (date_programme) date_programme = new Date(date_programme).toLocaleString('fr-FR');\n        if( date_fin ) date_fin = new Date(date_fin).toLocaleString('fr-FR');\n        let { num_intervention } = this.props;\n        let display ;\n        let control = (\n            <>\n                { !date_debut &&\n                    <button className=\"myButton\" onClick={this.startIntervention}> Commencer </button>\n                }\n                {  !done &&\n                        <button className=\"myButton myButton_warning\" onClick={() => this.endIntervention()}> Terminer </button>\n                }\n                {  !probleme_resolu &&\n                        <button className=\"myButton\" onClick={() => this.endIntervention(true)}> Terminé & Résolu </button>\n                }\n                { !probleme_resolu && done && this.props.match.path === '/acim' &&\n                        <button  className=\"myButton\" onClick={this.openCreateIntervention}> Creer une intervention suite </button>\n                }\n            </>\n        );\n        console.log('children' , children);\n        let childButton;\n        if( children){\n            childButton = children.map( child => \n                <li key={child.num_intervention}>\n                    Intervention #<button onClick={()=> this.props.showSub(child.num_intervention)}> {child.num_intervention} </button>\n                </li>\n            );\n        }\n        if( this.state.techMainIsAuth ) {\n            let info;\n            info = (\n                <>\n                    { num_intervention_pere &&\n                        <p> { `Suite de l'intervention : ` }   \n                            <button onClick={()=> this.props.showSub(num_intervention_pere)}> {num_intervention_pere} </button>\n                        </p>\n                    }\n                    <p> Type : {libelle_intervention_type} </p> \n                    <p>   -  {commentaire} </p> \n                    <p> Motif : {motif} </p>\n                    <p> Lieu : {libelle_lieu} </p>\n                    <p> Faite par : {tech_main_username} </p>\n                    <p> Programme le : {date_programme} </p>\n                    <p> Debutee le : {date_debut} </p>\n                    <p> Terminee le : {date_fin} </p>\n                    { libelle_probleme_tech_type &&\n                        <p> Probleme constaté : { libelle_probleme_tech_type } -- {lieu_probleme_tech} </p>\n                    }\n                    { log_info && \n                        <p>\n                             {`${(log_info_tab.length > 1)? 'Etapes suivies' : 'Etape suivie'}`} : \n                             {log_info_elements} \n                        </p>\n                    }\n                    { num_decharge_info &&\n                        <p>\n                            ID decharge : \n                            <button onClick={()=> this.getDechargeDoc(num_decharge_info)}> {num_decharge_info} </button>\n                        </p>\n                    }\n                    { num_materiel &&\n                            <p>\n                            Intervention sur : {libelle_materiel_type} -- {libelle_materiel}\n                            </p>\n                    }\n                    <p> Probleme resolue : { (probleme_resolu) ? 'OUI' : 'NON' } </p>\n                    { children.length > 0 &&\n                            <p>\n                               Suite : {childButton} \n                            </p>\n                    }\n                </>\n            );\n            display = (\n                <>\n                    <div className=\"intervention-form\">\n                        <FoldableDiv title=\"INFO\">\n                            {info}\n                        </FoldableDiv>\n                        <div className=\"intervention-modifier\">\n                            <FoldableDiv title=\"Modifier\" folded={true}>\n                                <ProblemeTechConstate \n                                    numProblemeTechType = {selectedNumProblemeTechType}\n                                    numLieu = {selectedNumLieu}\n                                    remarque = {remarque}\n                                    onChangeProblemeTechType = {this.updateProblemeTechType}\n                                    onChangeLieu = {this.updateLieu}\n                                    onChangeRemarque = {this.updateRemarque}\n                                    socket = {this.props.socket} \n                                    />\n                                <InterventionLog \n                                    log = {log}\n                                    updateLog = {this.updateLog}\n                                    />\n                                    <MultiMaterielSelector\n                                        socket = {this.props.socket}\n                                        listMateriel = {materiels}\n                                        setListMateriel = {this.updateMateriel}\n                                        maxListMaterielLength = {1}\n                                        title=\"Objet de l'intervention\"\n                                        folded={true}\n                                        />\n                                <InterventionDecharge\n                                    socket = {this.props.socket}\n                                    num_intervention = {num_intervention}\n                                    num_decharge = {num_decharge}\n                                    downloadDecharge = {this.getDecharge}\n                                    downloadDechargeDoc = {this.getDechargeDoc}\n                                    />\n                                <button onClick={this.updateIntervention}> Sauvergarder </button>\n                            </FoldableDiv>\n                        </div>\n                    </div>\n                    <div className=\"intervention-control\">\n                        {control}\n                    </div>\n                </>\n            );\n        }else{\n            display = (\n                <form onSubmit={this.authenticate} className=\"pwdForm\">\n                    <input type=\"password\" \n                            placeholder={`mot de passe de ${tech_main_username}`}  \n                            value={this.state.pwd} \n                            className = \"pwdInput\"\n                            onChange={this.updatePwd}/>\n                    <button onClick={this.authenticate} className=\"myButton\" > Valider </button>\n                </form>\n            );\n        }\n        return(\n            <div className=\"interventionPage\" style={style}>\n                <div className=\"interventionPage-title\">\n                    <button onClick={closeSub}> {'x'} </button>\n                    <p> Intervention </p>\n                </div>\n                <p> ID intervention  : {num_intervention} </p>\n                <div className=\"intervention-display\">\n                    {display}\n                </div>\n            </div>\n        );\n    }\n}\n","\nexport function formatDate (date) {\n    let day = `${date.getDate()}`;\n    let month = `${date.getMonth() +1}`;\n    let year = date.getFullYear();\n    month = (month.length < 2) ? '0'+month : month;\n    day = (day.length < 2) ? '0'+day : day;\n    return `${year}-${month}-${day}`;\n}\n\nconst func = {\n    formatDate,\n};\nexport default func;\n","import './index.css';\nimport React , {Component} from 'react';\nimport { formatDate } from './../../functions';\nimport DropDown from './../utils/dropDown';\n\n/*\n * props: - setTechMain \n * - setDebut\n * - setFin\n * - setStatut\n * - setnumIntervention\n * - setInterventionType\n * - socket : for initialization\n * - tech_main,\n * - date_debut,\n * - date_fin,\n * - statut,\n * - num_intervention\n * _ numInterventionType\n */\n\nexport default class InterventionHistoryControl extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            tech_mainList : [],\n            statutList : [\n                {key : 0,\n                value : 0,\n                libelle : 'nd'},\n                { key : 1,\n                value : 1,\n                libelle : 'non-effectuée', },\n                { key : 2,\n                  value : 2,\n                  libelle : 'effectuée-résolue'},\n                { key : 3,\n                  value : 3,\n                  libelle : 'effectuée-non-résolue'},\n            ],\n            interventionTypes : [],\n        };\n        this.techMains = {};\n        //this.intervType = {}; //correspondance num_intervention et libelle\n        this.statuts = {\n            0 : {\n                done : 'nd',\n                probleme_resolu : 'nd',\n            },\n            1 : {\n                done : false,\n                probleme_resolu : false,\n            },\n            2 : {\n                done : true,\n                probleme_resolu : true,\n            },\n            3 : {\n                done : true,\n                probleme_resolu : false,\n            },\n        };\n    }\n    updateTechMain = (e) => {\n        console.log('updateTechMain', e.target.value);\n        console.log(this.techMains[e.target.value]);\n        let username = this.techMains[e.target.value];\n        this.props.setTechMain({ num : e.target.value , username : username });\n    }\n    updateDateDebut = (e) => {\n        console.log('updateDateDebut',new Date(e.target.value));\n        let newDebut = new Date(new Date(e.target.value).setHours(0,0,0));\n        this.props.setDateDebut(newDebut);\n    }\n\n    updateDateFin = (e) => {\n        console.log('updateDateFin',new Date(e.target.value));\n        let newFin = new Date(new Date(e.target.value).setHours(23,59,59));\n        this.props.setDateFin(newFin);\n    }\n\n    updateStatut = (e) => {\n        console.log('updateStatut' , e.target.value);\n        let newStatut = this.statuts[e.target.value];\n        this.props.setStatut(newStatut);\n\n    }\n\n    updateNumIntervention = (e) => {\n        console.log('updateNumIntervention' , e.target.value);\n        this.props.setNumIntervention(e.target.value);\n    }\n\n    updateNumInterventionType = (e) => {\n        console.log('updateNumInterventionType',e.target.value);\n        this.props.setNumInterventionType(e.target.value);\n    }\n\n    componentDidMount(){\n        this.props.socket.emit('get tech_mains list');\n        this.props.socket.on('tech_mains list' , (tech_mainList)=>{\n            console.log('tech_mains list');\n            let newTech_mainList = tech_mainList.map( tech => ({\n                key : tech.num_user,\n                libelle : tech.username,\n                value : tech.num_user,\n            }));\n            for(const tech of newTech_mainList){\n                this.techMains = {\n                    ...this.techMains,\n                    [tech.key] : tech.libelle,\n                }\n            }\n            this.techMains = {\n                ...this.techMains,\n                nd : 'nd',\n            }\n            newTech_mainList.unshift({key: 'nd' , libelle : 'nd' , value : 'nd'});\n            console.log('newTech_mainList' , newTech_mainList);\n            this.setState({\n                tech_mainList : newTech_mainList,\n            });\n\n        });\n        this.props.socket.emit('get intervention type');\n        this.props.socket.on('intervention_type list -interventionHistoryControl',(interventionTypes)=>{\n            let newInterventionTypes = interventionTypes.map( item => ({\n                key : item.num_intervention_type,\n                libelle : item.libelle_intervention_type,\n                value : item.num_intervention_type,\n            }));\n            newInterventionTypes.unshift({key: 'nd' , libelle : 'nd' , value : 'nd'});\n            this.setState({\n                interventionTypes : newInterventionTypes,\n            });\n\n        });\n    }\n\n    componentWillUnmount(){\n        console.log('interventionHistoryControl unmount');\n        this.props.socket.off('tech_mains list');\n        this.props.socket.off('intervention_type list -interventionHistoryControl');\n    }\n\n    render(){\n        let {\n            tech_main,\n            date_debut,\n            date_fin,\n            statut,\n            num_intervention,\n            num_intervention_type,\n        } = this.props;\n        let {\n            tech_mainList,\n            statutList,\n            interventionTypes,\n        } = this.state;\n        let statutValue  = 1;\n        if(statut.done){\n            if(statut.done === 'nd'){\n                statutValue = 0;\n            }else{\n                if(statut.probleme_resolu){\n                    statutValue = 2;\n                }else{\n                    statutValue = 3;\n                }\n            }\n        }\n        return(\n            <div className=\"interventionHistoryControl\">\n                <div className=\"sub-control\">\n                    <p> Technicien : </p>\n                    <DropDown \n                        value = {tech_main.num}\n                        onChange = {this.updateTechMain}\n                        objArray = {tech_mainList}\n                        />\n                </div>\n                <div className=\"sub-control\">\n                    <p> Programmé du: </p>\n                    <input type=\"date\" \n                        value = {formatDate(date_debut)} \n                        onChange = {this.updateDateDebut}/>\n                </div>\n                <div className=\"sub-control\">\n                    <p> au: </p>\n                    <input type=\"date\"\n                            value = {formatDate(date_fin)}\n                            onChange = {this.updateDateFin}/>\n                </div>\n                <div className=\"sub-control\">\n                    <p> status : </p>\n                    <DropDown \n                        value = {statutValue}\n                        onChange = {this.updateStatut}\n                        objArray = {statutList}\n                        />\n                </div>\n                <div className=\"sub-control\">\n                    <p> {`Type d'intervention :`} </p>\n                    <DropDown \n                        value = {num_intervention_type}\n                        onChange = {this.updateNumInterventionType}\n                        objArray = {interventionTypes}\n                        />\n                </div>\n                <div className=\"sub-control\">\n                    <p> ID : </p>\n                    <input\n                        placeholder = \"Recherche par ID\"\n                        value = {num_intervention}\n                        onChange = {this.updateNumIntervention}\n                        />\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , {Component} from 'react';\nimport Intervention from './../intervention';\n\n/*\n * props :\n * -tech_main_username\n * -date_debut\n * -date_fin\n * -statut\n */\n\nexport default class InterventionHistoryAffichage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            interventions: [],\n        }\n    }\n    displayInterventions = (list) => {\n        return list.map( item => <Intervention key={item.num_intervention} intervention={item} showSub={this.props.showSub} />);\n    };\n    render(){\n        let {\n            tech_main_username,\n            statut,\n            date_debut,\n            date_fin,\n            interventions,\n        } = this.props;\n        let statut_text;\n        let date_text;\n        let tech_main_username_text;\n        if(statut.done){\n            if(statut.done === 'nd') statut_text = ``;\n            else statut_text = `Effectuée -- ${(statut.probleme_resolu)? 'Résolu':'Non-résolu'}`;\n        }else{\n            //if not done then not resolu\n            statut_text = `Non-effectué`;\n        }\n        if(date_fin === date_debut){\n            date_text = date_fin;\n        }else{\n            date_text = `${date_debut} - ${date_fin}`;\n        }\n        if( tech_main_username !== 'nd' ) {\n            tech_main_username_text = `par ${tech_main_username}`;\n        }else{\n            tech_main_username_text = '';\n\n        }\n        return(\n            <div className=\"interventionHistoryAffichage\">\n                <div className=\"interventionHistoryAffichage-text\">\n                    <p> Intervention {statut_text}  {tech_main_username_text}</p>\n                    <p> du {date_text}</p>\n                    <p> Nombre : {interventions.length} </p>\n                </div>\n                <div className=\"scroll_list\">\n                    {this.displayInterventions(interventions)}\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React, {Component} from 'react';\nimport InterventionHistoryControl from './../interventionHistoryControl';\nimport InterventionHistoryAffichage from './../interventionHistoryAffichage';\n\n\n\nexport default class InterventionHistory extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            tech_main : { num: 'nd' , username : 'nd'},\n            date_debut :new Date(new Date().setFullYear(2020,0,1)) ,\n            date_fin : new Date(new Date().setHours(23,59,59)),\n            statut :{ done : 'nd' , probleme_resolu : 'nd'},\n            interventionList : [],\n            num_intervention : '',//no nd cause we add % and then it is not nd\n            num_intervention_type : 'nd',\n        };\n    }\n    setTechMain = (tech) => {\n        console.log('setTechMain', tech);\n        \n        this.setState({\n            tech_main : tech,\n        });\n    }\n    setDateDebut = (debut) => {\n        //debut must be a new Date()\n        console.log('setDateDebut', debut);\n        if(debut.getTime() > this.state.date_fin.getTime()) debut = new Date(new Date(this.state.date_fin).setHours(0,0,0));\n        \n        this.setState({\n            date_debut : debut,\n        });\n    }\n    setDateFin = (fin) => {\n        console.log('setDateFin', fin);\n        if(fin.getTime() < this.state.date_debut.getTime()) fin = new Date(new Date(this.state.date_debut).setHours(23,59,59));\n        this.setState({\n            date_fin : fin,\n        });\n    }\n    setStatut = (st) => {\n        console.log('setStatut' , st);\n        this.setState({\n            statut : st,\n        });\n    }\n\n    setNumIntervention = (num) => {\n        this.setState({\n            num_intervention : num,\n        });\n    }\n\n    setNumInterventionType = (num) => {\n        this.setState({\n            num_intervention_type : num,\n        });\n    }\n    componentDidUpdate (prevProps,prevState) {\n        //console.log('prevState', prevState);\n        if(prevState.date_debut.getTime() !== this.state.date_debut.getTime()\n            || prevState.date_fin.getTime() !== this.state.date_fin.getTime()\n            || prevState.tech_main.num !== this.state.tech_main.num\n            || prevState.statut.done !== this.state.statut.done\n            || prevState.statut.probleme_resolu !== this.state.statut.probleme_resolu\n            || prevState.num_intervention !== this.state.num_intervention\n            || prevState.num_intervention_type !== this.state.num_intervention_type\n        ){\n            console.log('emit again');\n            let num_intervention;\n            if(this.state.num_interevnetion !== 'nd'){\n                //add '%' for the LIKE comparisson\n                num_intervention = `%${this.state.num_intervention}%`;\n            }\n            this.props.socket.emit('get intervention history', this.state.tech_main.num,this.state.date_debut , this.state.date_fin , this.state.statut , this.state.num_intervention_type ,num_intervention);\n        }\n    };\n    componentDidMount(){\n       console.log('intervention History Mounted');\n       let {\n           tech_main,\n           date_fin,\n           statut,\n       } = this.state;\n       this.props.socket.emit('get intervention history', tech_main.num ,null , date_fin , statut,null , null);\n        //num_intervention use LIKE %...%\n       this.props.socket.emit('get oldest intervention date');\n        this.props.socket.on('oldest intervention date', (minDate) => {\n            this.setState({\n                date_debut : new Date(minDate),\n            });\n        });\n        this.props.socket.on('intervention history', (interventions ) => {\n            console.log('intervention history', interventions );\n            let newInterventionList = interventions.map( (item, index)=> ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle_lieu,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.tech_main_username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            console.log('newInterventionList' , newInterventionList);\n\n\n            this.setState({\n                interventionList : newInterventionList,\n            });\n        });\n\n    }\n    componentWillUnmount(){\n        this.props.socket.off('intervention history');\n        this.props.socket.off('oldest intervention date');\n    }\n\n    render(){\n        let {\n            tech_main,\n            statut,\n            date_debut,\n            date_fin,\n            interventionList,\n            num_intervention,\n            num_intervention_type,\n        } = this.state;\n        return (\n            <div className=\"interventionHistory\">\n                <div className=\"side-InterventionHistory\">\n                    <InterventionHistoryControl\n                        socket={this.props.socket}\n                        tech_main={tech_main}\n                        setTechMain={this.setTechMain}\n                        date_debut={date_debut}\n                        date_fin={date_fin}\n                        setDateDebut={this.setDateDebut}\n                        setDateFin={this.setDateFin}\n                        statut={statut}\n                        setStatut={this.setStatut}\n                        num_intervention = {this.state.num_intervention}\n                        setNumIntervention = {this.setNumIntervention}\n                        num_intervention_type = {num_intervention_type} \n                        setNumInterventionType = {this.setNumInterventionType}\n                        />\n                        \n                </div>\n                <InterventionHistoryAffichage \n                    tech_main_username = {tech_main.username}\n                    date_debut = {date_debut.toLocaleDateString()}\n                    date_fin = {date_fin.toLocaleDateString()}\n                    interventions = {interventionList}\n                    statut={statut}\n                    showSub={this.props.showSub}\n                    />\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\n\n/*\n * props:\n * - socket\n * - selectedUser(num_user, username , num_type_user)\n * - session\n * - setNbNewMessageToZero\n */\n\nexport default class MessageRoom extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            messages : [{ id : 'abab' ,\n                            sent : true,\n                            time_sent : new Date().toLocaleString(),\n                            contenu : 'contenu',\n                            to : 'destinataire',\n                            from : 'envoyeur',\n                          },],\n            newContenu : '',\n            active : this.props.selectedUser.active,\n        };\n        this.myScroll = React.createRef();\n    }\n\n    updateContenu = (e) => {\n        //console.log('updateContenu', e.target.value);\n        this.setState({\n            newContenu : e.target.value,\n        });\n    }\n\n    sendMessage = (e) => {\n        console.log('send message');\n        e.preventDefault();\n        let {\n            session,\n            selectedUser,\n        } = this.props;\n        let {\n            newContenu,\n            messages,\n        } = this.state;\n        if( this.state.newContenu && this.props.session && this.props.selectedUser.num_user){\n            let id = uuidV4();\n            console.log('id' , id)\n            let newMessageDisplay = {\n                id : id,\n                sent : false,\n                time_sent : '',\n                contenu : newContenu,\n                to : selectedUser.username,\n                from : session.username,\n            };\n            let newMessage = {\n                id : newMessageDisplay.id,\n                contenu : newContenu,\n                num_sender : session.num_user,\n                receivers : [ selectedUser.num_user ],\n            };\n            console.log('emit(send message)', newMessage);\n            \n            this.props.socket.emit('send message' , newMessage);\n            let newMessages = messages.slice();\n            newMessages.push(newMessageDisplay);\n            this.setState({\n                messages : newMessages,\n\n            });\n\n        }\n    }\n\n    scrollDown = () => {\n        const scroll = this.myScroll.current;\n        scroll.scrollTop = scroll.scrollHeight;\n    }\n\n    componentDidUpdate (prevProps , prevState){\n        if( prevProps.selectedUser.num_user !== this.props.selectedUser.num_user ) {\n            console.log('emit again');\n            this.props.socket.emit('get messages', this.props.session.num_user , this.props.selectedUser.num_user );\n        }\n    }\n\n    componentDidMount () {\n        console.log('MessageRoom mounted');\n        \n        if( this.props.selectedUser.num_user ) this.props.socket.emit('get messages', this.props.session.num_user , this.props.selectedUser.num_user );\n\n        \n        this.props.socket.on('message sent -messageRoom', (ms) => {\n            console.log('message sent -messageRoom', ms);\n            this.props.socket.emit('get tech_mains list');//update nb new message in activeUsers\n            let newMessages = this.state.messages.map(item => {\n                if (item.id === ms.num_message ) return { ... item , sent : true ,time_sent : new Date(ms.date_envoie).toLocaleString() };\n                else return item;\n            });\n            //if no ms yet in messages\n            if( !this.state.messages.find( msIn => msIn.id === ms.num_message) ) {\n                newMessages.push({ \n                    id : ms.num_message , \n                    sent : true,\n                    time_sent : new Date(ms.date_envoie).toLocaleString() ,\n                    contenu : ms.contenu_message ,\n                    from : ms.envoyeur_username ,\n                    to : ms.recepteur_username,\n                });\n            } \n            //console.log('newMessages',newMessages);\n            this.setState({\n                messages : newMessages,\n                newContenu : '',\n            });\n            this.scrollDown();\n        });\n\n        this.props.socket.on('messages -messageRoom', (messages)=>{\n            console.log('messages -messageRoom',messages);\n            if(messages){\n                let newMessages = messages.map( ms => {\n                    let seen = false;\n                    if( ms.date_reception ) {\n                        ms.date_reception = new Date( ms.date_reception ).toLocaleString('FR-fr');\n                        seen = true;\n                    }\n                    return ({\n                        id : ms.num_message ,\n                        sent : true,\n                        time_sent : new Date(ms.date_envoie).toLocaleString(),\n                        time_seen : ms.date_reception,\n                        seen,\n                    contenu : ms.contenu_message,\n                    to : ms.recepteur_username,\n                    from : ms.envoyeur_username,\n                });\n            });\n            console.log('newMessages +' , newMessages);\n            this.setState({\n                messages : newMessages,\n            });\n            this.scrollDown();\n            this.clickOnMessageRoom();\n        }\n\n    });\n\n    this.props.socket.on('new message -messageRoom' , (ms) => {\n        console.log('new message -messageRoom', ms);\n        let {\n            selectedUser,\n            session,\n        } = this.props;\n        this.props.socket.emit('get tech_mains list');//update nb new message in activeUsers\n            \n            if( this.props.selectedUser.num_user === ms.num_app_user_envoyeur){\n                let newMs = {\n                    id : ms.num_message,\n                    time_sent : new Date(ms.date_envoie).toLocaleString(),\n                    contenu : ms.contenu_message,\n                    sent : true,\n                    tim_seen : ms.date_reception,\n                    seen : false,\n                    from : ms.envoyeur_username,\n                    to : ms.recepteur_username,\n                };\n                console.log(newMs);\n                let newMessages = this.state.messages.slice();\n                newMessages.push(newMs);\n                this.setState({\n                    messages : newMessages,\n                });\n                this.scrollDown();\n            }\n        });\n\n        this.props.socket.on('updateMessages -messageRoom', (updatedMessages) => {\n            console.log('updateMessage -messageRoom' , updatedMessages);\n            let newMessages = this.state.messages.slice();\n            let updatedMessagesId = updatedMessages.map( ms => ms.num_message);\n            console.log('updatedMessagesId' , updatedMessagesId);\n            //update the message with the id = num_message\n            newMessages = newMessages.map( ms =>{\n                let indexInUpdateMessage = updatedMessagesId.findIndex(id => id === ms.id);//assuming that updateMessagesId maps perfectly updateMessage\n                console.log('indexInUpdateMessage', indexInUpdateMessage);\n                if( indexInUpdateMessage !== -1 ){\n                    let seen = !!(updatedMessages[indexInUpdateMessage].date_reception);\n                    return ({\n                        ... ms,\n                        time_seen : new Date(updatedMessages[indexInUpdateMessage].date_reception).toLocaleString('fr-FR'),\n                        seen,\n                    });\n                }else{\n                    return ms;\n                }\n            });\n\n            console.log('newMessages' , newMessages);\n            this.props.socket.emit('get nb new message', this.props.session.num_user);//update nb new message of main\n            this.props.socket.emit('get tech_mains list');\n            this.setState({\n                messages : newMessages,\n            });\n        });\n    }\n\n    \n\n    componentWillUnmount () {\n        console.log('MessageRoom unmount');\n        this.props.socket.off('message sent -messageRoom');\n        this.props.socket.off('messages -messageRoom');\n        this.props.socket.off('new message -messageRoom');\n        this.props.socket.off('updateMessages -messageRoom');\n    }\n\n    clickOnMessageRoom = () => {\n        console.log('clickOnMessageRoom');\n        //make all message seen;\n        console.log('clickOnMessageRoom state.message', this.state.messages);\n        let unseenMessagesByMe = this.state.messages.filter( ms => !ms.seen && !ms.time_seen && ms.to === this.props.session.username );\n        console.log('unseenMessagesByMe', unseenMessagesByMe);\n        if( unseenMessagesByMe.length > 0) this.props.socket.emit('app_user saw messages', unseenMessagesByMe);\n    };\n\n    render () {\n        let {\n            messages,\n            newContenu,\n        } = this.state;\n        let {\n            selectedUser,\n            session,\n        } = this.props;\n\n        let messagesElements = messages.map( ms => \n            <MessageElement key={ms.id}\n                message = {ms}\n                session = {session}\n                />\n        );\n        let display;\n        if(selectedUser.num_user){\n            display = (\n                <>\n                    <div className= \"header-messageRoom\">\n                        <p> {selectedUser.username} {(selectedUser.active) ? '[connecté]' : '[non-connecté]' } </p>\n                    </div>\n                    <div className= \"main-messageRoom\">\n                        <div className=\"scroll_list\" ref={this.myScroll}>\n                            {messagesElements}\n                        </div>\n                        <div className=\"input-messageRoom\">\n                            <form onSubmit={this.sendMessage}>\n                                <input value = {newContenu} type=\"text\" placeholder=\"Ecrire ici\" onChange={this.updateContenu} />\n                                <button onClick={this.sendMessage}> envoyer </button>\n                            </form>\n                        </div>\n                    </div>\n                </>\n            );\n\n        }else{\n            display = (\n                    <div className= \"header-messageRoom\">\n                        <p> aucun technicien selectionné </p>\n                    </div>\n            );\n        }\n        \n        return (\n            <div className= \"messageRoom\" onClick={this.clickOnMessageRoom}>\n                { display }\n            </div>\n        );\n    }\n}\n\nfunction MessageElement (props) {\n    /*\n     * props:\n     * - ms { id , contenu , to , from ,sent , time_sent }\n     * - session\n     */\n    let {\n        message,\n        session,\n    } = props;\n    let isSelf = (session.username === message.from);\n    let style ;\n    let divStyle ;\n    let display;\n    let fromDisplay = (\n            <p className=\"from-message\"> {message.from} : </p>\n    );\n    let indication = (\n        <div className=\"indication-message\">\n            <p> { (message.sent) ? `envoyé le ${message.time_sent}` : '' } </p>\n            <p> { (message.seen) ? `reçue le ${message.time_seen}` : 'non-reçue' } </p>\n        </div>\n    );\n    let contenu = (diStyle) => (\n        <div  className=\"contenu-message\" style={divStyle}>\n            {fromDisplay}\n            <p> {message.contenu}  </p>\n        </div>\n    );\n    if(isSelf){\n        //is Me\n        style = {\n            color : 'red',\n            justifyContent : 'flex-end',\n        };\n        divStyle = {\n            margin : '5px 0 5px 5px',\n            borderLeft : '1px solid grey',\n        }\n        display = (\n            <>\n                {indication}\n                {contenu(divStyle)}\n            </>\n        );\n\n    }else{\n        //not Me\n        style = {\n            color : 'black',\n            justifyContent : 'flex-start',\n        };\n        divStyle = {\n            margin : '5px 5px 5px 0',\n            borderRight : '1px solid grey',\n        }\n        display = (\n            <>\n                {contenu(divStyle)}\n                {indication}\n            </>\n        );\n    }\n    return (\n        <div className =\"messageElement\" style={style}>\n            {display}\n        </div>\n    );\n}\n","import './index.css';\nimport React , {useState} from 'react';\nimport ActiveUsers from './../activeUsers';\nimport MessageRoom from './../messageRoom';\n/*\n * props :\n * - socket : for getting data\n * - session: to identify self\n * - setNbNewMessageToZero :\n */\n\nexport default function MessagePage(props) {\n    let selectedUserFromState;\n    if( props.location.state && props.location.state.num_user && props.location.state.username ){\n        //setSelected_app_user_recepteur(props.match.location\n        //setSelected_app_user_recepteur({ ... props.location.state , active : true });\n        selectedUserFromState = { ... props.location.state , active : true};\n    }else{\n        selectedUserFromState = {};\n    }\n    let [selected_app_user_recepteur, setSelected_app_user_recepteur] = useState(selectedUserFromState);\n\n    return(\n        <div className=\"messagePage\">\n            <div className =\"side-messagePage\">\n                <ActiveUsers \n                    socket = {props.socket} \n                    session = {props.session}\n                    setSelectedUser = {setSelected_app_user_recepteur}\n                    selectedUser = {selected_app_user_recepteur}/>\n            </div>\n            <div className=\"main-messagePage\">\n                <MessageRoom \n                    socket={props.socket}\n                    selectedUser = {selected_app_user_recepteur}\n                    session={props.session}\n                    setNbNewMessageToZero={props.setNbNewMessageToZero}/>\n            </div>\n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component , useState } from 'react';\nimport InterventionSimple from './../interventionSimple';\nimport { v4 as uuidv4 } from 'uuid';\n\n/*\n * show all intervention chronologically from start to end\n * props:\n * - start local time\n * - end local time\n * - showSub to show the intervention page\n * - socket\n */\nexport default class InterventionTimeline extends Component{\n\n     constructor(props){\n         super(props);\n         let nbDay = new Date(this.props.end).getDay() - new Date(this.props.start).getDay() + 1;\n         this.state = {\n             interventionList : [],\n             nbDay : nbDay,\n         }\n     }\n\n    componentDidMount() {\n        console.log('InterventionTimeline mounted');\n        let {\n            session,\n            start ,\n            end ,\n        } = this.props;\n        let id = uuidv4();//id of the InterventionTimeline\n        //no need to ISOString anymore\n        start = new Date(new Date(start).setHours(3,0,0));//all is converted to UTC when send to server , I don't know why xD\n        //but we want to keep it local , so send local+3 , converted to UTC get local ( UTC = local - 3)\n        end = new Date(new Date(end).setHours(26,59,59));\n\n        console.log('before emit ', start , end);\n        this.props.socket.emit('get agenda' , start , end , session.num_user ,id );\n\n        this.props.socket.on('agenda -interventionTimeline -'+id , (intervByDay) => {\n            console.log('agenda -interventionTimeline' ,intervByDay);\n            intervByDay = intervByDay.map( item => ({\n                date : item.date,\n                intervList : sortByHour(item.intervList),\n            }));\n            console.log('intervByDay' , intervByDay);\n            console.log('nbDay' , this.state.nbDay);\n            this.setState({\n                interventionList : intervByDay,\n            });\n        });\n\n        this.props.socket.on('new intervention -interventionTimeline' , () => {\n            console.log('new intervention -interventionTimeline');\n            this.props.socket.emit('get agenda' , start , end , session.num_user ,id );\n        });\n         \n        this.props.socket.on('ended intervention -interventionTimeline' , () => {\n            console.log('ended intervention -interventionTimeline');\n            this.props.socket.emit('get agenda' , start , end , session.num_user ,id );\n        });\n\n//        this.props.socket.on('started intervention' , () => {\n//            this.props.socket.emit('get agenda' ,start , end ,session.num_user);\n//        });\n    }\n\n    componentWillUnmount(){\n        console.log('InterventionTimeline unmount');\n        this.props.socket.off('agenda -interventionTimeline');\n        this.props.socket.off('new intervention -interventionTimeline');\n        this.props.socket.off('ended intervention -interventionTimeline');\n    }\n\n    \n    render() {\n        let {\n            interventionList,\n        } = this.state;\n        let {\n            start ,\n            end ,\n        } = this.props;\n\n        let daySlotElemenst = interventionList.map( day => {\n            let slotElements = [];\n            for ( let i = 0 ; i < 24 ; i ++ ){\n                slotElements[i] = (\n                    <SlotTimeLine \n                        { ... this.props}\n                        key={i} \n                        start = {i} \n                        end = {i+1} \n                        date = {day.date}\n                        intervList = {day.intervList[i]} \n                        showSub={this.props.showSub}/>\n                );\n            }\n            return (\n                <div className=\"slotDay\" key={day.date}>\n                    <p className=\"date\"> { day.date }</p>\n                    {slotElements}\n                </div>\n            );\n\n        });\n        \n        return(\n            <div className=\"interventionTimeline\">\n                <div className=\"scroll_list\">\n                    { daySlotElemenst }\n                </div>\n            </div>\n        );\n    }\n}\nfunction sortByHour (intervList) {\n    console.log('sortByHour', intervList);\n    let res = {};\n    for ( let i = 0 ; i < 24 ; i++ ){\n        res = {\n            ... res,\n            [i] : intervList.filter( interv => {\n                //let _day = new Date().getDate();\n                //let startHour = new Date().setHours(i,0,0);\n                //let endHour = new Date().setHours(i,59,59);\n                ////first modify date so it is the same day\n                //let intervHour = new Date(new Date(interv.date_programme).setDate(_day)).getTime();\n                //console.log( new Date(startHour) ,new Date( endHour) , new Date(intervHour) );\n                //console.log( intervHour >= startHour && intervHour <= endHour);\n                //if( intervHour >= startHour && intervHour <= endHour) return true;\n                //else return false;\n                let intervHour = new Date(interv.date_programme).getHours();\n                //console.log( i , intervHour );\n                return (i === intervHour);\n            }),\n\n        };\n    }\n    return res;\n};\n\nfunction SlotTimeLine (props) {\n    /*\n     * props: - start \n     * - end\n     * - intervList\n     * - showSub to open InterventionPage\n     */\n    let {\n        start ,\n        end ,\n        intervList ,\n        date ,\n    } = props;\n    //date is dd/mm/yyyy\n    //so\n    let [ day , month , year ] = date.split('/');\n    date = new Date(`${year}-${month}-${day}`);\n    //our display only shows UTC , it will reduce anything by 3 \n    //let startHour = new Date().setHours(start+3,0,0,0);\n    //let freeTime = new Date(startHour);\n    let startHour = date.setHours(start+3,0,0,0);\n    let freeTime = new Date(startHour);\n\n    if( intervList.length ) {\n        //get the max\n        //normally it is the last as we use ASC in db\n        let newFreeTime = new Date(new Date(intervList[intervList.length-1].date_programme).setMilliseconds(0) + 4*60*60*1000);\n        console.log('newFreeTime', newFreeTime);\n        freeTime = newFreeTime;\n    }\n    //console.log('SlotTimeLine', intervList);\n    let intervElements = intervList.map( interv => \n        <InterventionSimple key={interv.num_intervention}\n            intervention={interv}\n            showSub={props.showSub} />\n    );\n\n    function goToCreateIntervention (state) {\n        props.history.push('/acim/creer', state);\n    }\n\n    return(\n        <div className =\"slotTimeLine\" onDoubleClick={()=> goToCreateIntervention({dateFree: {target : {value : new Date(freeTime).toISOString().replace('Z','')}}})}>\n            <p className=\"time\"> {start}H </p>\n            <div className=\"list\">\n                { intervElements }\n            </div>\n        </div>\n    );\n}\n\n","import './index.css';\nimport React , {Component} from 'react';\nimport FoldableDiv from './../foldableDiv';\nimport Intervention from './../intervention';\nimport InterventionTimeline from './../interventionTimeline';\n\n\nexport default class MyTask extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            interventionListUndone : [],\n            interventionListUndoneLate : [],\n            interventionListUndoneToday : [],\n            interventionListUndoneFuture : [],\n            listPendingIntervention : [],\n        }\n    }\n    componentDidMount = () => {\n        console.log('MyTask did mount');\n        this.props.socket.emit('get undone intervention' , this.props.session.num_user);\n        this.props.socket.emit('get pending intervention' , this.props.session.num_user);\n\n        this.props.socket.on('list undone intervention -myTask' , (listUndoneIntervention) => {\n            console.log('list undone intervention' , listUndoneIntervention);\n            let newList = listUndoneIntervention.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                date_debut : item.date_debut,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                commentaire :item.commentaire,\n            }));\n            for( const interv of newList ){\n                interv.children = newList.filter( item => item.num_intervention_pere === interv.num_intervention);\n            }\n            console.log('new list intervention undone' , newList);\n            if(this.props.setNbInterventionUndone){\n                this.props.setNbInterventionUndone(newList.length);\n            }\n            let endOfDay = new Date(new Date().setHours(23,59,59)).getTime();\n            let newListLate = newList.filter( item => {\n                if ( item.date_debut ) return false;\n                return new Date(item.date_programme).getTime() <= new Date().getTime() ;\n            }); \n            let newListToday = newList.filter( item => {\n                let interventionDate = new Date(item.date_programme).getTime() ;\n                let startOfDay  = new Date(new Date().setHours(0,0,0)).getTime();\n               \n                return ( interventionDate > startOfDay && interventionDate <= endOfDay );\n            });\n            let newListFuture = newList.filter( item => {\n                let interventionDate = new Date(item.date_programme).getTime() ;\n                return ( interventionDate > endOfDay );\n            });\n            console.log('newListToday' , newListToday);\n            console.log('newListLate' , newListLate);\n            this.setState({\n                interventionListUndone : newList,\n                interventionListUndoneLate : newListLate,\n                interventionListUndoneToday : newListToday,\n                interventionListUndoneFuture : newListFuture,\n            });\n        });\n        this.props.socket.on('pending intervention -myTask', (pendingInterventions) => {\n            console.log('pending intervention -myTask', pendingInterventions);\n            let newList = pendingInterventions.map( (item,index) => ({\n                num_intervention : item.num_intervention,\n                num_intervention_pere : item.num_intervention_pere,\n                date_programme : item.date_programme,\n                libelle_lieu : item.libelle,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                probleme_resolu : item.probleme_resolu,\n                libelle_probleme_tech_type : item.libelle_probleme_tech_type,\n                code_intervention_type : item.code_intervention_type,\n                children : item.children,\n                commentaire : item.commentaire,\n            }));\n            this.setState({\n                listPendingIntervention : newList,\n            });\n        });\n        //this.props.socket.on('new intervention' , ()=> {\n        //    console.log('new intervention todolist');\n        //    this.props.socket.emit('get undone intervention');\n        //});\n\n        //this.props.socket.on('ended intervention' , () => {\n        //    console.log('ended intervention todolist');\n        //    this.props.socket.emit('get undone intervention');\n        //});\n\n        //this.props.socket.on('intervention data -toDoList' , () => {\n        //    console.log('intervention date -toDoList');\n        //    this.props.socket.emit('get undone intervention');\n        //});\n        this.props.socket.on('new intervention -myTask', () => {\n            this.props.socket.emit('get undone intervention' , this.props.session.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.session.num_user);\n        });\n\n        this.props.socket.on('started intervention -myTask', (intervention) => {\n            console.log('started intervention -myTask');\n            this.props.socket.emit('get undone intervention' , this.props.session.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.session.num_user);\n        });\n        \n        \n        this.props.socket.on('ended intervention -myTask', (intervention) => {\n            console.log('ended intervention -myTask');\n            this.props.socket.emit('get undone intervention' , this.props.session.num_user);\n            this.props.socket.emit('get pending intervention' , this.props.session.num_user);\n        });\n    }\n    \n    componentDidUpdate () {\n        console.log('update MyTask');\n    }\n\n    clickOnToDoList = () => {\n    }\n\n    componentWillUnmount = () => {\n        console.log('ToDoList will unmount');\n        this.props.socket.off('list undone intervention -myTask');\n        this.props.socket.off('pending intervention -myTask');\n    }\n    displayToDo  = (list) => {\n        //return list.map( intervention => <ToDo intervention={intervention} key={intervention.num_intervention}/> );\n        return list.map( intervention => <Intervention showSub={this.props.showSub} intervention={intervention} key={intervention.num_intervention}/> );\n    }\n\n    render(){\n        \n        let{\n            interventionListUndoneLate,\n            interventionListUndoneToday,\n            interventionListUndone,\n            interventionListUndoneFuture,\n            listPendingIntervention,\n        } = this.state;\n        let retardTitle = `En retard : ${interventionListUndoneLate.length}`;\n        let pendingTitle = `En cours : ${listPendingIntervention.length}`;\n        let todayTitle = `Aujourd'hui : ${interventionListUndoneToday.length}`;\n        let futureTitle = `A venir : ${interventionListUndoneFuture.length}`;\n        let allTitle = `Toutes : ${interventionListUndone.length}`;\n        return (\n            <div id=\"toDoList\" onClick={this.clickOnToDoList}>\n                <p> {this.props.topText || 'Liste des taches a faire :'} </p>\n                    <div className=\"scroll_list\">\n                        <FoldableDiv title={retardTitle} titleStyle={{color : 'red'}} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(interventionListUndoneLate)}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={pendingTitle} titleStyle={{color : 'red'}} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(listPendingIntervention)}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={todayTitle} >\n                            <InterventionTimeline \n                                { ... this.props}\n                                session = {this.props.session}\n                                start={ new Date()}\n                                end = { new Date()}\n                                showSub = { this.props.showSub }\n                                socket = {this.props.socket}/>\n                        </FoldableDiv>\n                        <FoldableDiv title={futureTitle} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(this.state.interventionListUndoneFuture)}\n                            </div>\n                        </FoldableDiv>\n                        <FoldableDiv title={allTitle} folded={true}>\n                            <div className=\"scroll_list\">\n                                    {this.displayToDo(this.state.interventionListUndone)}\n                            </div>\n                        </FoldableDiv>\n                    </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport InterventionSimple from './../interventionSimple';\nimport InterventionTimeline from './../interventionTimeline';\n\n/*\n * props:\n * - routeProps for use of history.push\n * - session\n * - socket for getting data\n * - showSub\n * - date_debut\n * - date_fin\n * - close : to close the agenda\n */\n\nexport default class AgendaTimeline extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            dates : [], //{date , listInterv :[{ num_intervention , date_programme : date+heure , libelle_type_type , ...}]}\n            selectedInterv : {},\n        }\n\n    }\n    componentDidMount(){\n        console.log('AgendaTimeline did mount');\n        let{\n            date_debut,\n            date_fin,\n        } = this.props;\n\n        this.props.socket.emit('get date stats', date_debut , date_fin , this.props.session.num_user);\n\n        this.props.socket.on('date stats -agendaTimeline', (statsPerDate) => {\n            console.log('date stats' ,statsPerDate);\n            //[{date, stats :{nb_intervention}}]\n            this.setState({\n                dates : statsPerDate,\n            });\n        });\n        //this.setState({\n        //    dates : [\n        //        { date :'30/07/2021', stats: {nb_intervention : 2}},\n        //        { date : '31/07/2021' , stats : {nb_intervention : 2}}],\n        //});\n\n    }\n\n    componentWillUnmount(){\n        this.props.socket.off('date stats -agendaTimeline');\n    }\n\n    render(){\n        let{\n            dates,\n            selectedInterv,\n        } = this.state;\n        let agendaElements = dates.map(item => \n            <AgendaDay key = { item.date } \n                        {... this.props}\n                        date = { item.date } \n                        listInterv = {{length : item.stats.nb_intervention} } \n                        showSub = {this.props.showSub}\n                        selectedInterv = { selectedInterv }\n                        setSelectedInterv = {this.setSelectedInterv}\n            />\n        );\n        return(\n            <div className=\"agendaTimeline\">\n                {agendaElements}\n            </div>\n        );\n\n    }\n}\n\nfunction AgendaDay(props){\n    /*\n     * props:\n     * - date \n     * - listInterv: liste des interventions pour date\n     */\n\n    //let [ selectedInterv , setSelectedInterv ] = useState({});\n    let{\n        date,\n        listInterv,\n        selectedInterv,\n    } = props;\n\n    //get date in format yyyy-mm-dd\n    console.log('AgendaDay' , date);\n    let [ dayDD, monthMM , yearYY ] = date.split('/'); \n    console.log(dayDD, monthMM ,yearYY);\n    \n    let day  = new Date(`${yearYY}-${monthMM}-${dayDD}`);\n    console.log('AgendaDay' , day);\n    \n\n\n\n    \n\n    return(\n        <div className=\"agendaDay\" >\n            <p> {date} : {listInterv.length} intervention{(listInterv.length > 1) ? 's':''} </p>\n            <div className=\"listInterv-agendaDay\">\n                <InterventionTimeline\n                    {... props}\n                    session = {props.session}\n                    start={ day}\n                    end = { day}\n                    showSub = { props.showSub }\n                />\n            </div>\n            \n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component , useState} from 'react';\nimport Agenda from './../agenda';\nimport AgendaTimeline from './../agendaTimeline';\n\n/*\n * props:\n * - session\n * - socket\n * - showSub\n * - date_debut\n * - date_fin\n * - close\n * - setSelectedDate\n */\n\nexport default function BigAgenda(props){\n    let [ showTimeline , setShowTimeline ] = useState(false);\n\n    let display;\n    if(showTimeline) {\n        display = <AgendaTimeline {...props}/>\n    }else{\n        display = <Agenda {...props} showHeader={false}/>\n    }\n    return(\n        <div className=\"bigAgenda\">\n            <div className=\"control\">\n                <p>Agenda</p>\n                <label> Details\n                    <input type=\"checkbox\" \n                        value={showTimeline} \n                        onChange ={(e)=>setShowTimeline(e.target.checked)} />\n                </label>\n            </div>\n            <div className=\"display\">\n            {display}\n            </div>\n        </div>\n    );\n}\n","import './index.css';\nimport React , { Component } from 'react';\nimport check from './../../res/icon/check.png';\n\n/*\n * props:\n * - socket\n * \n */\n\nexport default class AnnonceList extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            annonces : [],\n        };\n        this.myScroll = React.createRef();\n    }\n    componentDidMount(){\n        console.log('annonceList mounted');\n        this.props.socket.emit('get annonce' , this.props.session.num_user);\n        \n        this.props.socket.on('annonces -annonceList', (annonces) => {\n            console.log('annonces -annonceList', annonces);\n            annonces.reverse();\n            this.setState({\n                annonces : annonces,\n            });\n            this.scrollDown();\n        });\n\n        this.props.socket.on('new annonce -annonceList', (annonce) => {\n            console.log('new annonce -annonceList', annonce);\n            this.props.socket.emit('get annonce' , this.props.session.num_user);\n        });\n\n        this.props.socket.on('updateAnnonce -annonceList' , () => {\n            console.log('updateAnnonce -annonceList');\n            this.props.socket.emit('get annonce' , this.props.session.num_user);\n        });\n        \n    }\n\n    scrollDown = () => {\n        const scroll = this.myScroll.current;\n        scroll.scrollTop = scroll.scrollHeight;\n    }\n\n    componentWillUnmount(){\n        console.log('annonceList unmount');\n        this.props.socket.off('annonces -annonceList');\n        this.props.socket.off('new annonce -annonceList');\n        this.props.socket.off('updateAnnonce -annonceList');\n    }\n\n    onClickAnnonceList = () => {\n        console.log('click on annonceList');\n        let unseenAnnonces = this.state.annonces.filter( annonce =>\n            !annonce.date_reception \n        );\n        console.log('unseen Annonces' , unseenAnnonces);\n        //look for tech_main saw\n        if( unseenAnnonces.length > 0 ) this.props.socket.emit('app_user saw messages', unseenAnnonces);\n\n    }\n    render(){\n        let { annonces } = this.state;\n        let annoncesElements;\n        if( annonces.length > 0){\n            annoncesElements = annonces.map( annonce =>\n                <Annonce key= { annonce.num_message} annonce={ annonce } />\n            );\n        }else{\n            annoncesElements = ( <p> Aucune annonce ... </p> );\n        }\n        return (\n            <div className=\"annonceList\" onClick={this.onClickAnnonceList}>\n                <div className = \"scroll_list\" ref={this.myScroll}>\n                    {annoncesElements}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction Annonce(props){\n    /*\n     * props :\n     * - annonce {envoyeur_username , contenu_message , date_envoie}\n     */\n    let{\n        envoyeur_username,\n        contenu_message,\n        date_envoie,\n        date_reception,\n    } = props.annonce;\n    return(\n        <div className=\"annonce\">\n            <div className=\"info\">\n            <div className=\"sender\">\n                <p> {envoyeur_username}: </p>\n            </div>\n            <div className=\"contenu\">\n                <p> {contenu_message} </p>\n            </div>\n            <div className=\"date\">\n                <p> { new Date(date_envoie).toLocaleString('fr-FR') } </p>\n            </div>\n            </div>\n            <div className=\"read\">\n                { date_reception &&\n                    //<p> { new Date(date_reception).toLocaleString('fr-FR')} </p>\n                    <img src= { check} alt =\"vue\" />\n                }\n            </div>\n        </div>\n    );\n}\n\n","import './index.css';\nimport React , { Component, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport AnnonceList from './../annonceList';\n\n/*\n * props:\n * - socket\n * - session\n */\n\nexport default function AnnoncePage(props){\n    let [ contenu , setContenu ] = useState('');\n    let{\n        session,\n    } = props;\n    function createAnnonce(e){\n        e.preventDefault();\n        console.log('create annonce' ,session.username, contenu)\n        if( contenu ){\n            //send the annonce\n            let annonce_id = uuidv4();\n            setContenu('');\n            props.socket.emit('create annonce' ,annonce_id, session.num_user , contenu);\n        }\n    }\n    let today_7 = new Date(new Date().getTime() - 7*24*60*60*1000).toLocaleDateString('fr-FR');\n    let today = new Date().toLocaleDateString('fr-FR');\n    return(\n        <div className=\"annoncePage\">\n            <div className=\"header\">\n                <p> Annonce </p>\n            </div>\n            <div className=\"display\">\n                <AnnonceList\n                    session = {props.session}\n                    socket = {props.socket}/>\n            </div>\n            <div className=\"input\">\n                <form onSubmit={createAnnonce}>\n                    <textarea placeholder=\"Annonce ...\" \n                        value={contenu} \n                        onChange={(e)=>setContenu(e.target.value) }>\n                    </textarea>\n                    <button className=\"myButton\"> Publier </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n","import './index.css';\nimport React, {Component} from 'react';\nimport logo from './../../res/logo/base_logo_4.png';\nimport user from './../../res/icon/user.png';\n\n/*\n * props:\n * - logout : function\n * - session\n */\n\nexport default class AppHeader extends Component {\n    render(){\n        return(\n            <div className=\"appHeader\">\n                <div className=\"username\">\n                    <img className=\"user_logo\" src={user} />\n                    <p> {this.props.session.username} </p>\n                </div>\n                <div className=\"logo-main\">\n                    <img src={logo} alt=\"mndpt|acimi\"/>\n                </div>\n                <div className=\"deconnecter\">\n                    <button onClick={this.props.logOut} className= \"myButton\"> se deconnecter </button>\n                </div>\n            </div>\n\n        );\n    }\n}\n","export default \"data:image/png;base64,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\"","import './index.css';\nimport React , { Component } from 'react' ;\n\n\n/*\n * props:\n * - session\n */\nexport default class RapportActivite extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date_debut : '',\n            date_fin : '',\n        }\n    }\n    getRapport = () => {\n        console.log('getRapport');\n        let { date_debut , date_fin } = this.state;\n        let { session } = this.props;\n        //get the server url , \n        const s_URL = new URL(document.location.href);\n        //may not need to change port\n        if(date_debut && date_fin && session.num_user){\n            const m_path = `/rapportActivite/acim/${session.num_user}/${date_debut}/${date_fin}`;\n            s_URL.port = 3500;\n            s_URL.pathname = m_path;\n            console.log('s_URL',s_URL);\n            window.open(s_URL, '_blank');\n        }\n    }\n\n    updateDebut = (e) => {\n        console.log('updateDebut '+e.target.value);\n        this.setState({\n            date_debut : e.target.value,\n        });\n    }\n    updateFin = (e) => {\n        console.log('updateFin '+e.target.value);\n        //must fin >= debut\n        let { date_debut } = this.state;\n        if( new Date(date_debut).getTime() > new Date(e.target.value).getTime() ){\n            e.target.value = date_debut;\n        }\n        this.setState({\n            date_fin : e.target.value,\n        });\n    }\n    render(){\n        let {\n            session,\n        } = this.props;\n        let {\n            date_debut,\n            date_fin,\n        } = this.state;\n        let btText = 'Generer';\n        if( date_debut && date_fin ){\n            let formatted_date_debut = new Date(date_debut).toLocaleDateString('fr-FR');\n            let formatted_date_fin = new Date(date_fin).toLocaleDateString('fr-FR');\n            btText = `Generer rapport du ${formatted_date_debut} au ${formatted_date_fin}`;\n            if(formatted_date_fin === formatted_date_debut ) btText = `Generer rapport du ${formatted_date_debut}`;\n        }\n        return(\n            <div className=\"rapportActivite\">\n                <p> {`Rapport d'Activité de`} {session.username} </p>\n                <div className=\"date_selector\">\n                    <label> Du : \n                        <input type=\"date\" value={date_debut} onChange={this.updateDebut}/>\n                    </label>\n                </div>\n                <div className=\"date_selector\">\n                    <label> au : \n                        <input type=\"date\" value={date_fin} onChange={this.updateFin}/>\n                    </label>\n                </div>\n                <button onClick={this.getRapport}> {btText} </button>\n                \n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React , { Component  } from 'react';\nimport Peer from 'peerjs';\n\n\n/*\n * props:\n * -userToCall : { num_user , username }\n * - deleteFromListToCall\n * - socket \n * - session\n */\n\nexport default class Caller extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            peerIds : [],\n            isCalling : false,\n            isConnected : false,\n            micIsOk : false,\n            indic : '',\n        }\n        this.myPeer = null ;\n        this.myCalls = {};\n        this.myAudioStream = null;\n    }\n    startCall = () => {\n        let { session  , userToCall } = this.props;\n        let { peerIds } = this.state;\n        let {\n            num_user,\n            username,\n        } = userToCall;\n        if(!this.state.isConnected || this.state.peerIds.length < 1 ){\n            this.setState({\n                indic : 'utilisateur non-connecté !!',\n            });\n        }\n\n        if(this.state.micIsOk && this.state.isConnected && this.state.peerIds.length){\n            console.log('call peer ', num_user);\n            //caller can have any id\n            this.myPeer = new Peer( undefined, {\n                host : '/',\n                path : '/peer/acim',\n                port : 3550,\n            });\n            this.myPeer.on('open' , (id) => {\n                console.log('connected to peerServer id ', id);\n            });\n\n            this.myPeer.on('connection' , (calledConn) => {\n                console.log('connection data label ', calledConn.label);\n                this.setState({\n                    indic : '... sonne',\n                });\n                this.myCalls[calledConn.metadata.peerId].monitorConn = calledConn;\n                this.myCalls[calledConn.metadata.peerId].monitorConn.on('close', () => {\n                    console.log('close calledConn  ', this.myCalls[calledConn.metadata.peerId].monitorConn.label);\n                    this.myCalls[calledConn.metadata.peerId].call.close();\n                    delete this.myCalls[calledConn.metadata.peerId];\n                    if( Object.keys(this.myCalls).length < 1){\n                        this.myAudioStream.getTracks().forEach(track => track.stop());\n                        this.setState({\n                            isCalling : false,\n                            indic : 'deconnecté !',\n                        });\n                    }\n                });\n                this.myCalls[calledConn.metadata.peerId].monitorConn.on('data',(msg) => {\n                    this.setState({\n                        indic : msg,\n                    });\n                });\n            });\n\n            this.myPeer.on('error' , (err) => {\n                console.log('caller this.myPeer error' , err);\n                this.setState({\n                    indic : 'Erreur',\n                });\n            });\n            navigator.mediaDevices.getUserMedia({ audio : true })\n                .then((stream) => {\n                    this.myAudioStream = stream;\n                    console.log('caller Stream', this.myAudioStream);\n                    let metadata = {\n                        username : session.username,\n                        num_user : session.num_user,\n                    };\n                    for( const peerId of peerIds){\n                        this.myCalls[peerId] = {};\n                        this.myCalls[peerId].call = this.myPeer.call(peerId , this.myAudioStream ,{metadata : metadata});\n                        this.setState({\n                            isCalling : true,\n                            indic : 'connexion ...'\n                        });\n                        this.myCalls[peerId].call.on('stream' , (streamBack) => {\n                            let audio = new Audio();\n                            audio.srcObject = streamBack;\n                            audio.play();\n                            console.log('accept this stream', streamBack);\n                            console.log('called Stream', streamBack);\n\n\n                            this.setState({\n                                indic : 'connecté !',\n                            });\n                        });\n                        this.myCalls[peerId].call.on('error' , () => {\n                            console.log('error in call');\n                        });\n\n                        this.myCalls[peerId].call.on('close' , () => {\n                            console.log('close the call in caller');\n                            this.myAudioStream.getTracks().forEach(track => track.stop());\n                            //this.setState({\n                            //    indic : 'deconnecté !',\n                            //    isCalling : false,\n                            //});\n                        });\n                    }\n                    \n                    this.myPeer.on('disconnected' , () => {\n                        stream.getTracks().forEach( track => track.stop());\n                    });\n\n\n                });\n        }\n\n    }\n\n    stopCall = () => {\n        //stop everything\n        console.log('stop stream' ,this.myAudioStream , this.myCalls);\n        \n        this.myAudioStream.getTracks().forEach(track => track.stop());\n        for ( const peerId of this.state.peerIds ) {\n            console.log('stop stream for peer ', peerId);\n            if( this.myCalls[peerId].monitorConn ) this.myCalls[peerId].monitorConn.close();\n            //if( this.myCalls[peerId].call ) this.myCalls[peerId].call.close(); NOT NEEDED monitorConn.close closes calls\n        }\n        this.myPeer.disconnect();\n        this.setState({\n            isCalling : false,\n            indic : '',\n        });\n    }\n\n    detectMic = async () => {\n        try{\n            let devices = await navigator.mediaDevices.enumerateDevices();\n            console.log('devices',devices);\n            let micIsOk = (devices.find(item => item.kind === 'audioinput')) ? true : false;\n            this.setState({\n                micIsOk,\n            });\n        }catch(err){\n            console.log(err);\n            this.setState({\n                micIsOk : false,\n            });\n        }\n    }\n\n    componentDidMount = async () => {\n        console.log('caller mounted');\n        //check for micro\n        await this.detectMic();\n        this.props.socket.emit('get list tech_main connected');//returns num_user of any user not just tech_main\n        this.props.socket.on('peer id',(peerIds) => {\n            console.log('peerIds', peerIds);\n            this.setState({\n                peerIds : peerIds,\n            });\n        });\n\n        this.props.socket.on('tech_main connected list -caller', (connectedUsers) => {\n            let isConnected = connectedUsers.includes(this.props.userToCall.num_user);\n            console.log('tech_main connected list -caller');\n            setTimeout(() => {\n                this.props.socket.emit('get peer id', this.props.userToCall.num_user);\n            }, 2000);//wait for client to register peer id in in server \n            this.setState({\n                isConnected,\n            });\n        });\n        \n    }\n\n    componentWillUnmount(){\n        console.log('caller unmount');\n        if(this.myPeer) this.myPeer.destroy();\n        this.props.socket.off('tech_main connected list -caller');\n        this.props.socket.off('peer id');\n        if(this.calledConn) this.calledConn.close();//reject from caller\n    }\n\n    render () {\n        let { userToCall } = this.props;\n        let {\n            peerIds,\n            isCalling,\n            micIsOk,\n            isConnected,\n            indic,\n        } = this.state;\n        let {\n            username ,\n            num_user ,\n        } = userToCall;\n        isConnected = (isConnected && peerIds.length);\n        let button = (<button className=\"myButton green\" onClick = {this.startCall}> Appeler </button>);\n        if (isCalling) button = (<button className=\"myButton\" onClick = {this.stopCall}> Raccrocher </button>);\n        return (\n            <div className= \"caller\">\n                <p> Appeler : {username} {(isConnected)? 'est connecté' : 'est hors-connexion'} </p>\n                <p> micro : {(micIsOk) ? 'OK' : 'probleme !!'} </p>\n                <p> {indic} </p>\n                <div className=\"control\">\n                    {button}\n                    <button onClick = {()=> this.props.deleteFromListToCall(userToCall)}> x </button>\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/correct_notif.a673b70c.wav\";","export default __webpack_public_path__ + \"static/media/notif1.47150c61.wav\";","import './index.css';\r\nimport logo from './../../res/logo/base_logo_sans_texte_2.png';\r\nimport React from 'react';\r\nimport {  Switch , Route , Redirect, NavLink   } from 'react-router-dom'; \r\nimport { mySocket } from './../../socket_io/socket_io';\r\nimport Dashboard from './../dashboard';\r\nimport NotifsHistory from './../notifsHistory';\r\nimport ToDoList from './../toDoList';\r\nimport InterventionPage from './../interventionPage';\r\nimport InterventionHistory from './../interventionHistory';\r\nimport MessagePage from './../messagePage';\r\nimport Mytask from './../mytask';\r\nimport NotifsList from './../notifsList';\r\nimport CreateIntervention from './../createIntervention';\r\nimport Agenda from './../agenda';\r\nimport AgendaTimeline from './../agendaTimeline';\r\nimport BigAgenda from './../bigAgenda';\r\nimport AnnoncePage from './../annoncePage';\r\nimport AppHeader from './../appHeader';\r\nimport RapportActivite from './../rapportActivite';\r\nimport Caller from './../caller';\r\nimport notif1 from './../../res/son/correct_notif.wav';\r\nimport notifMessage from './../../res/son/notif1.wav';\r\n\r\n/*\r\n * props:\r\n * - logOut\r\n * - session\r\n */\r\n\r\n\r\nexport default class Main extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            newNotifs : [\r\n                //{\r\n                    //num_notification : 'dede',\r\n                    //date_envoie : new Date().toLocaleString(),\r\n                    //probleme_type : 'prb_type',\r\n                    //probleme_statut : 'xxx',\r\n                    //probleme_statut_code : 'MAX',\r\n                    //lieu :'salle xxx',\r\n                //},\r\n            ],\r\n            nbUndoneIntervention : 0,\r\n            nbNewNotification : 0,\r\n            nbNewMessage :0,\r\n            nbNewAnnonce : 0,\r\n            showSub : false,\r\n            showNav : false,\r\n            numSelectedIntervention : null,\r\n            newMessageNotifs : [\r\n                //{\r\n                //    date_envoie: 'date_envoie',\r\n                //    envoyeur_username : 'from',\r\n                //    num_app_user_envoyeur : 'num_from',\r\n                //    num_message : 'num',\r\n                //},\r\n                \r\n            ],\r\n            listToCall : [],//list of those we want to call; {username, num_user}\r\n            showCall : false,\r\n        };\r\n        this.socket = mySocket.socket;\r\n        this.popUp = React.createRef();\r\n        this.popUpMessage = React.createRef();\r\n        this.notifSound = new Audio(notif1);\r\n        this.messageSound = new Audio(notifMessage);\r\n    }\r\n\r\n    addToListToCall = (newItem) => {\r\n        let newListToCall = this.state.listToCall.slice();\r\n        //only one per num_user\r\n        if( !newListToCall.find( item => item.num_user === newItem.num_user )){\r\n            newListToCall.push(newItem);//{num_user , username}\r\n            console.log('addToListToCall , newListToCall ', newListToCall);\r\n            this.setState({\r\n                listToCall : newListToCall,\r\n                showCall : true,\r\n            });\r\n        }else{\r\n            this.setState({\r\n                showCall : true,\r\n            });\r\n        }\r\n    }\r\n\r\n    deleteFromListToCall = (itemToDelete) => {\r\n        let newListToCall = this.state.listToCall.slice();\r\n        let indexToDelete = newListToCall.findIndex( item => item.num_user === itemToDelete.num_user );\r\n        newListToCall.splice(indexToDelete,1);\r\n       \r\n        this.setState({\r\n            listToCall : newListToCall,\r\n            showCall : (newListToCall.length > 0),\r\n        });\r\n\r\n    }\r\n\r\n    showSub  = (num_intervention) => {\r\n        let newShowSub;\r\n        if( this.state.numSelectedIntervention === num_intervention ){\r\n            //selected intervention hasn't change\r\n            newShowSub = !(this.state.showSub);\r\n            num_intervention = null;\r\n        }else newShowSub = true;\r\n        this.setState({\r\n            showSub : newShowSub,\r\n            numSelectedIntervention : num_intervention,\r\n        });\r\n    }\r\n    closeSub = () => {\r\n        this.setState({\r\n            showSub : false,\r\n            numSelectedIntervention : null,\r\n        });\r\n    }\r\n    nbNewNotificationPlus = (nb) => {\r\n        let newNb = nb || this.state.nbNewNotification + 1;\r\n        newNb = parseInt(newNb);\r\n        this.setState({\r\n            nbNewNotification : newNb,\r\n        });\r\n    }\r\n\r\n    setNbNewMessage = (nb) => {\r\n        let newNb = parseInt(nb)\r\n        this.setState({\r\n            nbNewMessage : newNb,\r\n        });\r\n    }\r\n\r\n    showPopUp = (ref) => {\r\n        ref.current.style.top = \"10px\";\r\n        setTimeout( () => {\r\n            ref.current.style.top = \"-1000px\";\r\n        }, 10000);\r\n\r\n    }\r\n\r\n    onClickNotif = () => {\r\n        let { url } = this.props.match;\r\n        //hide notif , and got to notification\r\n        this.popUp.current.style.top = \"-1000px\";\r\n        this.props.history.push(`${url}/notifs`);\r\n        \r\n    }\r\n\r\n    logOut = () => {\r\n        //disconnect all other socket\r\n        this.socket.emit('disconnect all');\r\n        this.props.logOut();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        //connect socket\r\n        console.log(' MAIN component did mount');\r\n        mySocket.connect( this.props.session.username , this.props.session.type_user, this.props.session.num_user);\r\n\r\n        this.socket.on('you have to disconnect', () => {\r\n            console.log('I have to disconnect');\r\n            this.props.logOut();\r\n        });\r\n        this.socket.on('new notif' , (createdNotif) => {\r\n            console.log('new notif received on main' , createdNotif);\r\n            //keep in newNotifs , last 5 notifs of less than two hours\r\n            let newNewNotifs = this.state.newNotifs.slice();\r\n            if(newNewNotifs.length > 4) newNewNotifs.pop();\r\n            newNewNotifs.unshift(createdNotif);\r\n            console.log('newNewNotifs' , newNewNotifs);\r\n            newNewNotifs = newNewNotifs.filter( (newNotif) => {\r\n                let now_2 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                console.log('now_2' , now_2 );\r\n                console.log( 'date_notif' ,date_notif); \r\n                console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                if( date_notif < now_2 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNewNotifs' , newNewNotifs);\r\n            this.showPopUp(this.popUp);\r\n            let newNbNewNotification = this.state.nbNewNotification + 1;\r\n            this.socket.emit('get nb unanswered notifs');\r\n            this.notifSound.play();\r\n            this.setState({\r\n                newNotifs : newNewNotifs,\r\n                nbNewNotification : newNbNewNotification,\r\n            })\r\n        });\r\n\r\n        this.socket.on('new message -main', (newMessage)=>{\r\n            console.log('new message -main', newMessage);\r\n            this.socket.emit('get nb new message', this.props.session.num_user);\r\n            let newNewMessageNotifs = this.state.newMessageNotifs.slice(); \r\n            if( this.props.location.pathname !== '/acim/message'){\r\n                newNewMessageNotifs.unshift(newMessage);\r\n                console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n                newNewMessageNotifs = newNewMessageNotifs.filter( (newNotif) => {\r\n                    let now_2 = new Date().getTime() - (10*60*1000);\r\n                    let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                    console.log('now_2' , now_2 );\r\n                    console.log( 'date_notif' ,date_notif); \r\n                    console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                    if( date_notif < now_2 ) return false;\r\n                    else return true;\r\n                });\r\n                console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n                this.showPopUp(this.popUpMessage);\r\n            }\r\n            //let newNbNewMessage = this.state.nbNewMessage + 1;\r\n            this.messageSound.play();\r\n            this.socket.emit('get nb new message', this.props.session.num_user);\r\n            this.setState({\r\n                newMessageNotifs : newNewMessageNotifs,\r\n                //nbNewMessage : newNbNewMessage,\r\n            });\r\n        });\r\n\r\n        this.socket.on('new annonce -main', (newAnnonce) => {\r\n            console.log('new annonce -main', newAnnonce);\r\n            this.socket.emit('get nb new annonce', this.props.session.num_user);\r\n            let newNewMessageNotifs = this.state.newMessageNotifs.slice();\r\n            newNewMessageNotifs.unshift(newAnnonce);\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            newNewMessageNotifs = newNewMessageNotifs.filter( (newNotif) => {\r\n                let now_2 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                console.log('now_2' , now_2 );\r\n                console.log( 'date_notif' ,date_notif); \r\n                console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                if( date_notif < now_2 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            this.showPopUp(this.popUpMessage);\r\n            this.messageSound.play();\r\n            this.setState({\r\n                newMessageNotifs : newNewMessageNotifs,\r\n                //nbNewMessage : newNbNewMessage,\r\n            });\r\n        });\r\n        \r\n\r\n        this.socket.emit('get nb new annonce', this.props.session.num_user);\r\n        this.socket.on('nb new annonce -main',(nbNewAnnonce) => {\r\n            console.log('nb new annonce', nbNewAnnonce);\r\n            this.setState({\r\n                nbNewAnnonce : nbNewAnnonce,\r\n            });\r\n        });\r\n\r\n        this.socket.emit('get notifs list unanswered');\r\n        this.socket.on('unanswered notifs nb', (nb) => {\r\n            console.log('unanswered notifs nb',nb);\r\n            this.nbNewNotificationPlus(nb);\r\n        });\r\n\r\n        this.socket.emit('get nb new message', this.props.session.num_user);\r\n        this.socket.on('nb new message -main', (nbNewMessage) =>{\r\n            console.log('nb new message -main', nbNewMessage);\r\n            this.setState({\r\n                nbNewMessage : nbNewMessage,\r\n            });\r\n        });\r\n\r\n        this.socket.emit('get nb undone intervention', this.props.session.num_user);\r\n        this.socket.on('nb intervention undone -main', (nb) => {\r\n            console.log('nb intervention undone -main', nb);\r\n            this.setState({\r\n                nbUndoneIntervention : nb,\r\n            });\r\n        });\r\n\r\n        this.socket.on('new intervention -main',(newInterv) => {\r\n            if(newInterv.num_app_user_tech_main_creator === this.props.session.num_user){\r\n                console.log('thats one more intervention for me');\r\n                this.socket.emit('get nb undone intervention' , this.props.session.num_user);\r\n            }\r\n        });\r\n        this.socket.on('ended intervention -main',(newInterv) => {\r\n            if(newInterv.num_app_user_tech_main_creator === this.props.session.num_user){\r\n                console.log('thats one less intervention for me');\r\n                this.socket.emit('get nb undone intervention' , this.props.session.num_user);\r\n            }\r\n        });\r\n\r\n        this.socket.on('updateAnnonce -main', () => {\r\n            console.log('updateAnnonce -main');\r\n            this.socket.emit('get nb new annonce', this.props.session.num_user);\r\n        });\r\n        \r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        //close socket connection\r\n        console.log('UNMOUNT main');\r\n        this.socket.off('new notif');\r\n        this.socket.off('nb tache undone');\r\n        this.socket.off('unanswered notifs nb');\r\n        this.socket.off('new message -main');\r\n        this.socket.off('nb new message -main');\r\n        this.socket.off('new annonce -main');\r\n        this.socket.off('nb new annonce -main');\r\n        this.socket.off('updateAnnonce -main');\r\n        this.socket.off('new intervention -main');\r\n        this.socket.off('ended intervention -main');\r\n        this.socket.offAny();\r\n        this.socket.removeAllListeners();\r\n        mySocket.socket.disconnect();\r\n    }\r\n\r\n    showNewNotifs = () => {\r\n        return (\r\n            this.state.newNotifs.map( notif => {\r\n                let statutStyle ;\r\n                switch (notif.probleme_statut_code){\r\n                    case 'MAX':\r\n                        statutStyle = {\r\n                            color : 'red',\r\n                        }\r\n                        break;\r\n                    case 'MID':\r\n                        statutStyle = {\r\n                            color : 'yellow',\r\n                        }\r\n                        break;\r\n                    case 'MIN':\r\n                        statutStyle = {\r\n                            color : 'blue',\r\n                        }\r\n                        break;\r\n                     default :\r\n                        break;\r\n                }\r\n                return (\r\n                    <div className = \"notif_pop_notif\" key={notif.num_notification} onClick={this.onClickNotif}>\r\n                        <p id=\"notif_time\">{new Date(notif.date_envoie).toLocaleTimeString('fr-FR')}</p>\r\n                        <p style={statutStyle}> {notif.probleme_statut} </p>\r\n                        <p> {notif.probleme_type} </p>\r\n                        <p> {notif.lieu} </p>\r\n                    </div>\r\n                );\r\n            })\r\n        );\r\n    }\r\n\r\n    onClickMessageNotif = (sender) => {\r\n        console.log('open message' , sender);\r\n        let { url } = this.props.match;\r\n        //hide notif , and got to notification\r\n        this.popUpMessage.current.style.top = \"-1000px\";\r\n        this.props.history.push(`${url}/message`, sender );\r\n    }\r\n\r\n    onClickAnnonceNotif = () => {\r\n        console.log('open annonce');\r\n        let { url } = this.props.match;\r\n        this.popUpMessage.current.style.top = \"-1000px\";\r\n        this.props.history.push(`${url}/annonce`);\r\n    }\r\n\r\n    goToCreateIntervention = (state) => {\r\n        this.props.history.push('/acim/creer', state);\r\n    }\r\n\r\n    showNewMessageNotifs = () => {\r\n        return(\r\n            this.state.newMessageNotifs.map( msNotif => {\r\n                let userFrom = {\r\n                    num_user : msNotif.num_app_user_envoyeur,\r\n                    username : msNotif.envoyeur_username,\r\n                }\r\n                let is_annonce = msNotif.is_annonce;\r\n                let display ;\r\n                let onClickFunc;\r\n                if( is_annonce ){\r\n                    display = <p> Nouvelle annonce de {userFrom.username} </p>; \r\n                    onClickFunc = ()=> this.onClickAnnonceNotif();\r\n                }else{\r\n                    display = <p> Nouveau message de {userFrom.username} </p>;\r\n                    onClickFunc = () =>this.onClickMessageNotif(userFrom);\r\n                }\r\n                return (\r\n                    <div className = \"notif_pop_notif\" onClick={onClickFunc} key={msNotif.num_message}>\r\n                        {display}\r\n                    </div>\r\n                );\r\n            })\r\n        );\r\n    }\r\n\t\r\n    showNav = () => {\r\n        //toggle showNav state\r\n        let newShowNav = !this.state.showNav;\r\n        this.setState({\r\n            showNav : newShowNav,\r\n        });\r\n    }\r\n    closeNav = () => {\r\n\r\n        if( this.state.showNav){\r\n            this.setState({\r\n                showNav : false,\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const screenWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n        let { path, url } = this.props.match;\r\n        let {\r\n            session,\r\n        } = this.props;\r\n        let { \r\n            showSub,\r\n            numSelectedIntervention ,\r\n            nbUndoneIntervention,\r\n            nbNewMessage,\r\n            nbNewNotification,\r\n            nbNewAnnonce ,\r\n            showNav,\r\n            showCall,\r\n            listToCall,\r\n        } = this.state;\r\n        let displayStyle ;\r\n        let subStyle ;\r\n        let navStyle;\r\n        let callListStyle;\r\n        let callElements;\r\n        let mainTabStyle;\r\n        let subDisplayChildrenStyle;\r\n        let today = new Date();\r\n        let todayPlus28 = new Date(today.getTime() + 28*24*60*60*1000);\r\n        if(showSub){\r\n            displayStyle = {\r\n                ...displayStyle,\r\n                display : 'none',\r\n            };\r\n            subStyle = {\r\n                ...subStyle,\r\n                width : '100%',\r\n            };\r\n        }else{\r\n            subStyle = {\r\n                ...subStyle,\r\n                width : '0px',\r\n            };\r\n            subDisplayChildrenStyle = {\r\n                ...subDisplayChildrenStyle,\r\n                display : 'none',\r\n            };\r\n        }\r\n        if(screenWidth <= 930){\r\n            //navStyle and mainTabStyle works\r\n            if(showNav){\r\n                navStyle = {\r\n                    display : 'flex',\r\n                }\r\n            }\r\n        }\r\n        if(showCall){\r\n            callListStyle = {\r\n                top : '20px',\r\n            };\r\n            callElements = listToCall.map(({username , num_user}) => \r\n                <Caller key={num_user} \r\n                    socket = {this.socket}\r\n                    session = {this.props.session}\r\n                    deleteFromListToCall = {this.deleteFromListToCall}\r\n                    userToCall = {{username , num_user}}/>\r\n            );\r\n\r\n        }\r\n                        //<div className=\"logo-main\">\r\n                        //    <img src={logo} alt=\"mndpt|acim\"/>\r\n                        //    \r\n                        //</div>\r\n                        //<p> {this.props.session.username} </p>\r\n                        //<button onClick={()=> this.showPopUp(this.popUp) }> show pop </button>\r\n                        //<button onClick={()=> this.showPopUp(this.popUpMessage) }> show pop message </button>\r\n                        //<button onClick={this.logOut}> se deconnecter </button>\r\n            return (\r\n                <div className=\"main_layout\" >\r\n                    <div className=\"notif_pop\" ref={this.popUp}>\r\n                        {this.showNewNotifs()}\r\n                    </div>\r\n                    <div className=\"notif_pop\" ref={this.popUpMessage}>\r\n                        {this.showNewMessageNotifs()}\r\n                    </div>\r\n                    <div className=\"call_list\" style={callListStyle}>\r\n                        <div className=\"header\">\r\n                            <p> Appels : </p>\r\n                            <button onClick = {()=> this.setState({showCall : false})}> X </button>\r\n                        </div>\r\n                        <div className=\"scroll_list\">\r\n                            {callElements}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"side_bt\">\r\n                        <button onClick={this.showNav}> ... </button>\r\n                    </div>\r\n                    <div className=\"header\">\r\n                        <AppHeader session={this.props.session} \r\n                                    logOut={this.logOut}/>\r\n                    </div>\r\n                    <div className=\"main_display\">\r\n                        <nav className=\"side_nav\" id=\"main_nav\" style={navStyle}>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/mytasknew`} onClick={this.closeSub}>Mes tâches{(nbUndoneIntervention>0) ? `(${nbUndoneIntervention})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/dashboard`} onClick={this.closeSub}>Tableau de bord</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/notifs`} onClick={this.closeSub}>Notifications{(nbNewNotification>0) ? `(${nbNewNotification})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/message`} onClick={this.closeSub}>Messages {(nbNewMessage>0) ? `(${nbNewMessage})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/annonce`} onClick={this.closeSub}>Annonces {(nbNewAnnonce>0) ? `(${nbNewAnnonce})` : ''}</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/agenda`} onClick={this.closeSub}>Agenda</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/creer`} onClick={this.closeSub}>Creer une intervention</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/notifsHistory`} onClick={this.closeSub}>Historiques des notifications</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/interventionHistory`} onClick={this.closeSub}>Historiques des interventions</NavLink>\r\n                            <NavLink activeClassName=\"active_navLink\"  to={`${url}/rapport`} onClick={this.closeSub}>{`Rapport d'activité`}</NavLink>\r\n                        </nav>\r\n                            <div className=\"main-tabDisplay\" style={mainTabStyle} onClick = {this.closeNav}>\r\n                                <div className=\"display\" style={displayStyle}>\r\n                                    <Switch>\r\n                                        <Route exact path={path}> \r\n                                            <Redirect to={`${path}/mytasknew`}/>\r\n                                        </Route>\r\n\r\n                                        <Route path={`${path}/dashboard`} render= {\r\n                                            (routeProps) => <Dashboard \r\n                                                                {...routeProps} \r\n                                                                socket={this.socket} \r\n                                                                session={this.props.session} \r\n                                                                showSub={this.showSub}\r\n                                                                closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                                />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/mytask`} \r\n                                                render = {\r\n                                                    (routeProps) => <ToDoList {...routeProps} \r\n                                                                        {...this.props} \r\n                                                                        showSub={this.showSub} \r\n                                                                        socket={this.socket} \r\n                                                                        num_tech_main={session.num_user} \r\n                                                                        topText={`Listes des taches a faire par ${session.username} :`}\r\n                                                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                                        />\r\n\r\n                                        }/>\r\n                                        <Route path={`${path}/mytasknew`} \r\n                                                render = {\r\n                                                    (routeProps) => <Mytask {...routeProps}\r\n                                                    showSub = {this.showSub}\r\n                                                    socket={this.socket}\r\n                                                    session = {this.props.session}/>\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/notifs`} \r\n                                                render = {\r\n                                                    (routeProps) => <NotifsList  {...routeProps} \r\n                                                    {...this.props} \r\n                                                    addToListToCall = {this.addToListToCall}\r\n                                                    deleteFromListToCall = {this.deleteFromListToCall}\r\n                                                    setNbNewNotif = {this.nbNewNotificationPlus}\r\n                                                    nbNewNotificationToZero = {() => this.nbNewNotificationPlus('0')} \r\n                                                    socket = {this.socket}/>\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/notifsHistory`} \r\n                                                render = { (routeProps) => \r\n                                                    <NotifsHistory  \r\n                                                        {...routeProps} \r\n                                                        session={this.props.session} \r\n                                                        socket={this.socket}\r\n                                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                        />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/interventionHistory`} \r\n                                                render = { (routeProps) => \r\n                                                    <InterventionHistory  {...routeProps} \r\n                                                        session={this.props.session} \r\n                                                        socket={this.socket} \r\n                                                        showSub={this.showSub}\r\n                                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                                        />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/message`}\r\n                                                render = { (routeProps) =>\r\n                                                    <MessagePage \r\n                                                        session = {this.props.session}\r\n                                                        socket={this.socket}\r\n                                                        { ... routeProps}\r\n                                                        setNbNewMessageToZero = { () => this.setNbNewMessage(0) }\r\n                                                    />\r\n\r\n                                        }/>\r\n                                        \r\n                                        <Route path={`${path}/annonce`}\r\n                                                render = { (routeProps) =>\r\n                                                     <AnnoncePage \r\n                                                        session = { this.props.session}\r\n                                                        socket={this.socket} />\r\n                                                }\r\n                                        />\r\n                                        <Route path={`${path}/creer`} render = {\r\n                                            (routeProps) => <CreateIntervention {...routeProps} \r\n                                                {...this.props}\r\n                                                showSub = {this.showSub}\r\n                                                socket = {this.socket}\r\n                                                session = {this.props.session}/>\r\n                                        }/>\r\n\r\n                                        <Route path= {`${path}/agenda`} render = {\r\n                                            (routeProps) => <BigAgenda \r\n                                                { ... routeProps}\r\n                                                session = { this.props.session }\r\n                                                socket = {this.socket}\r\n                                                showSub = {this.showSub}\r\n                                                date_debut = { today }\r\n                                                date_fin = { todayPlus28}\r\n                                                close = { ()=> console.log('fermer agenda')}\r\n                                                setSelectedDate = { (e) => this.goToCreateIntervention({dateFree : e })}//use e because we use e.target.value in createIntervention\r\n\r\n                                            />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/agendaSimple`} render = {\r\n                                            (routeProps) => <Agenda\r\n                                                session = { this.props.session }\r\n                                                socket = {this.socket}\r\n                                                showSub = {this.showSub}\r\n                                                date_debut = { today }\r\n                                                date_fin = { todayPlus28}\r\n                                                close = { ()=> console.log('fermer agenda')}\r\n                                                setSelectedDate = { (e) => this.goToCreateIntervention({dateFree : e })}//use e because we use e.target.value in createIntervention\r\n                                                />\r\n                                        }/>\r\n                                        \r\n                                        <Route path={`${path}/agendaTimeline`} render = {\r\n                                            (routeProps) => <AgendaTimeline               \r\n                                                { ... routeProps}\r\n                                                session = { this.props.session }\r\n                                                socket = {this.socket}\r\n                                                showSub = {this.showSub}\r\n                                                date_debut = { new Date('2021-07-01') }\r\n                                                date_fin = { new Date('2021-08-01')}\r\n                                                close = { ()=> console.log('fermer agenda')}\r\n                                                />\r\n                                        }/>\r\n\r\n                                        <Route path={`${path}/rapport`} render = {\r\n                                            (routeProps) => <RapportActivite \r\n                                                session = {this.props.session}\r\n                                                />\r\n                                        }/>\r\n\r\n                                    </Switch>\r\n                                </div>\r\n                                <div className=\"sub-display\" style={subStyle}>\r\n                                    <InterventionPage \r\n                                        num_intervention ={this.state.numSelectedIntervention} \r\n                                        {...this.props}  \r\n                                        style={subDisplayChildrenStyle} \r\n                                        closeSub ={()=> this.showSub(numSelectedIntervention)} \r\n                                        showSub = {this.showSub}\r\n                                        socket={this.socket}\r\n                                        />\r\n                                </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            );\r\n    }\r\n}\r\n                            //<NavLink activeClassName=\"active_navLink\"  to={`${url}/agendaSimple`} onClick={this.closeSub}>Agenda _simple</NavLink>\r\n                            //<NavLink activeClassName=\"active_navLink\"  to={`${url}/agendaTimeline`} onClick={this.closeSub}>Agenda_timeline</NavLink>\r\n","import './index.css';\r\nimport React from 'react';\r\nimport Dropdown from './../../utils/dropDown';\r\n\r\n\r\nexport default class Ask extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            listProblem : [],\r\n            listProblemStatut : [],\r\n            listLieu : [],\r\n            session : this.props.session,\r\n            problem : '',\r\n            num_probleme_type : '',\r\n            num_probleme_statut : '',\r\n            num_lieu : '',\r\n            remarque : '',\r\n            indication : ''\r\n        }\r\n    }\r\n    updateProblem = (e) => {\r\n       this.setState({\r\n           problem : e.target.value,\r\n       });\r\n    }\r\n    updateProblemType = (e) => {\r\n       this.setState({\r\n           num_probleme_type : e.target.value,\r\n       });\r\n    }\r\n    updateProblemStatut = (e) => {\r\n       this.setState({\r\n           num_probleme_statut : e.target.value,\r\n       });\r\n    }\r\n    updateLieu = (e) => {\r\n       this.setState({\r\n           num_lieu : e.target.value,\r\n       });\r\n    }\r\n    updateRemarque = (e) => {\r\n       this.setState({\r\n           remarque : e.target.value,\r\n       });\r\n    }\r\n    componentDidMount = () => {\r\n        console.log('ask mount');\r\n        //console.log(this.props.session);\r\n        //get the problems\r\n        if( this.props.socket ){\r\n            //get probleme spec : get listProbleme , statut , Lieu\r\n            this.props.socket.on('list problem', (listProblem) => {\r\n                console.log('list problem in ask' , listProblem );\r\n                let newListProblem = listProblem.map( item => {\r\n                    return { \r\n                        key : item.num_probleme_type,\r\n                        value : item.num_probleme_type,\r\n                        libelle : item.libelle,\r\n                        code: item.code,\r\n                    }\r\n                });\r\n                this.setState({\r\n                    listProblem : newListProblem,\r\n                    num_probleme_type : newListProblem[0].value,\r\n                });\r\n            });\r\n\r\n            this.props.socket.on('list problem_statut', (listProblemStatut) => {\r\n                console.log(' getting list problem_statut');\r\n                let newListProblemStatut = listProblemStatut.map( item => ({\r\n                    key : item.num_probleme_statut,\r\n                    value : item.num_probleme_statut,\r\n                    libelle : item.libelle,\r\n                }));\r\n\r\n                this.setState({\r\n                    listProblemStatut : newListProblemStatut,\r\n                    num_probleme_statut : newListProblemStatut[0].value,\r\n                });\r\n\r\n            });\r\n\r\n            this.props.socket.on('list lieu', (listLieu) => {\r\n                console.log(' getting list lieu');\r\n                let newListLieu = listLieu.map( item => ({\r\n                    key : item.num_lieu,\r\n                    value : item.num_lieu,\r\n                    libelle : item.libelle,\r\n                }));\r\n\r\n                this.setState({\r\n                    listLieu : newListLieu,\r\n                    num_lieu : newListLieu[0].value,\r\n                });\r\n            });\r\n\r\n            this.props.socket.on('I sent a notif', (createdNotif) => {\r\n                //alert('notification sent', createdNotif );\r\n                createdNotif.date_envoie = new Date(createdNotif.date_envoie).toLocaleString('fr-FR');\r\n                console.log('new notif in history');\r\n                this.props.nbNewNotifsPlus();\r\n                this.setState({\r\n                    indication : `Demande envoyee #${createdNotif.date_envoie}`,\r\n                });\r\n            });\r\n\r\n\r\n            this.props.socket.emit('get problem definition');\r\n        }else{\r\n            console.log( ' no socket in ask');\r\n        }\r\n\r\n    }\r\n\r\n    componentDidupdate = () => {\r\n        console.log('componentDidUpdate ask');\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        console.log('unmount ask');\r\n        this.props.socket.off('list problem');\r\n        this.props.socket.off('list problem_statut');\r\n        this.props.socket.off('list lieu');\r\n        this.props.socket.off('I sent a notif');\r\n    }\r\n\r\n    sendNotifs = () => {\r\n        //console.log('send notifs based on ' , this.state );\r\n        let selectedProblemTypeCode;\r\n        console.log('listProblem' , this.state.listProblem );\r\n        if ( this.state.listProblem.length !== 0 ) selectedProblemTypeCode = this.state.listProblem.find( problem => problem.key === this.state.num_probleme_type).code;\r\n        console.log(' selected problem type is ' + selectedProblemTypeCode );\r\n        //if code is OTH , remarque is required\r\n        if ( selectedProblemTypeCode === 'OTH' && !this.state.remarque ) {\r\n            //alert(' Vous devez ecrire une remarque');\r\n            this.setState({\r\n                indication : 'Vous devez ecrire une remarque',\r\n            });\r\n            return;\r\n        }\r\n        if(this.props.session && this.state.num_lieu && this.state.num_probleme_type && this.state.num_probleme_statut ){\r\n            //create the problem first\r\n            let newProblem = {\r\n                num_probleme_type : this.state.num_probleme_type,\r\n                num_probleme_statut : this.state.num_probleme_statut,\r\n                num_lieu : this.state.num_lieu,\r\n                remarque : this.state.remarque,\r\n            }\r\n            let newNotif = {\r\n                num_app_user_user : this.state.session.num_user,\r\n                newProblem,\r\n            }\r\n            console.log('send notif ' , newNotif );\r\n            this.props.socket.emit('notif' , newNotif );\r\n\r\n\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let indicationStyle ;\r\n        if( this.state.indication ){\r\n            //show indication\r\n            indicationStyle = {\r\n                opacity : 1,\r\n                right : 0,\r\n            }\r\n        }\r\n        return (\r\n            <div className=\"ask\">\r\n                <p>{ `Demande d'assistance`}</p>\r\n                <div className=\"dropdown-zone\">\r\n                    <p> Probleme  : </p>\r\n                    <Dropdown value={this.state.num_probleme_type} onChange={this.updateProblemType}  objArray={this.state.listProblem}/>\r\n                </div>\r\n                <div className=\"remarque-problem\">\r\n                    <p> remarque : </p>\r\n                    <textarea value= {this.state.remarque} onChange={this.updateRemarque} placeholder=\"remarque ici\" />\r\n                </div>\r\n                <div className=\"double-dropdown\">\r\n                    <div className=\"dropdown-zone\">\r\n                        <p> Urgence : </p>\r\n                        <Dropdown defaultValue=\"xx\" value={this.state.num_probleme_statut} objArray={this.state.listProblemStatut} onChange={this.updateProblemStatut}/>\r\n                    </div>\r\n                    <div className=\"dropdown-zone\">\r\n                        <p> Lieu : </p>\r\n                        <Dropdown  value={this.state.num_lieu} objArray={this.state.listLieu} onChange={this.updateLieu} />\r\n                    </div>\r\n                </div>\r\n                <button className=\"my-button\" onClick={ this.sendNotifs }> Envoyer </button>\r\n                <div className=\"indication\" style={indicationStyle}> { this.state.indication } </div> \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import './index.css';\nimport React from 'react';\nimport NotifHistory from './../notifHistory';\nimport { Urgent } from './../../urgent';\n\n\nexport default class History extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            notifsTab : [],\n        }\n    }\n    componentDidMount = () => {\n        //get all history :3 or a part of it \n        this.props.socket.emit('get notifs history', this.props.session.num_user);\n        this.props.socket.on('notifs history', (notifsTab) => {\n            console.log('notification history', notifsTab);\n            const newNotifsTab = notifsTab.map( item => ({\n                num_notification : item.num_notification,\n                probleme_type : item.probleme_type,\n                probleme_code : item.code,\n                statut_code : item.statut,\n                statut_libelle : item.statut_libelle,\n                lieu : item.lieu,\n                remarque : item.remarque || '-',\n                date_envoie : new Date(item.date_envoie).toLocaleString('fr-FR'),\n                num_app_user_tech_main : item.num_app_user_tech_main,\n                tech_main_username : item.tech_main_username || '-',\n                date_reponse : (item.date_reponse)? new Date(item.date_reponse).toLocaleString('fr-FR'): '-',\n                num_intervention : item.num_intervention || 'nd',\n                date_programme : (item.date_programme)? new Date(item.date_programme).toLocaleString('fr-FR'): '-',\n            }));\n            this.setState({\n                notifsTab : newNotifsTab,\n            });\n        });\n\n        this.props.socket.on('notif from tech_main' , () => {\n            //tech_main has taken charge of something\n            console.log('notif from tech_main in history js');\n            setTimeout( () => {\n                console.log('notif from tech_main');\n                this.props.socket.emit('get notifs history', this.props.session.num_user);\n            } , 5000);\n        });\n\n        \n        //get the nb of new notfis to zero\n        this.props.nbNewNotifsToZero();\n    }\n    displayNotif  = (list) => {\n        return list.map( notif => <NotifHistory showSub={this.props.showSub} notif={notif} key={notif.num_notification}/> );\n    }\n\n    componentWillUnmount = () => {\n        this.props.socket.off('notifs history');\n    }\n    render(){\n        return (\n            <div id=\"notifsList\">\n                <p> Historiques des notifications envoyees par {this.props.session.username}:  </p>\n                <div id=\"scroll_list-notifsList\">\n                    {this.displayNotif(this.state.notifsTab)}\n                </div>\n            </div>\n        );\n    }\n}\n","import './index.css';\nimport React from 'react';\nimport Intervention from './../intervention';\n\n\nexport default class Intervention_notification extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            interventionTab : [],\n        }\n    }\n    componentDidMount = () => {\n        console.log('component did mount intervention_notification');\n        this.props.socket.emit('get list intervention_notification',this.props.session.num_user);\n        this.props.socket.on('list intervention_notification',(notifList) => {\n            console.log('list intervention' , notifList);\n            let new_interventionTab = notifList.map( (item,index) => ({\n                num_intervention : item.num_intervention ,\n                code_intervention_type : item.code_intervention_type,\n                date_programme : item.date_programme,\n                lieu_libelle : item.lieu,\n                libelle_intervention_type : item.libelle_intervention_type,\n                tech_main_username : item.tech_main_username,\n                motif : item.motif,\n                numero : index + 1,\n                done : item.done,\n                children : item.children,\n                probleme_resolu : item.probleme_resolu,\n            }));\n            this.setState({\n                interventionTab : new_interventionTab,\n            });\n        });\n        this.props.socket.on('ended intervention', () => {\n            this.props.socket.emit('get list intervention_notification',this.props.session.num_user);\n        });\n\n    }\n\n    componentWillUnmount = () => {\n        console.log('intervention_notification will unmount');\n        this.props.socket.off('list intervention_notification');\n        //this.props.socket.off('ended intervention'); better in interventionPage as it is always mounted until we unmmount all\n    }\n    displayListInterevention = (list) => {\n        return list.map( intervention => {\n            \n            if ( intervention.num_intervention === this.props.numSelectedIntervention ){\n                return <Intervention {...this.props} intervention={intervention} key={intervention.num_intervention} selected={true}/>;\n            }else{\n                return <Intervention {...this.props} intervention={intervention} key={intervention.num_intervention} selected={false}/>;\n            }\n        });\n    }\n    render () {\n        return (\n            <div className=\"intervention_notification\">\n                <p> Interventions provenant des notifactions de {this.props.session.username} </p>\n                <div className=\"scroll_list\">\n                    {this.displayListInterevention(this.state.interventionTab)}\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/ringtone.8c85869d.wav\";","import './index.css';\nimport React , { Component } from 'react';\nimport ringtone from './../../res/son/ringtone.wav';\n\n/*\n * props:\n * - caller : username , num_user, call \n * - onClose\n * -socket\n *  - peer\n */\n\nexport default class Called extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            callOk : this.props.callOk || false,\n            isConnected : false,\n            micIsOk : false,\n            indic : '',\n        }\n        this.myAudioStream = null;\n        this.monitorConn = null;\n        this.ringtone = new Audio(ringtone);\n    }\n\n    acceptCall = () => {\n        let { micIsOk, isConnected } = this.state;\n        let { peer , caller } = this.props;\n        let { call } = caller;\n        console.log('accept call ', call);\n        //create myAudioStream\n        \n        console.log( 'micIsOk , isConnected ' , micIsOk , isConnected);\n        if(micIsOk && isConnected) {\n            this.ringtone.pause();\n            navigator.mediaDevices.getUserMedia({audio : true})\n                .then((stream) =>{\n                    this.myAudioStream = stream;\n                    console.log('called Stream', this.myAudioStream);\n                    call.answer(this.myAudioStream);\n                    this.monitorConn.send('Connecté');\n                    //establish a peer dataconnection\n                    //call.peer is peer id of caller , and it is unique so one possibility th peer in caller\n\n\n                    \n                   \n                    call.on('stream' , (streamBack) => {\n                        let audio = new Audio();\n                        audio.srcObject = streamBack;\n                        audio.play();\n                        console.log('accept this stream', streamBack);\n                        console.log('caller Stream', streamBack);\n                        //console.log( 'streamBack tracks ', streamBack.getTracks());\n                        this.setState({\n                            callOk : true,\n                            indic : 'connecté !'\n                        });\n                    });\n                    call.on('close', () => {\n                        console.log('close the call in callED');\n                        console.log('fin appel de', this.props.caller.username);\n                        console.log('stop stream' ,this.myAudioStream);\n                        this.myAudioStream.getTracks().forEach(track => track.stop());\n                        this.props.caller.call.close();\n                        //suppress the called\n                        this.setState({\n                            callOk : false,\n                        });\n                        this.monitorConn.close();\n                    });\n                    call.on('error' , () => {\n                        console.log('error in call');\n                    });\n                })\n                .catch((err)=>{\n                    console.log('error navigator.mediaDevices.getUserMedia in called', err);\n                    this.setState({\n                        micIsOk : false,\n                        indic : 'reception uniquement',\n                    });\n\n                    this.monitorConn.send('Connecté ,le micro du recepteur ne marche pas');\n                    \n                    //one way communication\n                    call.answer();\n                    //establish a peer datathis.monitorConnection\n                    //call.peer is peer id of caller , and it is unique so one possibility th peer in caller\n\n                    \n                   \n                    call.on('stream' , (streamBack) => {\n                        let audio = new Audio();\n                        audio.srcObject = streamBack;\n                        audio.play();\n                        console.log('accept this stream', streamBack);\n                        console.log('caller Stream', streamBack);\n                        //console.log( 'streamBack tracks ', streamBack.getTracks());\n                        this.setState({\n                            callOk : true,\n                        });\n                    });\n                    call.on('close', () => {\n                        console.log('close the call in callED');\n                        console.log('fin appel de', this.props.caller.username);\n                        console.log('stop stream' ,this.myAudioStream);\n                        if(this.myAudioStream) this.myAudioStream.getTracks().forEach(track => track.stop());\n                        this.props.caller.call.close();\n                        //suppress the called\n                        this.setState({\n                            callOk : false,\n                        });\n                        this.monitorConn.close();\n                    });\n                    call.on('error' , () => {\n                        console.log('error in call');\n                    });\n                });\n                \n        }else{\n            if(!micIsOk){\n                console.log('no mic');\n                this.ringtone.pause();\n                this.setState({\n                    micIsOk : false,\n                    indic : 'reception uniquement',\n                });\n\n                this.monitorConn.send('Connecté ,le micro du recepteur ne marche pas');\n                \n                //one way communication\n                call.answer();\n                //establish a peer datathis.monitorConnection\n                //call.peer is peer id of caller , and it is unique so one possibility th peer in caller\n\n                \n               \n                call.on('stream' , (streamBack) => {\n                    let audio = new Audio();\n                    audio.srcObject = streamBack;\n                    audio.play();\n                    console.log('accept this stream', streamBack);\n                    console.log('caller Stream', streamBack);\n                    //console.log( 'streamBack tracks ', streamBack.getTracks());\n                    this.setState({\n                        callOk : true,\n                    });\n                });\n                call.on('close', () => {\n                    console.log('close the call in callED');\n                    console.log('fin appel de', this.props.caller.username);\n                    console.log('stop stream' ,this.myAudioStream);\n                    if(this.myAudioStream) this.myAudioStream.getTracks().forEach(track => track.stop());\n                    this.props.caller.call.close();\n                    //suppress the called\n                    this.setState({\n                        callOk : false,\n                    });\n                    this.monitorConn.close();\n                });\n                call.on('error' , () => {\n                    console.log('error in call');\n                });\n            }\n        }\n        \n        \n    }\n\n    stopCall = () => {\n        console.log('fin appel de', this.props.caller.username);\n        console.log('stop stream' ,this.myAudioStream);\n        if(this.myAudioStream) this.myAudioStream.getTracks().forEach(track => track.stop());\n        this.props.caller.call.close();\n        this.ringtone.pause();\n        //like closing the call\n        this.close();\n        //suppress the called\n        this.setState({\n            callOk : false,\n            indic : '',\n        });\n    }\n\n\n    detectMic = async () => {\n        try{\n            if( navigator.mediaDevices ){\n                let devices = await navigator.mediaDevices.enumerateDevices();\n                console.log('devices',devices);\n                let micIsOk = (devices.find(item => item.kind === 'audioinput')) ? true : false;\n                console.log('detectMic micIsOk', micIsOk);\n                this.setState({\n                    micIsOk,\n                });\n            }else{\n                \n            }\n        }catch(err){\n            console.log('error in detectMic :',err);\n            this.setState({\n                micIsOk : false,\n            });\n        }\n    }\n\n    componentDidMount = async () => {\n        console.log('called mounted');\n        let { peer , caller } = this.props;\n        let { call } = caller;\n        //check for micro\n        await this.detectMic();\n        this.props.socket.emit('get list tech_main connected');//returns num_user of any user not just tech_main\n        if (call) this.ringtone.play();\n        //createa  monitoring connection\n        this.monitorConn = peer.connect( caller.call.peer , { label : 'audio', metadata : {peerId : peer.id} });\n        this.monitorConn.on('close',()=>{\n            //rejecting from tech\n            console.log('called this.monitorConn close');\n            this.close();\n            call.close();\n        });\n\n        this.monitorConn.on('error' , (err) => {\n            console.log('monitorConn error' ,err);\n            this.ringtone.pause();\n        });\n\n        this.props.socket.on('tech_main connected list -called', (connectedUsers) => {\n            console.log('tech_main connected list -called', connectedUsers);\n            let isConnected = connectedUsers.includes(this.props.caller.num_user);\n            this.setState({\n                isConnected,\n            });\n        });\n        \n    }\n\n    componentWillUnmount(){\n        console.log('called unmount');\n        this.props.socket.off('tech_main connected list -called');\n        if(this.myAudioStream) this.myAudioStream.getTracks().forEach(track => track.stop());\n        this.props.caller.call.close();\n        this.ringtone.pause();\n    }\n\n    close = () => {\n        //close the called component\n        console.log('close called');\n        this.monitorConn.close();\n        this.props.onClose();\n    }\n\n    render(){\n        let {\n            micIsOk,\n            callOk,\n            isConnected,\n            indic,\n        } = this.state;\n        let {\n            caller,\n        } = this.props;\n\n        let button = (<button onClick={this.stopCall}> Raccrocher </button>) ;\n        if(!callOk){\n            button =(<button onClick={this.acceptCall}> Accepter </button>);\n        }\n        \n        return(\n            <div className=\"called\">\n                <p> Appel de {caller.username}</p>\n                <p> micro : {(micIsOk) ? 'OK' : 'probleme !!'} </p>\n                <p> { indic } </p>\n                <div className=\"control\">\n                    {button}\n                    <button onClick={this.close}> x </button>\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/flute_notif.df9fcaa1.wav\";","import './index.css';\r\nimport React from 'react';\r\nimport {  Switch , Route , Redirect, NavLink , } from 'react-router-dom'; \r\nimport Ask from './../ask';\r\nimport History from './../history';\r\nimport InterventionNotification from './../interventionNotification';\r\nimport InterventionPage from './../interventionPage';\r\nimport AnnonceList from './../annonceList';\r\nimport AppHeader from './../appHeader';\r\nimport Called from './../called';\r\nimport { mySocket } from './../../socket_io/socket_io';\r\nimport flute_notif from './../../res/son/flute_notif.wav';\r\nimport notifMessage from './../../res/son/notif1.wav';\r\nimport Peer from 'peerjs';\r\n\r\n\r\nexport default class Notify extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            nbNewNotifs : 0,\r\n            notifsList : [\r\n            ],\r\n            nbNewAnnonce : 0,\r\n            newMessageNotifs : [\r\n                                //{\r\n                //    date_envoie: 'date_envoie',\r\n                //    envoyeur_username : 'from',\r\n                //    num_app_user_envoyeur : 'num_from',\r\n                //    num_message : 'num',\r\n                //},\r\n\r\n            ],\r\n            callers : [],\r\n            showSub : false,\r\n            showCall : false,\r\n            numSelectedIntervention : null ,\r\n        }\r\n        this.socket = mySocket.socket;\r\n        this.myPeer = null;//is socket.id , we get it in get nb new annonce\r\n        this.notify_notif_pop = React.createRef();\r\n        this.message_notifs_pop = React.createRef();\r\n        this.notifSound = new Audio(flute_notif);\r\n        this.messageSound = new Audio(notifMessage);\r\n        //this.sub_display = React.createRef();\r\n\r\n    }\r\n\r\n    addToCallers = (newItem) => {\r\n        let newCallers = this.state.callers.slice();\r\n        //only one per num_user\r\n        if( !newCallers.find( item => item.num_user === newItem.num_user )){\r\n            newCallers.push(newItem);//{num_user , username , call}\r\n            console.log('addToCallers , newCallers ', newCallers);\r\n            this.setState({\r\n                callers : newCallers,\r\n                showCall : true,\r\n            });\r\n        }else{\r\n            this.setState({\r\n                showCall : true,\r\n            });\r\n        }\r\n    }\r\n\r\n    deleteFromCallers = (itemToDelete) => {\r\n        let newCallers = this.state.callers.slice();\r\n        let indexToDelete = newCallers.findIndex( item => item.num_user === itemToDelete.num_user );\r\n        newCallers.splice(indexToDelete,1);\r\n        let newShowCall = this.state.showCall;\r\n        if(newCallers.length < 1) newShowCall = false;\r\n        this.setState({\r\n            callers : newCallers,\r\n            showCall : newShowCall,\r\n        });\r\n\r\n    }\r\n\r\n    nbNewNotifsPlus = (nb) => {\r\n        console.log('new notifs ++');\r\n        \r\n        let newNb = nb || this.state.nbNewNotifs + 1;\r\n        //nb if defined to be 0 needs to be a string , !('0') is true so nbNewNotifs becomes a string and may lead to some strange behaviour so parseInt is used\r\n        newNb = parseInt(newNb);\r\n        console.log('new notifs ', newNb);\r\n        this.setState({\r\n            nbNewNotifs : newNb,\r\n        });\r\n    }\r\n    logOut = () => {\r\n        this.socket.emit('disconnect all');\r\n        this.props.logOut();\r\n    }\r\n\r\n    showNotif = (ref) => {\r\n        console.log('show Notif');\r\n        ref.current.style.top = '157px';\r\n        setTimeout( ()=> {\r\n            ref.current.style.top = '-1000px'\r\n        }, 10000);\r\n    }\r\n\r\n    hideNotif = (ref) => {\r\n        ref.current.style.top = '-1000px';\r\n    }\r\n\r\n    showSubWithInfo = (num_intervention) => {\r\n        let newShowSub;\r\n        if( this.state.numSelectedIntervention === num_intervention ) {\r\n            newShowSub = !(this.state.showSub);\r\n            num_intervention = null;\r\n        }\r\n        else newShowSub = true;\r\n        this.setState({\r\n            showSub : newShowSub,\r\n            numSelectedIntervention : num_intervention ,\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        //initialize a client socket io\r\n        mySocket.connect( this.props.session.username , this.props.session.type_user , this.props.session.num_user );\r\n\r\n        console.log('notify mounted , socket id ', mySocket.id);\r\n\r\n        this.socket.on('you have to disconnect', () => {\r\n            this.props.logOut();\r\n        });\r\n\r\n        this.socket.emit('get nb new annonce', this.props.session.num_user , 'notify');\r\n        this.socket.on('nb new annonce -notify', (nbNewAnnonce) => {\r\n            console.log('nb new annonce -notify', nbNewAnnonce);\r\n            this.setState({\r\n                nbNewAnnonce : nbNewAnnonce,\r\n            });\r\n        });\r\n\r\n        this.socket.on('notif from tech_main' , ({tech_main_username , probleme_type , date_envoie  ,lieu ,num_notification, date_programme , date_reponse}) => {\r\n            console.log('notif from tech_main' , tech_main_username , probleme_type , date_envoie  );\r\n            let date_envoie_formatted = new Date(date_envoie).toLocaleString('fr-FR');\r\n            //show notif saying a sentence\r\n            const notif = {\r\n                tech_main_username,\r\n                probleme_type,\r\n                lieu,\r\n                date_envoie_formatted : date_envoie_formatted,\r\n                date_envoie,\r\n                date_reponse,\r\n                date_programme : new Date(date_programme).toLocaleString('fr-FR'),\r\n                text : `${tech_main_username} arrive pour le probleme : \" ${probleme_type} \" lieu : ${lieu} - notifie le ${date_envoie_formatted} `,\r\n                key : num_notification,\r\n            }\r\n            let newNotifsList = this.state.notifsList.slice();\r\n            if(newNotifsList.length > 4) newNotifsList.pop();\r\n            newNotifsList.unshift(notif);\r\n            newNotifsList = newNotifsList.filter( item => {\r\n                let now_10 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(item.date_reponse).getTime();\r\n                if(date_notif < now_10 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNotifsList', newNotifsList );\r\n            this.showNotif(this.notify_notif_pop);\r\n            this.notifSound.play();\r\n            this.setState({\r\n                notifsList : newNotifsList,\r\n            });\r\n        });\r\n\r\n        this.socket.on('new annonce -notify' , (newAnnonce) => {\r\n            console.log('new annonce -notify', newAnnonce);\r\n            let newNewMessageNotifs = this.state.newMessageNotifs.slice();\r\n            newNewMessageNotifs.unshift(newAnnonce);\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            newNewMessageNotifs = newNewMessageNotifs.filter( (newNotif) => {\r\n                let now_2 = new Date().getTime() - (10*60*1000);\r\n                let date_notif = new Date(newNotif.date_envoie).getTime();\r\n                console.log('now_2' , now_2 );\r\n                console.log( 'date_notif' ,date_notif); \r\n                console.log ( ' date_notif is more than 10 minutes old ' , date_notif < now_2 );\r\n                if( date_notif < now_2 ) return false;\r\n                else return true;\r\n            });\r\n            console.log('newNewMessageNotifs' , newNewMessageNotifs);\r\n            this.showNotif(this.message_notifs_pop);\r\n            this.messageSound.play();\r\n            this.socket.emit('get nb new annonce' , this.props.session.num_user , 'notify');\r\n            this.setState({\r\n                newMessageNotifs : newNewMessageNotifs,\r\n                //nbNewMessage : newNbNewMessage,\r\n            });\r\n        });\r\n\r\n        this.socket.on('updateAnnonce -notify', () =>{\r\n            console.log('updateAnnonce -notify');\r\n            this.socket.emit('get nb new annonce', this.props.session.num_user , 'notify');\r\n        });\r\n\r\n        this.socket.emit('get socket id');\r\n        this.socket.on('socket id' , (socket_id) => {\r\n            console.log('socket id',socket_id);\r\n            //init peer connection\r\n            this.myPeer = new Peer ( socket_id , {\r\n                host : '/',\r\n                path : '/peer/acim',\r\n                port : 3550,\r\n            });\r\n\r\n            this.myPeer.on('open' , (id) => {\r\n                console.log('connected to peerServer id ', id);\r\n                this.socket.emit('register peer id', this.props.session.num_user , id);\r\n            });\r\n\r\n            this.myPeer.on('error' , (err) => {\r\n                console.log('notify this.myPeer error' , err);\r\n            });\r\n\r\n\r\n            this.myPeer.on('call' , (call) => {\r\n                let usernameCaller = call.metadata.username;\r\n                let num_userCaller = call.metadata.num_user;\r\n                let newCaller = {\r\n                    call,\r\n                    username : usernameCaller,\r\n                    num_user : num_userCaller,\r\n                }\r\n                //add to callers and show call\r\n                this.addToCallers(newCaller);\r\n                \r\n               // navigator.mediaDevices.getUserMedia({audio : true})\r\n               //     .then((stream) =>{\r\n               //         this.myAudioStream = stream;\r\n               //         console.log('my stream ', this.myAudioStream);\r\n               //         call.answer(this.myAudioStream);\r\n               //         call.on('stream' , (streamBack) => {\r\n               //             let audio = new Audio();\r\n               //             audio.srcObject = streamBack;\r\n               //             audio.play();\r\n               //             console.log('accept this stream', streamBack);\r\n               //         });\r\n               //         call.on('close', () => {\r\n               //             console.log('call stopped');\r\n               //         });\r\n               //         call.on('error' , () => {\r\n               //             console.log('error in call');\r\n               //         });\r\n               //     });\r\n                //we accept in called\r\n                //call.answer();\r\n                //call.on('stream' , (stream) => {\r\n                //    console.log( usernameCaller +' is calling ,sending this ',stream);\r\n                //});\r\n                //\r\n                //call.on('close' , () => {\r\n                //    //not on firfox\r\n                //    console.log('call stopped');\r\n                //});\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        console.log('unmount notify');\r\n        this.socket.off('list problem');\r\n        this.socket.off('list problem_statut');\r\n        this.socket.off('list lieu');\r\n        this.socket.off('notif from tech_main');\r\n        this.socket.off('new annonce -notify');\r\n        this.socket.off('nb new annonce -notify');\r\n        this.socket.off('socket id');\r\n        this.socket.offAny();\r\n        this.myPeer.destroy();\r\n        mySocket.disconnect();\r\n    }\r\n\r\n    formatNotifsList = (notifsList) => {\r\n        return (\r\n            notifsList.map( item => \r\n                <div className=\"notify_notif\" key={item.key} onClick={()=> this.hideNotif(this.notify_notif_pop)}>\r\n                    <p> Intervention de {item.tech_main_username} à {item.date_programme}</p>\r\n                    <p> probleme : {item.probleme_type} -- {item.lieu} </p>\r\n                    <p> notifiee le : {item.date_envoie_formatted} </p>\r\n                </div>\r\n            )\r\n        );\r\n\r\n    }\r\n\r\n    openAnnonce = () => {\r\n        console.log('open annonce');\r\n        let { url } = this.props.match;\r\n        this.message_notifs_pop.current.style.top = '-1000px';\r\n        this.props.history.push(`${url}/annonce`);\r\n    }\r\n\r\n    render () {\r\n        const screenWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n        let {\r\n            numSelectedIntervention,\r\n            newMessageNotifs,\r\n            nbNewAnnonce,\r\n            showCall,\r\n            callers,\r\n        } = this.state;\r\n        let callStyle;\r\n        let callersElement;\r\n        let subStyle ;\r\n        let tabDisplayStyle ;\r\n        let subDisplayChildrenStyle;\r\n        let messageNotifDisplay;\r\n        if ( this.state.showSub ) {\r\n            subStyle = {\r\n                width : '45%',\r\n            }\r\n            if( screenWidth <= 930 ){\r\n                subStyle = {\r\n                    width : '100%',\r\n                };\r\n                tabDisplayStyle = {\r\n                    width : '0',\r\n                    background : 'red',\r\n                    display : 'none',\r\n                };\r\n            }\r\n           \r\n        }else{\r\n            subStyle = {\r\n                background : 'black',\r\n                width : '0px',\r\n                display : 'none',\r\n            };\r\n            subDisplayChildrenStyle = {\r\n                display : 'none',\r\n            };\r\n        }\r\n\r\n        messageNotifDisplay = newMessageNotifs.map( newMs => {\r\n            if(newMs.is_annonce){\r\n                return <p onClick = {this.openAnnonce} \r\n                            className=\"notify_notif\"\r\n                            key={newMs.num_message}>\r\n                        Nouvelle annonce de la DSI </p>;\r\n            }\r\n        });\r\n\r\n        if(showCall){\r\n            callStyle = {\r\n                left : '50px',\r\n            };\r\n            callersElement = callers.map( caller => \r\n                <Called key = {caller.num_user} \r\n                    caller={caller} \r\n                    onClose={ () => this.deleteFromCallers(caller)}\r\n                    peer = {this.myPeer}\r\n                    socket={this.socket}/>\r\n            )\r\n        }else{\r\n\r\n        }\r\n \r\n        return (\r\n            <div className=\"notify_layout\">\r\n                <AppHeader session={this.props.session} \r\n                                logOut={this.logOut}/>\r\n                <div className=\"notify_display\">\r\n                    <TabDisplay {...this.state} \r\n                                style={tabDisplayStyle} \r\n                                {...this.props} \r\n                                socket = {this.socket} \r\n                                nbNewNotifsPlus={this.nbNewNotifsPlus} \r\n                                showSub={this.showSubWithInfo} \r\n                                numSelectedIntervention={this.state.numSelectedIntervention}\r\n                                nbNewAnnonce={nbNewAnnonce}>\r\n                    </TabDisplay>\r\n                    <div className=\"sub-display\" style={subStyle}>\r\n                        <InterventionPage  num_intervention ={this.state.numSelectedIntervention} \r\n                                            {...this.props} \r\n                                            socket={this.socket} \r\n                                            style={subDisplayChildrenStyle} \r\n                                            closeSub={()=> this.showSubWithInfo(numSelectedIntervention)}/>\r\n                    </div>\r\n                    <div className=\"notify_notif_pop\" ref={this.notify_notif_pop} >\r\n                        {this.formatNotifsList(this.state.notifsList)}\r\n                    </div>\r\n                    <div className=\"notify_notif_pop\" ref={this.message_notifs_pop} >\r\n                        {messageNotifDisplay}\r\n                    </div>\r\n                    <div className=\"call\" style={callStyle} >\r\n                        {callersElement}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction TabDisplay(props){\r\n    let { path, url } = props.match;\r\n    return (\r\n            <div className=\"tab-display\" style={props.style}>\r\n                <nav className=\"notify_nav\">\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/annonce`}>{ `Annonces de la DSI`}{ (props.nbNewAnnonce > 0) ? `(${props.nbNewAnnonce})` : ''}</NavLink>\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/ask`}>{ `Demande d'assistance`}</NavLink>\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/history`}>Historiques des demandes{(props.nbNewNotifs>0) ? `(${props.nbNewNotifs})`: ``}</NavLink>\r\n                    <NavLink activeClassName=\"active_navLink_notify\" to={`${url}/intervention`}>Interventions</NavLink>\r\n                </nav>\r\n                <div className=\"display\">\r\n                        {props.children}\r\n                        <Switch>\r\n                            <Route path={`${path}/annonce`} \r\n                                    render= {\r\n                                        (routeProps) => <AnnonceList \r\n                                                            session={props.session}\r\n                                                            socket={props.socket} />\r\n                                    }\r\n                            />\r\n                            <Route path={`${path}/ask`} render= {\r\n                                (routeProps) =>  <Ask {...routeProps} session={props.session} socket={props.socket} nbNewNotifsPlus={props.nbNewNotifsPlus} />\r\n                            }/>\r\n                            <Route path={`${path}/history`} render= {\r\n                                (routeProps) => <History {...routeProps} session={props.session} socket={props.socket} nbNewNotifsToZero={() => props.nbNewNotifsPlus('0') } showSub={props.showSub} numSelectedIntervention={props.numSelectedIntervention}/>\r\n                            }/>\r\n                            <Route path={`${path}/intervention`} render= {\r\n                                (routeProps) => <InterventionNotification {...routeProps} {...props} socket={props.socket} showSub={props.showSub} numSelectedIntervention={props.numSelectedIntervention}/> \r\n                            }/>\r\n                            <Redirect exact from={path} to={`${path}/ask`} />\r\n                        </Switch>\r\n                </div>\r\n            </div>\r\n\r\n    );\r\n\r\n}\r\n","/*protected route component\r\n * path : the path\r\n * takes conditionIn : a function that determines wether the condition to access the route is verified\r\n * render : the render function of the route component \r\n * redirectRender : the redirect in case the conditionIn is false\r\n *\r\n */\r\nimport React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nexport default class ProtectedRoute extends React.Component {\r\n\r\n    determineRender = () => {\r\n        if(this.props.conditionIn()) return this.props.render;\r\n        else return this.props.redirectRender;\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Route  path={this.props.path}\r\n                    render={this.determineRender()}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n","import './App.css';\r\nimport React from 'react';\r\nimport Login from './components/login';\r\nimport Layout from './components/layout';\r\nimport Main from './components/main';\r\nimport Notify from './components/notify';\r\nimport ProtectedRoute from './components/protectedRoute';\r\nimport {  Switch , Route , Redirect  } from 'react-router-dom'; \r\nimport { User, computeHmac } from './userTypes.js'\r\n\r\nclass App extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        console.log('======== APP constructor');\r\n        this.state = {\r\n            logged : (localStorage.getItem('logged') === 'true') || false,\r\n            num_user : localStorage.getItem('num_user') || '',\r\n            username : localStorage.getItem('username') || '',\r\n            type_user : localStorage.getItem('type_user')|| null,\r\n            t_u: null,\r\n            t_t: null,\r\n        }\r\n        this.computedHash_USER = null;\r\n        this.computedHash_TECH_MAIN = null;\r\n        console.log('constructor', this.state);\r\n    }\r\n\r\n\r\n    setCredentials = (cred) => {\r\n        this.computedHash_TECH_MAIN = null;\r\n        this.computedHash_USER = null;\r\n        this.setState({\r\n            logged : cred.logged,\r\n            num_user : cred.num_user,\r\n            username : cred.username,\r\n            type_user : cred.type_user,\r\n        });\r\n    }\r\n\r\n    logOut = () => {\r\n        this.setCredentials ( { \r\n            logged : false,\r\n            num_user : '',\r\n            username : '' ,\r\n            type_user : null,\r\n        });\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //computing t_u , t_t ,\r\n        //session is ini in constructor\r\n        console.log('======= APP component did mount , state ' , this.state);\r\n        let computedHash_USER;\r\n        let computedHash_TECH_MAIN;\r\n        let lastLogged = (localStorage.getItem('logged') === 'true');\r\n        if( lastLogged ) {\r\n            console.log('compute hmac for user , tech_main');\r\n            computedHash_USER       = await computeHmac(User.USER.code, this.state.username);\r\n            computedHash_TECH_MAIN  = await computeHmac(User.TECH_MAIN.code, this.state.username);\r\n            console.log(' after compute ' , computedHash_USER , computedHash_TECH_MAIN);\r\n            this.setState({\r\n                t_u : computedHash_USER,\r\n                t_t : computedHash_TECH_MAIN,\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    async shouldComponentUpdate(nextProps,nextState){\r\n        console.log('==== APP shouldComponentUpdate  state',nextState);\r\n        //if we go from no logged to logged , need to re-compute t_u and t_t\r\n        if( this.state.logged !== nextState.logged ){\r\n            console.log('compute hmac for user , tech_main');\r\n            let computedHash_USER;\r\n            let computedHash_TECH_MAIN;\r\n            if( !nextState.logged ) {\r\n                //nextState is not logged , we are disconnecting\r\n                //no need to compute just nullify\r\n                computedHash_USER = null;\r\n                computedHash_TECH_MAIN = null;\r\n\r\n            }else{\r\n                computedHash_USER       = await computeHmac(User.USER.code,nextState.username);\r\n                computedHash_TECH_MAIN  = await computeHmac(User.TECH_MAIN.code, nextState.username);\r\n            }\r\n            console.log(' after compute ' , computedHash_USER , computedHash_TECH_MAIN);\r\n            this.setState({\r\n                t_u : computedHash_USER,\r\n                t_t : computedHash_TECH_MAIN,\r\n            });\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        console.log('==== APP componentDidUpdate ');\r\n        localStorage.setItem('logged',this.state.logged);\r\n        localStorage.setItem('num_user',this.state.num_user);\r\n        localStorage.setItem('username', this.state.username);\r\n        localStorage.setItem('type_user',this.state.type_user);\r\n    }\r\n    \r\n    render(){\r\n        console.log('===== APP render');\r\n        console.log('state ', this.state);\r\n\r\n        //function for changing redirect according to type_ser and logged\r\n        const determineRootRedirect = () => { \r\n            console.log('==== determineRootRedirect function ');\r\n            console.log( 'state in determineRootRedirect ', this.state);\r\n            console.log(' computedhash ' , this.state.t_u , this.state.t_t);\r\n            \r\n            if(this.state.logged){\r\n                console.log(' logged');\r\n                if(this.state.type_user === this.state.t_u) return '/notify';\r\n                if(this.state.type_user === this.state.t_t) return '/acim';\r\n            }\r\n            console.log('no logged');\r\n            console.log('==== end determineRootRedirect ');\r\n            return '/login';\r\n        }\r\n        const redirectTo = determineRootRedirect();\r\n        console.log('redirectTo ' , redirectTo);\r\n\r\n        let session;\r\n        if(this.state.logged){\r\n            //configure session\r\n            session = {\r\n                num_user : this.state.num_user,\r\n                username : this.state.username,\r\n                type_user : this.state.type_user,\r\n             }\r\n        }\r\n        console.log('=== end of render appp');\r\n\r\n        return (\r\n        <Layout>\r\n            <div className=\"App\">\r\n                <Switch>\r\n                    <ProtectedRoute path=\"/login\"\r\n                                    conditionIn={ () => {\r\n                                        if( !this.state.logged ) return true;\r\n                                        else return false;\r\n                                    }}\r\n                                    render={ (routeProps) => \r\n                                        <Login { ... routeProps} setCredentials={this.setCredentials} />\r\n                                    }\r\n                                    redirectRender={ (routeProps) =>\r\n                                        <Redirect to={redirectTo}/>\r\n                                    }\r\n                    />\r\n\r\n\r\n                    <ProtectedRoute path=\"/acim\"\r\n                                    conditionIn={ () => {\r\n                                        if(this.state.logged && this.state.type_user === this.state.t_t) return true ;\r\n                                        else return false;\r\n                                    }}\r\n                                    render={ (routeProps) => \r\n                                        <Main { ... routeProps } session={session} logOut={this.logOut} />\r\n                                    }\r\n                                    redirectRender={ (routeProps) =>\r\n                                        <Redirect to={redirectTo} />\r\n                                    }\r\n                    /> \r\n                    \r\n                    <ProtectedRoute path=\"/notify\"\r\n                        conditionIn={ () => {\r\n                            if(this.state.logged && this.state.type_user === this.state.t_u ) return true;\r\n                            else return false;\r\n                        }}\r\n                        render={ (routeProps) =>\r\n                            <Notify {... routeProps} session={session} logOut = {this.logOut}/>\r\n                        }\r\n                        redirectRender={ (routeProps) =>\r\n                            <Redirect to={redirectTo} />\r\n                        }\r\n                    />\r\n                    \r\n\r\n                    <Route path=\"/info\">\r\n                        <dl>\r\n                            <dt> a.c.i.m.i </dt>\r\n                            <dd> Application de Coordination des Interventions de Maintenance Informatiques</dd>\r\n                        </dl>\r\n                    </Route>\r\n\r\n                    <Redirect   from=\"/\" \r\n                                to= \"/login\"/> \r\n                    \r\n                </Switch>\r\n            </div>\r\n        </Layout>\r\n        );\r\n    }\r\n}\r\n                    //<Route path=\"/notify\" render={ (routeProps) => <Notify {... routeProps} session={session} logOut = {this.logOut} /> }/>\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n        <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}